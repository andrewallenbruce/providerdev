{
  "hash": "1095b4cf26b4de59acd0c4a138c44e12",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Backend Preload\"\neditor_options: \n   chunk_output_type: console\n---\n\n\n\n### `class_Identifier`\n\n::: {.cell}\n\n```{.r .cell-code}\nclass_Identifier <- new_class(\n  name       = \"class_Identifier\",\n  properties = list(\n    url      = new_property(\n      class  = NULL | class_list,\n      setter = function(self, value) {\n        if (not_null(value)) {\n          self@url <- url_parse(value)\n          self\n        }}),\n    totalRows = new_property(\n      class  = NULL | class_integer,\n      getter = function(self) {\n        if (not_null(self@url)) {\n          url_build(self@url) |>\n            request() |>\n            req_url_path_append(\"stats\") |>\n            req_perform() |>\n            resp_body_json(simplifyVector = TRUE) |>\n            gelm(\"total_rows\")\n        }})\n    )\n)\n```\n:::\n\n### `class_Resources`\n\n::: {.cell}\n\n```{.r .cell-code}\nex_url <- paste0(\n  \"https://data.cms.gov/\",\n  \"data-api/v1/\",\n  \"dataset-resources/\",\n  \"7dcf9ea6-ee2f-4bf1-8b5d-39c18b0e8541\"\n  )\n\nget_resources <- function(x) {\n  \n  fload(x, query = \"/data\") |> \n    as_tbl() |>\n    fcompute(file = name,\n             size = roundup(fileSize / 1e6),\n             ext = tools::file_ext(downloadURL),\n             downloadurl = downloadURL) |> \n    roworder(ext, -size)\n}\n\nclass_resources <- new_class(\n  name       = \"class_resources\",\n  properties = list(\n    url      = class_character,\n    files    = new_property(\n      class  = class_list,\n      getter = function(self)\n        fload(self@url, query = \"/data\") |>\n        cheapr::as_df() |>\n        fcompute(\n          file         = name,\n          size         = roundup(fileSize / 1e6),\n          ext          = tools::file_ext(downloadURL),\n          downloadurl  = downloadURL) |>\n        roworder(ext, -size)\n      )\n    ),\n  validator = function(self) \n    if (length(self@url) != 1L) \"must be length 1\"\n)\n\nget_resources(ex_url)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 4\n  file                                                    size ext   downloadurl\n  <chr>                                                  <dbl> <chr> <chr>      \n1 Medicare FFS Public Provider Enrollment Q4 2024       317.   csv   https://da…\n2 Reassignment Sub-File 2024 Q4                         112.   csv   https://da…\n3 Address Sub-File 2024 Q4                               43.1  csv   https://da…\n4 Secondary Specialty Sub-File 2024 Q4                   28.3  csv   https://da…\n5 Medicare Fee-For-Service Public Provider Enrollment …   0.56 pdf   https://da…\n6 Medicare FFS  Public Provider Enrollment Methodology    0.06 pdf   https://da…\n7 Medicare Fee-For-Service Public Provider Enrollment …   0.03 pdf   https://da…\n```\n\n\n:::\n\n```{.r .cell-code}\nx <- class_resources(ex_url)\n\nx@files |> \n  as_tbl()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 4\n  file                                                    size ext   downloadurl\n  <chr>                                                  <dbl> <chr> <chr>      \n1 Medicare FFS Public Provider Enrollment Q4 2024       317.   csv   https://da…\n2 Reassignment Sub-File 2024 Q4                         112.   csv   https://da…\n3 Address Sub-File 2024 Q4                               43.1  csv   https://da…\n4 Secondary Specialty Sub-File 2024 Q4                   28.3  csv   https://da…\n5 Medicare Fee-For-Service Public Provider Enrollment …   0.56 pdf   https://da…\n6 Medicare FFS  Public Provider Enrollment Methodology    0.06 pdf   https://da…\n7 Medicare Fee-For-Service Public Provider Enrollment …   0.03 pdf   https://da…\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nclass_API <- new_class(\n  name = \"class_API\",\n  properties = list(\n    title              = class_character,\n    description        = class_character,\n    accrualPeriodicity = class_character,\n    modified           = new_property(class_double | class_Date),\n    temporal           = class_character,\n    identifier         = class_Identifier,\n    accessURL          = new_property(\n      NULL | class_list, \n      setter = \\(self, value) { \n        if (not_null(value)) { \n          self@accessURL <- request(value); \n          self \n          }\n        }),\n    resourcesAPI       = class_resources,\n    downloadURL        = class_character,\n    describedBy        = class_character,\n    landingPage        = class_character\n  )\n)\n```\n:::\n\n\n--------------------------------------------------------------------------------\n\n## Catalog\n\n::: {.cell}\n\n```{.r .cell-code}\nmain <- main_data_rcpp()\n\nmain\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$context\n[1] \"https://project-open-data.cio.gov/v1.1/schema/catalog.jsonld\"\n\n$id\n[1] \"https://data.cms.gov/data.json\"\n\n$type\n[1] \"dcat:Catalog\"\n\n$conformsTo\n[1] \"https://project-open-data.cio.gov/v1.1/schema\"\n\n$describedBy\n[1] \"https://project-open-data.cio.gov/v1.1/schema/catalog.json\"\n\n$dataset\n# A tibble: 139 × 21\n   type       accessLevel accrualPeriodicity bureauCode contactPoint describedBy\n   <chr>      <chr>       <chr>              <chr>      <list>       <chr>      \n 1 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 2 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 3 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 4 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 5 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 6 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 7 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 8 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n 9 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n10 dcat:Data… public      R/P1Y              009:38     <named list> https://da…\n# ℹ 129 more rows\n# ℹ 15 more variables: dataQuality <lgl>, description <chr>, identifier <chr>,\n#   keyword <chr>, landingPage <chr>, language <chr>, license <chr>,\n#   modified <chr>, programCode <chr>, publisher <list>, references <chr>,\n#   temporal <chr>, theme <chr>, title <chr>, describedByType <chr>\n\n$distribution_latest\n# A tibble: 112 × 8\n   type        format accessURL resourcesAPI description title modified temporal\n   <chr>       <chr>  <chr>     <chr>        <chr>       <chr> <chr>    <chr>   \n 1 dcat:Distr… API    https://… https://dat… latest      Acco… 2025-01… 2025-01…\n 2 dcat:Distr… API    https://… https://dat… latest      Acco… 2025-01… 2025-01…\n 3 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 4 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 5 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 6 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 7 dcat:Distr… API    https://… https://dat… latest      Adva… 2024-01… 2024-01…\n 8 dcat:Distr… API    https://… https://dat… latest      Agen… 2020-12… 2016-01…\n 9 dcat:Distr… API    https://… https://dat… latest      Comp… 2021-01… 2020-01…\n10 dcat:Distr… API    https://… https://dat… latest      Coun… 2024-12… 2023-01…\n# ℹ 102 more rows\n\n$distribution_api\n# A tibble: 1,698 × 7\n   type              format accessURL       resourcesAPI title modified temporal\n   <chr>             <chr>  <chr>           <chr>        <chr> <chr>    <chr>   \n 1 dcat:Distribution API    https://data.c… https://dat… Acco… 2025-01… 2025-01…\n 2 dcat:Distribution API    https://data.c… https://dat… Acco… 2024-01… 2024-01…\n 3 dcat:Distribution API    https://data.c… https://dat… Acco… 2023-03… 2023-01…\n 4 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2022-01…\n 5 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2021-01…\n 6 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2020-01…\n 7 dcat:Distribution API    https://data.c… https://dat… Acco… 2024-01… 2019-01…\n 8 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2019-01…\n 9 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2018-01…\n10 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2017-01…\n# ℹ 1,688 more rows\n\n$distribution_csv\n# A tibble: 1,676 × 7\n   type              resourcesAPI  title modified temporal downloadURL mediaType\n   <chr>             <chr>         <chr> <chr>    <chr>    <chr>       <chr>    \n 1 dcat:Distribution https://data… Acco… 2025-01… 2025-01… https://da… text/csv \n 2 dcat:Distribution https://data… Acco… 2024-01… 2024-01… https://da… text/csv \n 3 dcat:Distribution https://data… Acco… 2023-03… 2023-01… https://da… text/csv \n 4 dcat:Distribution https://data… Acco… 2022-01… 2022-01… https://da… text/csv \n 5 dcat:Distribution https://data… Acco… 2025-01… 2025-01… https://da… text/csv \n 6 dcat:Distribution https://data… Acco… 2024-04… 2024-01… https://da… text/csv \n 7 dcat:Distribution https://data… Acco… 2023-03… 2023-01… https://da… text/csv \n 8 dcat:Distribution https://data… Acco… 2022-01… 2022-01… https://da… text/csv \n 9 dcat:Distribution https://data… ACO … 2024-01… 2021-01… https://da… text/csv \n10 dcat:Distribution https://data… ACO … 2024-01… 2021-01… https://da… text/csv \n# ℹ 1,666 more rows\n```\n\n\n:::\n:::\n\n### Dataset\n\n::: {.cell}\n\n```{.r .cell-code}\nmain[[\"dataset\"]] |> \n  tidyr::unnest_wider(contactPoint, names_sep = \"_\") |>\n  tidyr::unnest_wider(publisher, names_sep = \"_\") |> \n  collapse::frename(remove_at_symbol) |> \n  remove_all_na() |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $type                  c139 dcat:Dataset                                  ...\n- $accessLevel           c139 public                                        ...\n- $accrualPeriodicity    c139 R/P1Y                                         ...\n- $bureauCode            c139 009:38                                        ...\n- $contactPoint_type     c139 vcard:Contact                                 ...\n- $contactPoint_fn       c139 Shared Savings Program - CM                   ...\n- $contactPoint_hasEmail c139 mailto:SharedSavingsProgram@cms.hhs.gov       ...\n- $describedBy           c139 https://data.cms.gov/resources/accountable-ca ...\n- $dataQuality           l139 T                                             ...\n- $description           c139 The Accountable Care Organization Participant ...\n- $identifier            c139 https://data.cms.gov/data-api/v1/dataset/9767 ...\n- $keyword               c139 Medicare, Value-Based Care, Coordinated Care, ...\n- $landingPage           c139 https://data.cms.gov/medicare-shared-savings- ...\n- $language              c139 en-US                                         ...\n- $license               c139 https://www.usa.gov/government-works          ...\n- $modified              c139 2025-01-15                                    ...\n- $programCode           c139 009:000                                       ...\n- $publisher_type        c139 org:Organization                              ...\n- $publisher_name        c139 Centers for Medicare & Medicaid Services      ...\n- $references            c139 https://data.cms.gov/resources/acos-aco-parti ...\n- $temporal              c139 2014-01-01/2025-12-31                         ...\n- $theme                 c139 Medicare                                      ...\n- $title                 c139 Accountable Care Organization Participants    ...\n- $describedByType       c139 NA                                            ...\n```\n\n\n:::\n:::\n\n### Distribution\n\n`\"latest\"`\n\n::: {.cell}\n\n```{.r .cell-code}\nmain[[\"distribution_latest\"]]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 112 × 8\n   type        format accessURL resourcesAPI description title modified temporal\n   <chr>       <chr>  <chr>     <chr>        <chr>       <chr> <chr>    <chr>   \n 1 dcat:Distr… API    https://… https://dat… latest      Acco… 2025-01… 2025-01…\n 2 dcat:Distr… API    https://… https://dat… latest      Acco… 2025-01… 2025-01…\n 3 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 4 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 5 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 6 dcat:Distr… API    https://… https://dat… latest      ACO … 2024-01… 2021-01…\n 7 dcat:Distr… API    https://… https://dat… latest      Adva… 2024-01… 2024-01…\n 8 dcat:Distr… API    https://… https://dat… latest      Agen… 2020-12… 2016-01…\n 9 dcat:Distr… API    https://… https://dat… latest      Comp… 2021-01… 2020-01…\n10 dcat:Distr… API    https://… https://dat… latest      Coun… 2024-12… 2023-01…\n# ℹ 102 more rows\n```\n\n\n:::\n:::\n\n`\"API\"`\n\n::: {.cell}\n\n```{.r .cell-code}\nmain[[\"distribution_api\"]]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,698 × 7\n   type              format accessURL       resourcesAPI title modified temporal\n   <chr>             <chr>  <chr>           <chr>        <chr> <chr>    <chr>   \n 1 dcat:Distribution API    https://data.c… https://dat… Acco… 2025-01… 2025-01…\n 2 dcat:Distribution API    https://data.c… https://dat… Acco… 2024-01… 2024-01…\n 3 dcat:Distribution API    https://data.c… https://dat… Acco… 2023-03… 2023-01…\n 4 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2022-01…\n 5 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2021-01…\n 6 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2020-01…\n 7 dcat:Distribution API    https://data.c… https://dat… Acco… 2024-01… 2019-01…\n 8 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2019-01…\n 9 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2018-01…\n10 dcat:Distribution API    https://data.c… https://dat… Acco… 2022-01… 2017-01…\n# ℹ 1,688 more rows\n```\n\n\n:::\n:::\n\n`\"text/csv\"`\n\n::: {.cell}\n\n```{.r .cell-code}\nmain[[\"distribution_csv\"]]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,676 × 7\n   type              resourcesAPI  title modified temporal downloadURL mediaType\n   <chr>             <chr>         <chr> <chr>    <chr>    <chr>       <chr>    \n 1 dcat:Distribution https://data… Acco… 2025-01… 2025-01… https://da… text/csv \n 2 dcat:Distribution https://data… Acco… 2024-01… 2024-01… https://da… text/csv \n 3 dcat:Distribution https://data… Acco… 2023-03… 2023-01… https://da… text/csv \n 4 dcat:Distribution https://data… Acco… 2022-01… 2022-01… https://da… text/csv \n 5 dcat:Distribution https://data… Acco… 2025-01… 2025-01… https://da… text/csv \n 6 dcat:Distribution https://data… Acco… 2024-04… 2024-01… https://da… text/csv \n 7 dcat:Distribution https://data… Acco… 2023-03… 2023-01… https://da… text/csv \n 8 dcat:Distribution https://data… Acco… 2022-01… 2022-01… https://da… text/csv \n 9 dcat:Distribution https://data… ACO … 2024-01… 2021-01… https://da… text/csv \n10 dcat:Distribution https://data… ACO … 2024-01… 2021-01… https://da… text/csv \n# ℹ 1,666 more rows\n```\n\n\n:::\n:::\n\n### `S7` Sketches\n\n#### `class_distribution`\n\n::: {.cell}\n\n```{.r .cell-code}\nclass_distribution <- new_class(\n  name           = \"class_distribution\",\n  properties     = list(\n    title        = class_character,\n    description  = class_character,\n    format       = class_character,\n    accessurl    = class_character,\n    resources    = class_resources,\n    modified     = class_Date,\n    temporal     = class_character,\n    downloadurl  = class_character,\n    mediaType    = class_character\n    )\n  )\n\nclass_distribution\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<class_distribution> class\n@ parent     : <S7_object>\n@ constructor: function(title, description, format, accessurl, resources, modified, temporal, downloadurl, mediaType) {...}\n@ validator  : <NULL>\n@ properties :\n $ title      : <character>      \n $ description: <character>      \n $ format     : <character>      \n $ accessurl  : <character>      \n $ resources  : <class_resources>\n $ modified   : S3<Date>         \n $ temporal   : <character>      \n $ downloadurl: <character>      \n $ mediaType  : <character>      \n```\n\n\n:::\n:::\n\n#### `class_dataset`\n\n::: {.cell}\n\n```{.r .cell-code}\nclass_dataset <- new_class(\n  name = \"class_dataset\",\n  properties = list(\n    title        = class_character,\n    periodicity  = class_character,\n    contact      = class_character,\n    dictionary   = class_character,\n    description  = class_character,\n    distribution = class_distribution,\n    identifier   = class_character,\n    site         = class_character,\n    issued       = class_Date,\n    modified     = class_Date,\n    released     = class_Date,\n    references   = class_character,\n    temporal     = class_character,\n    group        = class_character\n  ))\n\nclass_dataset\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<class_dataset> class\n@ parent     : <S7_object>\n@ constructor: function(title, periodicity, contact, dictionary, description, distribution, identifier, site, issued, modified, released, references, temporal, group) {...}\n@ validator  : <NULL>\n@ properties :\n $ title       : <character>         \n $ periodicity : <character>         \n $ contact     : <character>         \n $ dictionary  : <character>         \n $ description : <character>         \n $ distribution: <class_distribution>\n $ identifier  : <character>         \n $ site        : <character>         \n $ issued      : S3<Date>            \n $ modified    : S3<Date>            \n $ released    : S3<Date>            \n $ references  : <character>         \n $ temporal    : <character>         \n $ group       : <character>         \n```\n\n\n:::\n:::\n\n#### `class_catalog`\n\n::: {.cell}\n\n```{.r .cell-code}\nclass_catalog <- new_class(\n  name = \"class_catalog\",\n  properties = list(\n    groups = class_list),\n  validator = function(self) \n    if (!rlang::is_named(self@groups)) \"all @groups must be named\"\n  )\n\nclass_catalog(groups = list(a = 1))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<class_catalog>\n @ groups:List of 1\n .. $ a: num 1\n```\n\n\n:::\n\n```{.r .cell-code}\ntry(class_catalog(groups = list(1)))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nError : <class_catalog> object is invalid:\n- all @groups must be named\n```\n\n\n:::\n:::\n\n## Dataset Object\n\n::: {.cell}\n\n```{.r .cell-code}\nprovider_data() |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $accessLevel              c152 public                                     ...\n- $landingPage              c152 https://data.cms.gov/provider-data/dataset ...\n- $bureauCode               c152 009:38                                     ...\n- $issued                   c152 2020-03-14                                 ...\n- $type                     c152 dcat:Dataset                               ...\n- $modified                 c152 2024-12-21                                 ...\n- $released                 c152 2025-01-15                                 ...\n- $keyword                  c152 Quality, Quality Measures                  ...\n- $contactPoint_type        c152 vcard:Contact                              ...\n- $contactPoint_fn          c152 Dialysis Facility Helpdesk                 ...\n- $contactPoint_hasEmail    c152 mailto:DialysisData@umich.edu              ...\n- $contactPoint_hasURL      c152 NA                                         ...\n- $publisher_type           c152 org:Organization                           ...\n- $publisher_name           c152 Centers for Medicare & Medicaid Services ( ...\n- $identifier               c152 23ew-n7w9                                  ...\n- $description              c152 A list of all dialysis facilities register ...\n- $title                    c152 Dialysis Facility - Listing by Facility    ...\n- $programCode              c152 009:000                                    ...\n- $distribution_type        c152 dcat:Distribution                          ...\n- $distribution_downloadURL c152 https://data.cms.gov/provider-data/sites/d ...\n- $distribution_mediaType   c152 text/csv                                   ...\n- $distribution_title       c152 NA                                         ...\n- $theme                    c152 Dialysis facilities                        ...\n- $archiveExclude           l152 NA                                         ...\n```\n\n\n:::\n:::\n\n### National Downloadable File\n\n::: {.cell}\n\n```{.r .cell-code}\nhttr2::url_parse(\"https://data.cms.gov/provider-data/api/1/datastore/query/\")\n    \n# distro \n\nunclass(\n  httr2::url_parse(\n    \"?limit=1&offset=100&count=true&results=true&schema=true&keys=true&format=json&rowIds=true\"\n    )\n  )\n\nndf_identifier <- \\(x) {\n  kit::nswitch(x,\n    \"affiliations\", \"27ea-46a8\",\n    \"clinicians\", \"mj5m-pzi6\",\n    default = NA_character_,\n    nThread = 4L)\n}\n\nurl_ndf <- httr2::url_parse(\n  \"https://data.cms.gov/provider-data/api/1/metastore/schemas/dataset/items/\"\n  )\n\nurl_tmp <- url_ndf |> \n  httr2::url_build() |> \n  httr2::request()\n\nhttr2::req_template(\n  url_tmp, \n  \"/{fname}?show-reference-ids=true\", \n  fname = ndf_identifier(\"affiliations\"))\n\nurl_ndf |> \n  httr2::url_build() |> \n  httr2::request() |> \n  httr2::req_url_path_append(\n    ndf_identifier(fname)) |> \n  httr2::req_url_path_append(\"?show-reference-ids=true\") |>\n  httr2::req_perform() |>\n  httr2::resp_body_json(check_type = FALSE, simplifyVector = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_ndf <- \\(fname) {\n  \n  stopifnot(curl::has_internet())\n  \n  x <- request(\n    paste0(\n      \"https://data.cms.gov/\",\n      \"provider-data/api/1/\",\n      \"metastore/schemas/\",\n      \"dataset/items/\",\n      switch(fname, \n             affiliations = \"27ea-46a8\", \n             clinicians   = \"mj5m-pzi6\", \n             stop(\"Invalid argument\")),\n    \"?show-reference-ids=true\")) |>\n       req_perform() |>\n       resp_body_json(\n         check_type     = FALSE,\n         simplifyVector = TRUE)\n  \n  distro <- gelm(gelm(x, \"distribution\"), \"identifier\")\n  \n  y <- request(\n    paste0(\n    \"https://data.cms.gov/\", \n    \"provider-data/api/1/\",\n    \"datastore/query/\", \n    distro, \n    \"?limit=1&offset=100&\",\n    \"count=true&results=true&\", \n    \"schema=true&keys=true&\",\n    \"format=json&rowIds=true\")) |>\n       req_perform() |>\n       resp_body_json(\n         check_type = FALSE,\n         simplifyVector = TRUE)\n  \n  z <- gelm(gelm(gelm(y, \"schema\"), distro), \"fields\")\n  \n  list(\n    title        = gelm(x, \"title\"),\n    description  = gelm(x, \"description\"),\n    identifier   = gelm(gelm(x, \"identifier\"), \"identifier\"),\n    distribution = distro,\n    issued       = gelm(x, \"issued\"), \n    modified     = gelm(x, \"modified\")[[1]], \n    released     = gelm(x, \"released\"),\n    dimensions   = paste0(gelm(gelm(y, \"count\"), is.numeric), \" x \", gelm(gelm(z, \"record_number\"), \"length\")), \n    fields       = names(z),\n    site         = gelm(x, \"landingPage\"),\n    csv          = gelm(gelm(gelm(x, \"distribution\"), \"data\"), \"downloadURL\", m = \"df\"),\n    dictionary   = paste0(\"https://data.cms.gov/provider-data/sites/default/files/data_dictionaries/physician/DOC_Data_Dictionary.pdf\"))\n  \n}\n```\n:::\n\n### Examples\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_ndf(\"affiliations\") |> purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $title        c1  Facility Affiliation Data\n- $description  c1  This is the facility affiliations data publicly reporte ...\n- $identifier   c1  27ea-46a8\n- $distribution c1  9b2443c2-d2d8-5667-98bb-fa9380955471\n- $issued       c1  2023-08-17\n- $modified     c1  2025-01-31\n- $released     c1  2025-02-13\n- $dimensions   c1  1564992 x 10\n- $fields       c10 record_number npi ind_pac_id provider_last_name provide ...\n- $site         c1  https://data.cms.gov/provider-data/dataset/27ea-46a8\n- $csv          c1  https://data.cms.gov/provider-data/sites/default/files/ ...\n- $dictionary   c1  https://data.cms.gov/provider-data/sites/default/files/ ...\n```\n\n\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_ndf(\"clinicians\") |> purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $title        c1  National Downloadable File\n- $description  c1  The Doctors and Clinicians national downloadable file i ...\n- $identifier   c1  mj5m-pzi6\n- $distribution c1  02e2d0d9-684f-5c79-86d7-6d69834dcf0b\n- $issued       c1  2023-08-17\n- $modified     c1  2025-01-31\n- $released     c1  2025-02-13\n- $dimensions   c1  2610829 x 10\n- $fields       c32 record_number npi ind_pac_id ind_enrl_id provider_last_ ...\n- $site         c1  https://data.cms.gov/provider-data/dataset/mj5m-pzi6\n- $csv          c1  https://data.cms.gov/provider-data/sites/default/files/ ...\n- $dictionary   c1  https://data.cms.gov/provider-data/sites/default/files/ ...\n```\n\n\n:::\n:::\n",
    "supporting": [
      "wk_backend_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}