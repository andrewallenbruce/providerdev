{
  "hash": "fe52f97bfb905af6ce8d6d38a5d406fc",
  "result": {
    "engine": "knitr",
    "markdown": "---\neditor_options: \n   chunk_output_type: console\n---\n\n\n\n# Summary Dashboard {#sec-opendash}\n\n### Metadata\n\n\n::: {.cell}\n<pre class=\"r-output\"><code>    [ROWS] 90 \n  [FIELDS] 10 \n[MODIFIED] 2025-01-30 \n[DOWNLOAD] https://download.cms.gov/openpayments/SMRY_RPTS_P01302025_01212025/PBLCTN_DSHBRD_P01302025_01212025.csv \n</code></pre>\n:::\n\n\n## Data\n\n\n::: {.cell}\n<pre class=\"r-output\"><code><span style='color: #555555;'># A tibble: 90 × 10</span>\n   dashboard_row_number data_metrics     py_2017 py_2018 py_2019 py_2020 py_2021\n   <span style='color: #555555; font-style: italic;'><chr></span>                <span style='color: #555555; font-style: italic;'><chr></span>            <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>  \n<span style='color: #555555;'> 1</span> 2                    Total Dollar Am… 998344… 109882… 118794… 100519… 124674…\n<span style='color: #555555;'> 2</span> 3                    Total Dollar Am… 296470… 311980… 371116… 218672… 325478…\n<span style='color: #555555;'> 3</span> 4                    Total Dollar Am… 160510… 231246… 748979… 184671… 237104…\n<span style='color: #555555;'> 4</span> 5                    Total Dollar Am… 296309… 311749… 371041… 218487… 325240…\n<span style='color: #555555;'> 5</span> 6                    Total Dollar Am… 594550… 621907… 654725… 648136… 766416…\n<span style='color: #555555;'> 6</span> 7                    Total Dollar Am… 139533… 155362… 176525… 169179… 174644…\n<span style='color: #555555;'> 7</span> 8                    Total Dollar Am… 455016… 466545… 478199… 478957… 591771…\n<span style='color: #555555;'> 8</span> 9                    Total Dollar Am… 466174… 477411… 488186… 487109… 599788…\n<span style='color: #555555;'> 9</span> 10                   Total Dollar Am… 455016… 466545… 478199… 478957… 591814…\n<span style='color: #555555;'>10</span> 11                   Total Dollar Am… 362794… 275792… 799696… 496954… 140845…\n<span style='color: #555555;'># ℹ 80 more rows</span>\n<span style='color: #555555;'># ℹ 3 more variables: py_2022 <chr>, py_2023 <chr>, total <chr></span>\n</code></pre>\n:::\n\n\n## Tidyup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- resp |> \n    mtt(\n      metric = data_metrics,\n      type   = case(\n        grepl(\"^Total Number of\", metric, perl = TRUE)              ~ \"count\",\n        grepl(\"^Total Dollar Amount of\", metric, perl = TRUE)       ~ \"dollar\",\n        grepl(\"^Total Dollar Amount Invested\", metric, perl = TRUE) ~ \"invest\",\n        grepl(\"^Total value of interest\", metric, perl = TRUE)      ~ \"value\"),\n      data_metrics         = NULL,\n      dashboard_row_number = NULL) |>\n    rsplit(~ type)\n\n  x$count <-  mtt(\n    x$count,\n    metric = gsub(\"^Total Number of \", \"\", metric, perl = TRUE),\n    metric = gsub(\"^all \", \"\", metric, perl = TRUE),\n    type   = cheapr_if_else(grepl(\"^Payment Records\", metric, perl = TRUE), \"record\", \"entity\")) |>\n    rsplit( ~ type)\n\n  x$count$entity <- rnm(\n    x$count$entity,\n    `2017` = py_2017,\n    `2018` = py_2018,\n    `2019` = py_2019,\n    `2020` = py_2020,\n    `2021` = py_2021,\n    `2022` = py_2022,\n    `2023` = py_2023,\n    ALL = total) |>\n    mtt(\n      metric = gsub(\"Companies Making Payments \\\\(AM/GPO Making Payment\\\\)\",\n                    \"Companies [AM/GPO] Making Payments\", metric, perl = TRUE),\n      metric = gsub(\"Physician Covered Recipients with associated payment records\",\n                    \"Physicians with Payment Records\", metric, perl = TRUE),\n      metric = gsub(\"Non-Physician Practitioner Covered Recipients with associated payment records\",\n                    \"NPPs with Payment Records\", metric, perl = TRUE),\n      metric = gsub(\"Teaching Hospitals with associated payment records\",\n                    \"Teaching Hospitals with Payment Records\", metric, perl = TRUE)) |>\n    pivot(ids = \"metric\", names = list(\"year\", \"count\")) |>\n    roworder(metric, -year) |>\n    colorder(year) |>\n    mtt(count = as.integer(count)) |>\n    as_tbl()\n\n  x$count$record <- rnm(\n    x$count$record,\n    `2017` = py_2017,\n    `2018` = py_2018,\n    `2019` = py_2019,\n    `2020` = py_2020,\n    `2021` = py_2021,\n    `2022` = py_2022,\n    `2023` = py_2023,\n    ALL = total\n  ) |>\n    mtt(\n      type = case(\n        grepl(\"General Payments\", metric, perl = TRUE) ~ \"General\",\n        grepl(\"Research Payments\", metric, perl = TRUE) ~ \"Research\",\n        grepl(\"Ownership Payments\", metric, perl = TRUE) ~ \"Ownership\",\n        .default = \"All\"\n      ),\n      status = case(\n        grepl(\"Disputed\", metric, perl = TRUE) ~ \"Disputed\",\n        grepl(\"Undisputed\", metric, perl = TRUE) ~ \"Undisputed\"\n      ),\n      entity = case(\n        grepl(\"- Covered Recipient\", metric, perl = TRUE) ~ \"Covered Recipient\",\n        grepl(\"- Non-Covered Recipient\", metric, perl = TRUE) ~ \"Non-Covered Recipient\",\n        grepl(\"- Physician or Non-Covered Recipient\", metric, perl = TRUE) ~ \"Physician or Non-Covered Recipient\",\n        grepl(\n          \"- Non-Physician Practitioner or Non-Covered Recipient\",\n          metric,\n          perl = TRUE\n        ) ~ \"Non-Physician Practitioner or Non-Covered Recipient\",\n        grepl(\" to Physicians\", metric, perl = TRUE) ~ \"Physician\",\n        grepl(\" to Non-Physician Practitioners\", metric, perl = TRUE) ~ \"Non-Physician Practitioner\",\n        grepl(\" to Teaching Hospitals\", metric, perl = TRUE) ~ \"Teaching Hospital\",\n        grepl(\" - Non-Covered Recipient Entity\", metric, perl = TRUE) ~ \"Non-Covered Recipient Entity\",\n        grepl(\" - Non-Covered Recipient Individual\", metric, perl = TRUE) ~ \"Non-Covered Recipient Individual\"\n      ),\n      metric = NULL\n    ) |>\n    pivot(ids = c(\"type\", \"status\", \"entity\"),\n          names = list(\"year\", \"count\")) |>\n    roworder(type, -year) |>\n    colorder(year, type, entity) |>\n    mtt(count = as.integer(count)) |>\n    as_tbl()\n\n  x$invest <- mtt(\n    x$invest,\n    metric = gsub(\"^Total Dollar Amount Invested of all Payment Records \", \"\", metric, perl = TRUE),\n    metric = gsub(\"^-\\\\s\", \"\", metric, perl = TRUE))\n\n  x$value <- mtt(\n    x$value,\n    metric = gsub(\"^Total value of interest of all Payment Records \", \"\", metric, perl = TRUE),\n    metric = gsub(\"^-\\\\s\", \"\", metric, perl = TRUE))\n\n  x$dollar <- mtt(\n    x$dollar,\n    metric = gsub(\"^Total Dollar Amount of \", \"\", metric, perl = TRUE),\n    metric = gsub(\"^all \", \"\", metric, perl = TRUE))\nx\n```\n\n<pre class=\"r-output\"><code>$count\n$count$entity\n<span style='color: #555555;'># A tibble: 32 × 3</span>\n   year  metric                              count\n <span style='color: #555555;'>*</span> <span style='color: #555555; font-style: italic;'><fct></span> <span style='color: #555555; font-style: italic;'><chr></span>                               <span style='color: #555555; font-style: italic;'><int></span>\n<span style='color: #555555;'> 1</span> ALL   Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>2</span>843\n<span style='color: #555555;'> 2</span> 2023  Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>1</span>776\n<span style='color: #555555;'> 3</span> 2022  Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>1</span>858\n<span style='color: #555555;'> 4</span> 2021  Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>1</span>855\n<span style='color: #555555;'> 5</span> 2020  Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>1</span>779\n<span style='color: #555555;'> 6</span> 2019  Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>1</span>797\n<span style='color: #555555;'> 7</span> 2018  Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>1</span>755\n<span style='color: #555555;'> 8</span> 2017  Companies [AM/GPO] Making Payments   <span style='text-decoration: underline;'>1</span>678\n<span style='color: #555555;'> 9</span> ALL   NPPs with Payment Records          <span style='text-decoration: underline;'>414</span>900\n<span style='color: #555555;'>10</span> 2023  NPPs with Payment Records          <span style='text-decoration: underline;'>309</span>427\n<span style='color: #555555;'># ℹ 22 more rows</span>\n\n$count$record\n<span style='color: #555555;'># A tibble: 320 × 5</span>\n   year  type  entity                     status    count\n <span style='color: #555555;'>*</span> <span style='color: #555555; font-style: italic;'><fct></span> <span style='color: #555555; font-style: italic;'><chr></span> <span style='color: #555555; font-style: italic;'><chr></span>                      <span style='color: #555555; font-style: italic;'><chr></span>     <span style='color: #555555; font-style: italic;'><int></span>\n<span style='color: #555555;'> 1</span> ALL   All   <span style='color: #BB0000;'>NA</span>                         <span style='color: #BB0000;'>NA</span>     84<span style='text-decoration: underline;'>035</span>057\n<span style='color: #555555;'> 2</span> ALL   All   Physician                  <span style='color: #BB0000;'>NA</span>     65<span style='text-decoration: underline;'>341</span>949\n<span style='color: #555555;'> 3</span> ALL   All   Non-Physician Practitioner <span style='color: #BB0000;'>NA</span>     12<span style='text-decoration: underline;'>787</span>445\n<span style='color: #555555;'> 4</span> ALL   All   Teaching Hospital          <span style='color: #BB0000;'>NA</span>      1<span style='text-decoration: underline;'>131</span>236\n<span style='color: #555555;'> 5</span> 2023  All   <span style='color: #BB0000;'>NA</span>                         <span style='color: #BB0000;'>NA</span>     15<span style='text-decoration: underline;'>639</span>275\n<span style='color: #555555;'> 6</span> 2023  All   Physician                  <span style='color: #BB0000;'>NA</span>      9<span style='text-decoration: underline;'>630</span>514\n<span style='color: #555555;'> 7</span> 2023  All   Non-Physician Practitioner <span style='color: #BB0000;'>NA</span>      4<span style='text-decoration: underline;'>976</span>520\n<span style='color: #555555;'> 8</span> 2023  All   Teaching Hospital          <span style='color: #BB0000;'>NA</span>       <span style='text-decoration: underline;'>143</span>632\n<span style='color: #555555;'> 9</span> 2022  All   <span style='color: #BB0000;'>NA</span>                         <span style='color: #BB0000;'>NA</span>     14<span style='text-decoration: underline;'>277</span>900\n<span style='color: #555555;'>10</span> 2022  All   Physician                  <span style='color: #BB0000;'>NA</span>      9<span style='text-decoration: underline;'>036</span>995\n<span style='color: #555555;'># ℹ 310 more rows</span>\n\n\n$dollar\n<span style='color: #555555;'># A tibble: 35 × 9</span>\n   py_2017       py_2018    py_2019 py_2020 py_2021 py_2022 py_2023 total metric\n   <span style='color: #555555; font-style: italic;'><chr></span>         <span style='color: #555555; font-style: italic;'><chr></span>      <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span> <span style='color: #555555; font-style: italic;'><chr></span> \n<span style='color: #555555;'> 1</span> 9983443884.20 109882560… 118794… 100519… 124674… 127965… 126890… 7243… Payme…\n<span style='color: #555555;'> 2</span> 2964700222.32 311980393… 371116… 218672… 325478… 380973… 327760… 2232… Payme…\n<span style='color: #555555;'> 3</span> 1605102.03    2312465.96 748979… 184671… 237104… 206960… 122548… 1217… Payme…\n<span style='color: #555555;'> 4</span> 2963095120.29 311749147… 371041… 218487… 325240… 380766… 327637… 2231… Payme…\n<span style='color: #555555;'> 5</span> 5945500870.57 621907659… 654725… 648136… 766416… 783691… 807165… 4876… Payme…\n<span style='color: #555555;'> 6</span> 1395333630.70 155362520… 176525… 169179… 174644… 171621… 157933… 1144… Payme…\n<span style='color: #555555;'> 7</span> 4550167239.87 466545139… 478199… 478957… 591771… 612070… 649231… 3731… Payme…\n<span style='color: #555555;'> 8</span> 4661745514.93 477411500… 488186… 487109… 599788… 619872… 656340… 3794… Payme…\n<span style='color: #555555;'> 9</span> 4550167239.87 466545139… 478199… 478957… 591814… 612112… 649284… 3731… Payme…\n<span style='color: #555555;'>10</span> 3627948.41    2757924.06 799696… 496954… 140845… 571428… 208709… 3404… Payme…\n<span style='color: #555555;'># ℹ 25 more rows</span>\n\n$invest\n<span style='color: #555555;'># A tibble: 5 × 9</span>\n  py_2017      py_2018      py_2019 py_2020 py_2021 py_2022 py_2023 total metric\n  <span style='color: #555555; font-style: italic;'><chr></span>        <span style='color: #555555; font-style: italic;'><chr></span>        <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span> <span style='color: #555555; font-style: italic;'><chr></span> \n<span style='color: #555555;'>1</span> 268224163.55 542424630.64 526403… 420228… 416271… 287661… 218848… 2680… Owner…\n<span style='color: #555555;'>2</span> 23232.00     64837.50     0.00    0.00    0.00    0.00    11600.… 9966… Owner…\n<span style='color: #555555;'>3</span> 268200931.55 542359793.14 526403… 420228… 416271… 287661… 218836… 2679… Owner…\n<span style='color: #555555;'>4</span> 268224163.55 542424630.64 526403… 420228… 416271… 287661… 218848… 2680… to Ph…\n<span style='color: #555555;'>5</span> 23232.00     64837.50     0.00    0.00    0.00    0.00    11600.… 9966… to Ph…\n\n$value\n<span style='color: #555555;'># A tibble: 6 × 9</span>\n  py_2017       py_2018     py_2019 py_2020 py_2021 py_2022 py_2023 total metric\n  <span style='color: #555555; font-style: italic;'><chr></span>         <span style='color: #555555; font-style: italic;'><chr></span>       <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span>   <span style='color: #555555; font-style: italic;'><chr></span> <span style='color: #555555; font-style: italic;'><chr></span> \n<span style='color: #555555;'>1</span> 1073242791.31 1649375557… 162102… 138381… 154850… 114988… 133978… 1339… Owner…\n<span style='color: #555555;'>2</span> 27902592.00   265936.00   0.00    0.00    0.00    99992.… 160592… 1605… Owner…\n<span style='color: #555555;'>3</span> 1045340199.31 1649109621… 162102… 138381… 154850… 114978… 133961… 1339… Owner…\n<span style='color: #555555;'>4</span> 1073242791.31 1649375557… 162102… 138381… 154850… 114988… 133978… 1339… to Ph…\n<span style='color: #555555;'>5</span> 27902592.00   265936.00   0.00    0.00    0.00    99992.… 160592… 1605… to Ph…\n<span style='color: #555555;'>6</span> 1045340199.31 1649109621… 162102… 138381… 154850… 114978… 133961… 1339… to Ph…\n</code></pre>\n:::\n\n",
    "supporting": [
      "open_dashboard_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}