{
  "hash": "81772cd3f63cf97a91273168324902c7",
  "result": {
    "engine": "knitr",
    "markdown": "# `rural_health` {#sec-rhc}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunderscore <- \\(x) gsub(\"___owner$\", \"\", x, perl = TRUE)\nchar_binary <- \\(x) val_match(x, \"N\" ~ 0L, \"Y\" ~ 1L)\npct_prop <- \\(x) {\n  cheapr::case(\n    x == \"0\" ~ 0,\n    cheapr::is_na(x) ~ NA_real_,\n    .default = as.double(x) / 100\n  )\n}\n```\n:::\n\n\n## Rural Health Clinics\n\n> RHC Enrollments\n\n• __Rows__ [5.3k]\n• __Pages__ [2]\n• __Fields__ [20]\n\n::: {.cell}\n\n```{.r .cell-code}\nrhc_enroll <- careGroup(\"rural_health\")@groups |>\n  _[[\"rural_health_clinic_enrollments\"]] |>\n  _[[\"endpoints\"]] |>\n  _[[\"identifier\"]] |>\n  providertwo:::quick_care() |>\n  mtt(incorporation_date = providertwo:::as_date(incorporation_date),\n      multiple_npi_flag = char_binary(multiple_npi_flag),\n      address = cheapr_if_else(\n        cheapr::is_na(address_line_2), \n        address_line_1, \n        paste(address_line_1, address_line_2))) |>\n  slt(\n    npi,\n    has_mult_npi = multiple_npi_flag,\n    ccn,\n    pac = associate_id,\n    enid = enrollment_id,\n    enid_state = enrollment_state,\n    org_name = organization_name,\n    dba_name = doing_business_as_name,\n    inc_date = incorporation_date,\n    inc_state = incorporation_state,\n    org_type = organization_type_structure,\n    org_type_2 = organization_other_type_text,\n    proprietary_nonprofit,\n    address,\n    city,\n    state,\n    zip = zip_code)\n\nrhc_enroll |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $npi                   c5000 1508861386               1497856025          ...\n- $has_mult_npi          i5000 0                        0                   ...\n- $ccn                   c5000 503883                   353982              ...\n- $pac                   c5000 0941117907               0042127045          ...\n- $enid                  c5000 O20020731000000          O20020813000023     ...\n- $enid_state            c5000 WA                       ND                  ...\n- $org_name              c5000 PALOUSE HEALTH CENTER PS WEST RIVER HEALTH S ...\n- $dba_name              c5000 PALOUSE HEALTH CENTER    BOWMAN CLINIC       ...\n- $inc_date              D5000 2000-03-21               1977-01-06          ...\n- $inc_state             c5000 WA                       ND                  ...\n- $org_type              c5000 CORPORATION              CORPORATION         ...\n- $org_type_2            c5000 NA                       NA                  ...\n- $proprietary_nonprofit c5000 P                        N                   ...\n- $address               c5000 235 E MAIN ST            608 HIGHWAY 12 WEST ...\n- $city                  c5000 PALOUSE                  BOWMAN              ...\n- $state                 c5000 WA                       ND                  ...\n- $zip                   c5000 99161                    586234507           ...\n```\n\n\n:::\n:::\n\n> RHC Owners\n\n• __Rows__ [62.7k]\n• __Pages__ [13]\n• __Fields__ [34]\n\n::: {.cell}\n\n```{.r .cell-code}\nrhc_owners <- careGroup(\"rural_health\")@groups |> \n  _[[\"rural_health_clinic_all_owners\"]] |> \n  _[[\"endpoints\"]] |> \n  _[[\"identifier\"]] |> \n  providertwo:::quick_care()\n\nrhc_owners|>\n  rnm(\n    enid     = enrollment_id,\n    pac      = associate_id, \n    org_name = organization_name) |>\n  set_names(underscore) |> \n  mtt(\n    association_date = providertwo:::as_date(association_date),\n    address = cheapr_if_else(\n      cheapr::is_na(address_line_2), \n      address_line_1, \n      paste(address_line_1, address_line_2)),\n    prop_ownership = pct_prop(percentage_ownership),\n    percentage_ownership = as.numeric(percentage_ownership),\n    role_code = as.integer(role_code)\n  ) |>\n  slt(\n    pac,\n    enid,\n    org_name,\n    pac_owner = associate_id, \n    org_name_owner = organization_name,\n    entity = type,\n    role_code,\n    role_text,\n    date_assoc = association_date,\n    first_name,\n    middle_name,\n    last_name,\n    title,\n    dba_name = doing_business_as_name,\n    address,\n    city,\n    state,\n    zip = zip_code,\n    percentage_ownership,\n    prop_ownership,\n    is_acquisition = created_for_acquisition,\n    is_corporation = corporation,\n    is_llc = llc,\n    is_supplier = medical_provider_supplier,\n    is_management = management_services_company,\n    is_staffing = medical_staffing_company,\n    is_holding = holding_company,\n    is_investment = investment_firm,\n    is_financial = financial_institution,\n    is_consulting = consulting_firm,\n    is_forprofit = for_profit,\n    is_nonprofit = non_profit,\n    is_other = other_type,\n    other_desc = other_type_text\n  ) |> \n  mtt(\n    entity = cheapr::factor_(entity),\n    is_acquisition = char_binary(is_acquisition),\n    is_corporation = char_binary(is_corporation),\n    is_llc = char_binary(is_llc),\n    is_supplier = char_binary(is_supplier),\n    is_management = char_binary(is_management),\n    is_staffing = char_binary(is_staffing),\n    is_holding = char_binary(is_holding),\n    is_investment = char_binary(is_investment),\n    is_financial = char_binary(is_financial),\n    is_consulting = char_binary(is_consulting),\n    is_forprofit = char_binary(is_forprofit),\n    is_nonprofit = char_binary(is_nonprofit),\n    is_other = char_binary(is_other)\n  ) |> \n  roworder(role_code)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5,000 × 34\n   pac        enid  org_name pac_owner org_name_owner entity role_code role_text\n   <chr>      <chr> <chr>    <chr>     <chr>          <fct>      <int> <chr>    \n 1 0042127045 O200… WEST RI… 49818590… <NA>           I             25 CONTRACT…\n 2 1153238977 O200… REGIONA… 92343828… <NA>           I             25 CONTRACT…\n 3 1153238977 O200… REGIONA… 92343828… <NA>           I             25 CONTRACT…\n 4 6406764018 O200… RUBY VA… 64061032… <NA>           I             25 CONTRACT…\n 5 6406764018 O200… RUBY VA… 64061032… <NA>           I             25 CONTRACT…\n 6 4486563061 O200… PALO AL… 97393764… <NA>           I             25 CONTRACT…\n 7 2769391192 O200… MORTON … 43850199… <NA>           I             25 CONTRACT…\n 8 7911816731 O200… SOUTHER… 27698119… <NA>           I             25 CONTRACT…\n 9 1759291578 O200… THE COM… 17592915… <NA>           I             25 CONTRACT…\n10 9436069267 O200… THE FAM… 34768064… <NA>           I             25 CONTRACT…\n# ℹ 4,990 more rows\n# ℹ 26 more variables: date_assoc <date>, first_name <chr>, middle_name <chr>,\n#   last_name <chr>, title <chr>, dba_name <chr>, address <chr>, city <chr>,\n#   state <chr>, zip <chr>, percentage_ownership <dbl>, prop_ownership <dbl>,\n#   is_acquisition <int>, is_corporation <int>, is_llc <int>,\n#   is_supplier <int>, is_management <int>, is_staffing <int>,\n#   is_holding <int>, is_investment <int>, is_financial <int>, …\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}