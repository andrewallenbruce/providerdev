{
  "hash": "68d2c47ffc45b95f4f57df7274042a8e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Catalogs\"\neditor_options: \n   chunk_output_type: console\n---\n\n::: {.cell}\n\n:::\n\n## Main CMS\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nread_json_arrow(\n    file = \"https://data.cms.gov/data.json\", \n    col_select = c(\"@context\", \"@id\", \"@type\", \"conformsTo\", \"describedBy\"),\n    as_data_frame = FALSE) |> \n  collect() |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $@context    c1 https://project-open-data.cio.gov/v1.1/schema/catalog.jsonld\n- $@id         c1 https://data.cms.gov/data.json                              \n- $@type       c1 dcat:Catalog                                                \n- $conformsTo  c1 https://project-open-data.cio.gov/v1.1/schema               \n- $describedBy c1 https://project-open-data.cio.gov/v1.1/schema/catalog.json  \n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndata_json <- read_json_arrow(\n  file = \"https://data.cms.gov/data.json\",\n  col_select = c(\"dataset\"),\n    as_data_frame = TRUE) |> \n  to_duckdb()\n\ndata_json |> \n  pull(dataset) |> \n  pluck(1) |> \n  tibble() |> \n  mutate(\n    bureauCode = delist(bureauCode),\n    keyword = map_chr(keyword, \\(x) paste0(delist(x), collapse = \", \")),\n    language = delist(language),\n    programCode = delist(programCode),\n    theme = map_chr(theme, \\(x) paste0(delist(x), collapse = \", \")),\n    references = delist(references)) |>\n  unnest_wider(contactPoint, names_sep = \"_\") |>\n  unnest_wider(publisher, names_sep = \"_\") |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $@type                 c139 dcat:Dataset                                  ...\n- $accessLevel           c139 public                                        ...\n- $accrualPeriodicity    c139 R/P1Y                                         ...\n- $bureauCode            c139 009:38                                        ...\n- $contactPoint_@type    c139 vcard:Contact                                 ...\n- $contactPoint_fn       c139 Shared Savings Program - CM                   ...\n- $contactPoint_hasEmail c139 mailto:SharedSavingsProgram@cms.hhs.gov       ...\n- $describedBy           c139 https://data.cms.gov/resources/accountable-ca ...\n- $dataQuality           l139 T                                             ...\n- $description           c139 The Accountable Care Organization Participant ...\n- $distribution          L139 list(structure(list(\"@type\" = c(\"dcat:Distrib ...\n- $identifier            c139 https://data.cms.gov/data-api/v1/dataset/9767 ...\n- $keyword               c139 Medicare, Value-Based Care, Coordinated Care, ...\n- $landingPage           c139 https://data.cms.gov/medicare-shared-savings- ...\n- $language              c139 en-US                                         ...\n- $license               c139 https://www.usa.gov/government-works          ...\n- $modified              p139 2024-01-29                                    ...\n- $programCode           c139 009:000                                       ...\n- $publisher_@type       c139 org:Organization                              ...\n- $publisher_name        c139 Centers for Medicare & Medicaid Services      ...\n- $references            c139 https://data.cms.gov/resources/acos-aco-parti ...\n- $temporal              c139 2014-01-01/2024-12-31                         ...\n- $theme                 c139 Medicare                                      ...\n- $title                 c139 Accountable Care Organization Participants    ...\n- $describedByType       c139 NA                                            ...\n```\n\n\n:::\n:::\n\n## Provider CMS\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrequest('https://data.cms.gov/provider-data/api/1/metastore/schemas/dataset/items') |>\n  req_perform() |>\n  resp_body_json(simplifyVector = TRUE) |> \n  tibble() |> \n  mutate(\n    bureauCode = delist(bureauCode),\n    keyword = map_chr(keyword, \\(x) paste0(delist(x), collapse = \", \")),\n    programCode = delist(programCode),\n    theme = map_chr(theme, \\(x) paste0(delist(x), collapse = \", \"))) |>\n  unnest_wider(contactPoint, names_sep = \"_\") |>\n  unnest_wider(publisher, names_sep = \"_\") |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $accessLevel           c234 public                                        ...\n- $landingPage           c234 https://data.cms.gov/provider-data/dataset/23 ...\n- $bureauCode            c234 009:38                                        ...\n- $issued                c234 2020-03-14                                    ...\n- $@type                 c234 dcat:Dataset                                  ...\n- $modified              c234 2024-12-21                                    ...\n- $released              c234 2024-10-23                                    ...\n- $keyword               c234 Quality, Quality Measures                     ...\n- $contactPoint_@type    c234 vcard:Contact                                 ...\n- $contactPoint_fn       c234 Dialysis Facility Helpdesk                    ...\n- $contactPoint_hasEmail c234 mailto:DialysisData@umich.edu                 ...\n- $contactPoint_hasURL   c234 NA                                            ...\n- $publisher_@type       c234 org:Organization                              ...\n- $publisher_name        c234 Centers for Medicare & Medicaid Services (CMS ...\n- $identifier            c234 23ew-n7w9                                     ...\n- $description           c234 A list of all dialysis facilities registered  ...\n- $title                 c234 Dialysis Facility - Listing by Facility       ...\n- $programCode           c234 009:000                                       ...\n- $distribution          L234 list(structure(list(\"@type\" = \"dcat:Distribut ...\n- $theme                 c234 Dialysis facilities                           ...\n- $archiveExclude        l234 NA                                            ...\n```\n\n\n:::\n:::\n\n## Open Payments\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrequest(\"https://openpaymentsdata.cms.gov/api/1/metastore/schemas/dataset/items?show-reference-ids\") |>\n  req_perform() |>\n  resp_body_json(simplifyVector = TRUE) |> \n  tibble() |> \n  mutate(\n    bureauCode = delist(bureauCode),\n    keyword = map_chr(keyword, \\(x) paste0(delist(x), collapse = \", \")),\n    programCode = delist(programCode),\n    theme = map_chr(theme, \\(x) paste0(delist(x), collapse = \", \"))) |>\n  unnest_wider(contactPoint, names_sep = \"_\") |>\n  unnest_wider(publisher, names_sep = \"_\") |> \n  unnest_wider(publisher_data, names_sep = \"_\") |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $bureauCode            c74 009:38                                         ...\n- $programCode           c74 009:000                                        ...\n- $accessLevel           c74 public                                         ...\n- $keyword               c74 7a69eb60-9b96-52b9-a965-bc355eb14783, 2017     ...\n- $contactPoint_fn       c74 Open Payments                                  ...\n- $contactPoint_hasEmail c74 mailto:openpayments@cms.hhs.gov                ...\n- $dataQuality           l74 T                                              ...\n- $description           c74 Research Payment Data â€“ Detailed Dataset 2017  ...\n- $distribution          L74 list(structure(list(identifier = \"10ec915a-726 ...\n- $identifier            c74 0e3977b9-a5d6-427e-bc02-480481edd6e0           ...\n- $title                 c74 2017 Research Payment Data                     ...\n- $issued                c74 2024-06-28                                     ...\n- $modified              c74 2024-06-28                                     ...\n- $temporal              c74 2017-01-01/2017-12-31                          ...\n- $publisher_identifier  c74 11b41668-9929-5de3-b494-6464ac4f018d           ...\n- $publisher_data_name   c74 openpaymentsdata.cms.gov                       ...\n- $publisher_data_@type  c74 NA                                             ...\n- $license               c74 https://www.usa.gov/government-works           ...\n- $theme                 c74 0dbaba68-b7d1-55b3-b5fd-038557918e00, Research ...\n- $%modified             c74 2024-07-29T20:42:01+0000                       ...\n- $@type                 c74 NA                                             ...\n- $accrualPeriodicity    c74 NA                                             ...\n```\n\n\n:::\n:::\n",
    "supporting": [
      "catalogs_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}