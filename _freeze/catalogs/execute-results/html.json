{
  "hash": "34be0a5886a15092c270a08c3f5d7500",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Catalogs\"\neditor_options: \n   chunk_output_type: console\n---\n\n::: {.cell}\n\n:::\n\n\n# Data Catalogs\n\n## Main CMS\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# https://data.cms.gov/data-api/v1/dataset/\ncatalogs <- c(\n  main = read_json_arrow(\n    file = \"https://data.cms.gov/data.json\", \n    col_select = c(\"dataset\"),\n    as_data_frame = TRUE) |> \n    to_duckdb(),\n  provider = request(\"https://data.cms.gov/provider-data/api/1/metastore/schemas/dataset/items\"),\n  open = request(\"https://openpaymentsdata.cms.gov/api/1/metastore/schemas/dataset/items?show-reference-ids\"),\n  eligibility = request(\"https://qpp.cms.gov/api/eligibility\")\n)\n\ncatalogs\n```\n:::\n\n> **Note:** Removing `col_select = c(\"dataset\")` from the above call returns the following metadata:\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stdout}\n\n```\n@context    <chr> https://project-open-data.cio.gov/v1.1/schema/catalog.jsonld\n@id         <chr> https://data.cms.gov/data.json\n@type       <chr> dcat:Catalog\nconformsTo  <chr> https://project-open-data.cio.gov/v1.1/schema\ndescribedBy <chr> https://project-open-data.cio.gov/v1.1/schema/catalog.json\ndataset     <list> [<data.frame[138 x 22]>]\n```\n\n\n:::\n:::\n\n## Provider CMS\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrequest('https://data.cms.gov/provider-data/api/1/metastore/schemas/dataset/items') |>\n  req_perform() |>\n  resp_body_json(simplifyVector = TRUE) |> \n  tibble() |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in (function (..., na.rm = FALSE) : an argument will be fractionally\nrecycled\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $accessLevel    c234 public                                                                   ...\n- $landingPage    c234 https://data.cms.gov/provider-data/dataset/23ew-n7w9                     ...\n- $bureauCode     L234 list(\"009:38\", \"009:38\", \"009:38\", \"009:38\", \"009:38\", \"009:38\", \"009:38 ...\n- $issued         c234 2020-03-14                                                               ...\n- $@type          c234 dcat:Dataset                                                             ...\n- $modified       c234 2024-12-21                                                               ...\n- $released       c234 2024-10-23                                                               ...\n- $keyword        L234 list(c(\"Quality\", \"Quality Measures\"), c(\"Quality\", \"Quality Measures\"), ...\n- $contactPoint   L4   structure(list(c(\"vcard:Contact\", \"vcard:Contact\", \"vcard:Contact\", \"vca ...\n- $publisher      L2   structure(list(c(\"org:Organization\", \"org:Organization\", \"org:Organizati ...\n- $identifier     c234 23ew-n7w9                                                                ...\n- $description    c234 A list of all dialysis facilities registered with Medicare that includes ...\n- $title          c234 Dialysis Facility - Listing by Facility                                  ...\n- $programCode    L234 list(\"009:000\", \"009:000\", \"009:000\", \"009:000\", \"009:000\", \"009:000\", \" ...\n- $distribution   L234 list(structure(list(\"@type\" = \"dcat:Distribution\", downloadURL = \"https: ...\n- $theme          L234 list(\"Dialysis facilities\", \"Dialysis facilities\", \"Dialysis facilities\" ...\n- $archiveExclude l234 NA                                                                       ...\n```\n\n\n:::\n:::\n\n\n## QPP CMS\n\n   * [QPP Eligibility API Documentation](https://cmsgov.github.io/qpp-eligibility-docs/)\n   * [QPP Eligibility REST API Documentation](https://qpp.cms.gov/api/eligibility/docs/)\n\n> Note: Not really a catalog\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrequest(\"https://qpp.cms.gov/api/eligibility/stats/?year=2025\") |>\n  req_headers(Accept = \"application/vnd.qpp.cms.gov.v6+json\") |>\n  req_perform() |>\n  resp_body_json(simplifyVector = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$data\n$data$individual\n$data$individual$hccRiskScoreAverage\n[1] 2.5\n\n$data$individual$dualEligibilityAverage\n[1] 0.507\n\n\n$data$group\n$data$group$hccRiskScoreAverage\n[1] 2.49\n\n$data$group$dualEligibilityAverage\n[1] 0.499\n```\n\n\n:::\n\n```{.r .cell-code}\nrequest(\"https://qpp.cms.gov/api/eligibility/npis/1043477615/?year=2025\") |>\n  req_headers(Accept = \"application/vnd.qpp.cms.gov.v6+json\") |>\n  req_error(body = \\(resp) resp_body_json(resp)$error$message) |>\n  req_perform() |>\n  resp_body_json(simplifyVector = TRUE) |> \n  pluck(1) |> \n  tibble() |> \n  glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 12\n$ firstName                      <chr> \"SARAH\"\n$ middleName                     <chr> \"K\"\n$ lastName                       <chr> \"HUSSAIN\"\n$ npi                            <chr> \"1043477615\"\n$ nationalProviderIdentifierType <int> 1\n$ firstApprovedDate              <chr> \"2014-01-27\"\n$ yearsInMedicare                <int> 10\n$ pecosEnrollmentDate            <int> 2014\n$ newlyEnrolled                  <lgl> FALSE\n$ specialty                      <df[,3]> <data.frame[1 x 3]>\n$ isMaqi                         <lgl> FALSE\n$ organizations                  <list> [<data.frame[1 x 12]>]\n```\n\n\n:::\n:::\n\n\n### GraphQL API\n\n   * [Basic Clinician GraphQL Example](https://cmsgov.github.io/qpp-eligibility-docs/clinician)\n   * [QPP Eligibility GraphQL API Documentation](https://qpp.cms.gov/api/eligibility/graphql)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}