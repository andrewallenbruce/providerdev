{
  "hash": "c014dcdfc11912d5e0feeb9953978c43",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"DCAT Schema\"\neditor_options: \n   chunk_output_type: console\n---\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<a href=\"https://resources.data.gov/resources/dcat-us/\" class=\"btn btn-outline-secondary\" role=\"button\" target=\"_blank\">\n<i class=\"bi bi-box-arrow-up-right\"></i>\nDCAT Schema\n</a>\n<a href=\"https://resources.data.gov/schemas/dcat-us/v1.1/iso8601_guidance/#accrualperiodicity\" class=\"btn btn-outline-secondary\" role=\"button\" target=\"_blank\">\n<i class=\"bi bi-box-arrow-up-right\"></i>\nISO8601\n</a>\n```\n\n:::\n:::\n\n## `dataset` Fields\n\n   * [Data Catalog Vocabulary (DCAT) - Version 3](https://www.w3.org/TR/vocab-dcat/)\n\n### `bureauCode`\n\nFederal agencies, combined agency and bureau code from [OMB Circular A-11, Appendix C](https://obamawhitehouse.archives.gov/sites/default/files/omb/assets/a11_current_year/app_c.pdf). \n\n> __Format__: `015:11`\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 368 × 6\n   agency_name       bureau_name agency_code bureau_code treasury_code cgac_code\n   <chr>             <chr>       <chr>       <chr>       <chr>         <chr>    \n 1 Legislative Bran… Senate      001         05          00            000      \n 2 Legislative Bran… House of R… 001         10          00            000      \n 3 Legislative Bran… Joint Items 001         11          00            000      \n 4 Legislative Bran… Capitol Po… 001         13          02            002      \n 5 Legislative Bran… Office of … 001         12          09            009      \n 6 Legislative Bran… Congressio… 001         14          08            008      \n 7 Legislative Bran… Architect … 001         15          01            001      \n 8 Legislative Bran… Botanic Ga… 001         18          09            009      \n 9 Legislative Bran… Library of… 001         25          03            003      \n10 Legislative Bran… Government… 001         30          04            004      \n# ℹ 358 more rows\n```\n\n\n:::\n:::\n\n### `programCode`\n\nFederal agencies, list the primary program related to this data asset, from the [Federal Program Inventory](https://resources.data.gov/schemas/dcat-us/v1.1/FederalProgramInventory_FY13_MachineReadable_091613.csv). \n\n> __Format__: `015:001`\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,554 × 6\n   agency_name      program_name additional_informati…¹ agency_code program_code\n   <chr>            <chr>        <chr>                  <chr>       <chr>       \n 1 Department of A… Rural Busin… <NA>                   005         005-001     \n 2 Department of A… Rural Busin… <NA>                   005         005-002     \n 3 Department of A… Energy Assi… <NA>                   005         005-003     \n 4 Department of A… Distance Le… <NA>                   005         005-004     \n 5 Department of A… Rural Elect… <NA>                   005         005-005     \n 6 Department of A… Rural Water… <NA>                   005         005-006     \n 7 Department of A… Single Fami… <NA>                   005         005-007     \n 8 Department of A… Multi-Famil… <NA>                   005         005-008     \n 9 Department of A… Farm labor … <NA>                   005         005-009     \n10 Department of A… Rental Assi… <NA>                   005         005-010     \n# ℹ 1,544 more rows\n# ℹ abbreviated name: ¹​additional_information_optional\n# ℹ 1 more variable: program_code_pod_format <chr>\n```\n\n\n:::\n:::\n\n### `accrualPeriodicity`\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\niso_8601 <- \\(x) {\n  kit::nswitch(\n    x,\n    \"R/P10Y\",   \"Decennial\",\n    \"R/P4Y\",    \"Quadrennial\",\n    \"R/P1Y\",    \"Annual\",\n    \"R/P0.5M\",  \"Bimonthly\",\n    \"R/P2M\",    \"Bimonthly\",\n    \"R/P0.5W\",  \"Biweekly\",\n    \"R/P2W\",    \"Biweekly\",\n    \"R/P3.5D\",  \"Semiweekly\",\n    \"R/P1D\",    \"Daily\",\n    \"R/P6M\",    \"Semiannual\",\n    \"R/P2Y\",    \"Biennial\",\n    \"R/P3Y\",    \"Triennial\",\n    \"R/P0.33W\", \"Three Times a Week\",\n    \"R/P0.33M\", \"Three Times a Month\",\n    \"R/PT1S\",   \"Continuously Updated\",\n    \"R/P1M\",    \"Monthly\",\n    \"R/P3M\",    \"Quarterly\",\n    \"R/P0.5M\",  \"Semimonthly\",\n    \"R/P4M\",    \"Three Times a Year\",\n    \"R/P1W\",    \"Weekly\",\n    \"R/PT1H\",   \"Hourly\")\n}\n```\n:::\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\narrow::read_json_arrow(\n  here::here(\"data/dcat-us_v1.1_schema_catalog.json\")) |> \n  unnest(properties) |> \n  unnest(`@context`, names_sep = \"_\") |> \n  unnest(`@id`, names_sep = \"_\") |> \n  unnest(`@type`, names_sep = \"_\") |> \n  unnest(`@type_enum`, names_sep = \"_\") |> \n  unnest(conformsTo, names_sep = \"_\") |> \n  unnest(conformsTo_enum, names_sep = \"_\") |> \n  unnest(describedBy, names_sep = \"_\") |> \n  unnest(dataset, names_sep = \"_\") |> \n  unnest(dataset_items, names_sep = \"_\") |> \n  mutate(dependencies = delist(dependencies),\n         required = flatten_column(required)) |> \n  purse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- $$schema                   c1 http://json-schema.org/draft-04/schema#     ...\n- $id                        c1 https://project-open-data.cio.gov/v1.1/sche ...\n- $title                     c1 Project Open Data Catalog                   ...\n- $description               c1 Validates an entire collection of Project O ...\n- $type                      c1 object                                      ...\n- $dependencies              c1 @context                                    ...\n- $required                  c1 conformsTo, dataset                         ...\n- $@context_title            c1 Metadata Context                            ...\n- $@context_description      c1 URL or JSON object for the JSON-LD Context  ...\n- $@context_type             c1 string                                      ...\n- $@context_format           c1 uri                                         ...\n- $@id_title                 c1 Metadata Catalog ID                         ...\n- $@id_description           c1 IRI for the JSON-LD Node Identifier of the  ...\n- $@id_type                  c1 string                                      ...\n- $@id_format                c1 uri                                         ...\n- $@type_title               c1 Metadata Context                            ...\n- $@type_description         c1 IRI for the JSON-LD data type. This should  ...\n- $@type_enum                c1 dcat:Catalog                                ...\n- $conformsTo_description    c1 Version of Schema                           ...\n- $conformsTo_title          c1 Version of Schema                           ...\n- $conformsTo_enum           c1 https://project-open-data.cio.gov/v1.1/sche ...\n- $describedBy_description   c1 URL for the JSON Schema file that defines t ...\n- $describedBy_title         c1 Data Dictionary                             ...\n- $describedBy_type          c1 string                                      ...\n- $describedBy_format        c1 uri                                         ...\n- $dataset_type              c1 array                                       ...\n- $dataset_items_$ref        c1 dataset.json                                ...\n- $dataset_items_minItems    i1 1                                           ...\n- $dataset_items_uniqueItems l1 T                                           ...\n```\n\n\n:::\n:::\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nschema_dataset <- arrow::read_json_arrow(here::here(\"data/dcat-us_v1.1_schema_dataset.json\"))\n\nschema_dataset |> \n  glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 7\n$ `$schema`   <chr> \"http://json-schema.org/draft-04/schema#\"\n$ id          <chr> \"https://project-open-data.cio.gov/v1.1/schema/dataset.jso…\n$ title       <chr> \"Project Open Data Dataset\"\n$ description <chr> \"The metadata format for all federal open data. Validates …\n$ type        <chr> \"object\"\n$ required    <list<character>> <\"bureauCode\", \"programCode\", \"title\", \"description\", \"key…\n$ properties  <tibble[,29]> <tbl_df[1 x 29]>\n```\n\n\n:::\n:::\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nschema_distribution <- arrow::read_json_arrow(here::here(\"data/dcat-us_v1.1_schema_distribution.json\"))\n\nschema_distribution |> \n  glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 7\n$ `$schema`    <chr> \"http://json-schema.org/draft-04/schema#\"\n$ id           <chr> \"https://project-open-data.cio.gov/v1.1/schema/distributi…\n$ title        <chr> \"Project Open Data Distribution\"\n$ description  <chr> \"Validates an entire collection of common core metadata J…\n$ type         <chr> \"object\"\n$ dependencies <tibble[,1]> <tbl_df[1 x 1]>\n$ properties   <tibble[,10]> <tbl_df[1 x 10]>\n```\n\n\n:::\n:::\n\n",
    "supporting": [
      "api_schema_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}