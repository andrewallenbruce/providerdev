{
  "hash": "cf67036c5e07f4b26af20714e2a10351",
  "result": {
    "engine": "knitr",
    "markdown": "# Open Payments {#sec-openapi}\n\n\n\n## Links\n\n   * [CMS: Open Payments API](https://openpaymentsdata.cms.gov/about/api)\n   * [University of Illinois-Chicago: Sunshine Act](https://research.uic.edu/compliance/coi/organizational-coi/faqs-sunshine)\n\n## Load Catalog\n\n::: {.cell}\n\n```{.r .cell-code}\nopenMain(\"profile_covered\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 32\n   covered_recipient_profile_type covered_recipient_pro…¹ associated_covered_r…²\n * <chr>                          <chr>                   <chr>                 \n 1 Covered Recipient Physician    1                       <NA>                  \n 2 Covered Recipient Physician    2                       <NA>                  \n 3 Covered Recipient Physician    3                       <NA>                  \n 4 Covered Recipient Physician    4                       <NA>                  \n 5 Covered Recipient Physician    5                       <NA>                  \n 6 Covered Recipient Physician    6                       <NA>                  \n 7 Covered Recipient Physician    7                       <NA>                  \n 8 Covered Recipient Physician    9                       <NA>                  \n 9 Covered Recipient Physician    10                      <NA>                  \n10 Covered Recipient Physician    11                      <NA>                  \n# ℹ 490 more rows\n# ℹ abbreviated names: ¹​covered_recipient_profile_id,\n#   ²​associated_covered_recipient_profile_id_1\n# ℹ 29 more variables: associated_covered_recipient_profile_id_2 <chr>,\n#   covered_recipient_npi <chr>, covered_recipient_profile_first_name <chr>,\n#   covered_recipient_profile_middle_name <chr>,\n#   covered_recipient_profile_last_name <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"profile_physician\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 33\n   covered_recipient_profile_type covered_recipient_prof…¹ covered_recipient_npi\n * <chr>                          <chr>                    <chr>                \n 1 Covered Recipient Physician    1                        1003020595           \n 2 Covered Recipient Physician    2                        1003022823           \n 3 Covered Recipient Physician    3                        1003023359           \n 4 Covered Recipient Physician    4                        1003024811           \n 5 Covered Recipient Physician    5                        1003025875           \n 6 Covered Recipient Physician    6                        1003026410           \n 7 Covered Recipient Physician    7                        1003028150           \n 8 Covered Recipient Physician    9                        1003033051           \n 9 Covered Recipient Physician    10                       1003000407           \n10 Covered Recipient Physician    11                       1003002072           \n# ℹ 490 more rows\n# ℹ abbreviated name: ¹​covered_recipient_profile_id\n# ℹ 30 more variables: covered_recipient_profile_first_name <chr>,\n#   covered_recipient_profile_middle_name <chr>,\n#   covered_recipient_profile_last_name <chr>,\n#   covered_recipient_profile_suffix <chr>,\n#   covered_recipient_profile_alternate_first_name1 <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"profile_information\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 20\n   entity_id entity_provider_type entity_npi entity_alternate_id entity_type\n * <chr>     <chr>                <chr>      <chr>               <chr>      \n 1 010001    <NA>                 <NA>       false               h          \n 2 010006    <NA>                 <NA>       false               h          \n 3 010011    <NA>                 <NA>       false               h          \n 4 010018    <NA>                 <NA>       false               h          \n 5 010023    <NA>                 <NA>       false               h          \n 6 010029    <NA>                 <NA>       false               h          \n 7 010033    <NA>                 <NA>       false               h          \n 8 010039    <NA>                 <NA>       false               h          \n 9 010056    <NA>                 <NA>       false               h          \n10 010083    <NA>                 <NA>       false               h          \n# ℹ 490 more rows\n# ℹ 15 more variables: entity_name <chr>, entity_alternate_name1 <chr>,\n#   entity_alternate_name2 <chr>, entity_alternate_name3 <chr>,\n#   entity_alternate_name4 <chr>, entity_alternate_name5 <chr>,\n#   entity_address_line_1 <chr>, entity_address_line_2 <chr>,\n#   entity_city <chr>, entity_state <chr>, entity_zipcode <chr>,\n#   entity_country_name <chr>, entity_province_name <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"profile_mapping\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 2\n   primary_provider_profile_id secondary_provider_profile_id\n * <chr>                       <chr>                        \n 1 5507329                     1314258                      \n 2 7219918                     1314387                      \n 3 5486758                     1316065                      \n 4 8443351                     1389692                      \n 5 5645434                     1393915                      \n 6 4429081                     2784499                      \n 7 138851                      4216700                      \n 8 7992179                     4217274                      \n 9 655463                      4217553                      \n10 247172                      4219288                      \n# ℹ 490 more rows\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"profile_entity\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 9\n   amgpo_making_payment_id amgpo_making_payment_name      amgpo_making_payment…¹\n * <chr>                   <chr>                          <chr>                 \n 1 100000000053            MERCK SHARP & DOHME LLC        NJ                    \n 2 100000000055            COMSORT, INC                   MD                    \n 3 100000000056            DAIICHI SANKYO COMPANY LTD     <NA>                  \n 4 100000000057            C. R. BARD, INC. & SUBSIDIARI… NJ                    \n 5 100000000058            NOVARTIS PHARMA AG             <NA>                  \n 6 100000000061            HILL-ROM HOLDINGS, INC         IN                    \n 7 100000000062            SANDOZ INC.                    NJ                    \n 8 100000000063            IMCLONE SYSTEMS, LLC           IN                    \n 9 100000000065            NATIONAL DENTEX LLC            FL                    \n10 100000000066            LILLY USA, LLC                 IN                    \n# ℹ 490 more rows\n# ℹ abbreviated name: ¹​amgpo_making_payment_state\n# ℹ 6 more variables: amgpo_making_payment_country <chr>,\n#   amgpo_making_payment_alternate_name1 <chr>,\n#   amgpo_making_payment_alternate_name2 <chr>,\n#   amgpo_making_payment_alternate_name3 <chr>,\n#   amgpo_making_payment_alternate_name4 <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"profile_teaching\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 12\n   teaching_hospital_ccn teaching_hospital_name           teaching_hospital_ad…¹\n * <chr>                 <chr>                            <chr>                 \n 1 010001                SOUTHEAST HEALTH MEDICAL CENTER  1108 Ross Clark Circle\n 2 010006                NORTH ALABAMA MEDICAL CENTER     1701 Veterans Drive   \n 3 010011                ST. VINCENTS EAST                50 Medical Park Drive…\n 4 010018                CALLAHAN EYE FOUNDATION HOSP     1720 University Boule…\n 5 010023                BAPTIST MEDICAL CENTER SOUTH     2105  East South Boul…\n 6 010029                EAST ALABAMA MEDICAL CENTER      2000 Pepperell Pkwy   \n 7 010033                UNIVERSITY OF ALABAMA HOSPITAL   619 South 19th Street \n 8 010039                HUNTSVILLE HOSPITAL              101 Sivley Road       \n 9 010056                ST VINCENTS BIRMINGHAM           810 St Vincents Drive \n10 010083                SOUTH BALDWIN REGIONAL MEDICAL … 1613 North Mckenzie   \n# ℹ 490 more rows\n# ℹ abbreviated name: ¹​teaching_hospital_address1\n# ℹ 9 more variables: teaching_hospital_address2 <chr>,\n#   teaching_hospital_city <chr>, teaching_hospital_state <chr>,\n#   teaching_hospital_zip_code <chr>, teaching_hospital_alternate_name1 <chr>,\n#   teaching_hospital_alternate_name2 <chr>,\n#   teaching_hospital_alternate_name3 <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"state_total\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 28\n   country_code country_name  state_code state_name  payment_type recipient_type\n * <chr>        <chr>         <chr>      <chr>       <chr>        <chr>         \n 1 US           United States AA         Armed Forc… Research     Covered Recip…\n 2 US           United States AE         Armed Forc… Research     Covered Recip…\n 3 US           United States AK         Alaska      Research     Covered Recip…\n 4 US           United States AL         Alabama     Research     Covered Recip…\n 5 US           United States AP         Armed Forc… Research     Covered Recip…\n 6 US           United States AR         Arkansas    Research     Covered Recip…\n 7 US           United States AS         American S… Research     Covered Recip…\n 8 US           United States AZ         Arizona     Research     Covered Recip…\n 9 US           United States CA         California  Research     Covered Recip…\n10 US           United States CO         Colorado    Research     Covered Recip…\n# ℹ 490 more rows\n# ℹ 22 more variables: program_year <chr>, total_number_of_physicians <chr>,\n#   total_number_of_non_physician_practitioners <chr>,\n#   total_number_of_teaching_hospitals <chr>,\n#   total_payment_amount_physician <chr>,\n#   total_payment_amount_non_physician_practitioner <chr>,\n#   total_payment_amount_teaching_hospital <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"state_group\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 28\n   country_code country_name  state_code state_name            nature_of_payment\n * <chr>        <chr>         <chr>      <chr>                 <chr>            \n 1 US           United States AA         Armed Forces Americas Acquisitions     \n 2 US           United States AA         Armed Forces Americas Charitable Contr…\n 3 US           United States AA         Armed Forces Americas Compensation for…\n 4 US           United States AA         Armed Forces Americas Compensation for…\n 5 US           United States AA         Armed Forces Americas Compensation for…\n 6 US           United States AA         Armed Forces Americas Compensation for…\n 7 US           United States AA         Armed Forces Americas Consulting Fee   \n 8 US           United States AA         Armed Forces Americas Current or prosp…\n 9 US           United States AA         Armed Forces Americas Debt forgiveness \n10 US           United States AA         Armed Forces Americas Education        \n# ℹ 490 more rows\n# ℹ 23 more variables: recipient_type <chr>, program_year <chr>,\n#   total_number_of_physicians <chr>,\n#   total_number_of_non_physician_practitioners <chr>,\n#   total_number_of_teaching_hospitals <chr>,\n#   total_payment_amount_physician <chr>,\n#   total_payment_amount_non_physician_practitioner <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"national_group\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 21\n   payment_type recipient_type program_year taxonomy_code provider_type_descri…¹\n * <chr>        <chr>          <chr>        <chr>         <chr>                 \n 1 General      Covered Recip… 2017         207K00000X    Allopathic & Osteopat…\n 2 General      Covered Recip… 2017         207KA0200X    Allopathic & Osteopat…\n 3 General      Covered Recip… 2017         207KI0005X    Allopathic & Osteopat…\n 4 General      Covered Recip… 2017         207L00000X    Allopathic & Osteopat…\n 5 General      Covered Recip… 2017         207LA0401X    Allopathic & Osteopat…\n 6 General      Covered Recip… 2017         207LC0200X    Allopathic & Osteopat…\n 7 General      Covered Recip… 2017         207LH0002X    Allopathic & Osteopat…\n 8 General      Covered Recip… 2017         207LP2900X    Allopathic & Osteopat…\n 9 General      Covered Recip… 2017         207LP3000X    Allopathic & Osteopat…\n10 General      Covered Recip… 2017         208U00000X    Allopathic & Osteopat…\n# ℹ 490 more rows\n# ℹ abbreviated name: ¹​provider_type_description\n# ℹ 16 more variables: classification <chr>, specialization <chr>,\n#   total_number_of_physicians <chr>,\n#   total_number_of_non_physician_practitioners <chr>,\n#   total_payment_amount_physician <chr>,\n#   total_payment_amount_non_physician_practitioner <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenMain(\"national_total\")@identifier |> \n  quick_open()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 24 × 18\n   metric_level payment_type recipient_type  program_year total_number_of_phys…¹\n * <chr>        <chr>        <chr>           <chr>        <chr>                 \n 1 National     Research     Covered Recipi… 2017         7326                  \n 2 National     General      Covered Recipi… 2017         635227                \n 3 National     Research     Covered Recipi… 2018         6845                  \n 4 National     General      Covered Recipi… 2018         631460                \n 5 National     Research     Covered Recipi… 2019         7333                  \n 6 National     General      Covered Recipi… 2019         624949                \n 7 National     Research     Covered Recipi… 2020         6880                  \n 8 National     General      Covered Recipi… 2020         489144                \n 9 National     Research     Covered Recipi… 2021         5285                  \n10 National     Research     Covered Recipi… 2021         0                     \n# ℹ 14 more rows\n# ℹ abbreviated name: ¹​total_number_of_physicians\n# ℹ 13 more variables: total_number_of_non_physician_practitioners <chr>,\n#   total_payment_amount_physician <chr>,\n#   total_payment_amount_non_physician_practitioner <chr>,\n#   mean_total_payment_amount_physician <chr>,\n#   mean_total_payment_amount_non_physician_practitioner <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenTemp(\"general\")@endpoints$identifier |> _[[1]] |> \n  quick_open_temp()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 91\n   change_type covered_recipient_type teaching_hospital_ccn teaching_hospital_id\n * <chr>       <chr>                  <chr>                 <chr>               \n 1 CHANGED     Covered Recipient Tea… 220162                9984                \n 2 CHANGED     Covered Recipient Tea… 220162                9984                \n 3 CHANGED     Covered Recipient Tea… 220162                9984                \n 4 CHANGED     Covered Recipient Tea… 220162                9984                \n 5 CHANGED     Covered Recipient Tea… 220162                9984                \n 6 CHANGED     Covered Recipient Tea… 220162                9984                \n 7 CHANGED     Covered Recipient Tea… 220162                9984                \n 8 CHANGED     Covered Recipient Tea… 220162                9984                \n 9 CHANGED     Covered Recipient Tea… 220162                9984                \n10 CHANGED     Covered Recipient Tea… 220162                9984                \n# ℹ 490 more rows\n# ℹ 87 more variables: teaching_hospital_name <chr>,\n#   covered_recipient_profile_id <chr>, covered_recipient_npi <chr>,\n#   covered_recipient_first_name <chr>, covered_recipient_middle_name <chr>,\n#   covered_recipient_last_name <chr>, covered_recipient_name_suffix <chr>,\n#   recipient_primary_business_street_address_line1 <chr>,\n#   recipient_primary_business_street_address_line2 <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenTemp(\"ownership\")@endpoints$identifier |> _[[1]] |> \n  quick_open_temp()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 30\n   change_type physician_profile_id physician_npi physician_first_name\n * <chr>       <chr>                <chr>         <chr>               \n 1 UNCHANGED   329721               1275588246    Frank               \n 2 UNCHANGED   4213213              1952690257    Edward              \n 3 UNCHANGED   170314               1750495099    ERIK                \n 4 UNCHANGED   151386               1336161561    Cindy               \n 5 UNCHANGED   130749               1871710756    Nikhil              \n 6 UNCHANGED   1237732              1720038334    Elizabeth           \n 7 UNCHANGED   911126               1255329009    MARK                \n 8 UNCHANGED   498003               1720029465    William             \n 9 UNCHANGED   343028               1548349566    Robert              \n10 UNCHANGED   312675               1902822638    LAWRENCE            \n# ℹ 490 more rows\n# ℹ 26 more variables: physician_middle_name <chr>, physician_last_name <chr>,\n#   physician_name_suffix <chr>,\n#   recipient_primary_business_street_address_line1 <chr>,\n#   recipient_primary_business_street_address_line2 <chr>,\n#   recipient_city <chr>, recipient_state <chr>, recipient_zip_code <chr>,\n#   recipient_country <chr>, recipient_province <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nopenTemp(\"research\")@endpoints$identifier |> _[[1]] |> \n  quick_open_temp()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 500 × 252\n   change_type covered_recipient_type              noncovered_recipient_entity…¹\n * <chr>       <chr>                               <chr>                        \n 1 CHANGED     Covered Recipient Teaching Hospital <NA>                         \n 2 CHANGED     Covered Recipient Teaching Hospital <NA>                         \n 3 UNCHANGED   Non-covered Recipient Entity        SARAH CANNON CANCER INSTITUT…\n 4 CHANGED     Non-covered Recipient Entity        Health Partners              \n 5 UNCHANGED   Covered Recipient Teaching Hospital <NA>                         \n 6 UNCHANGED   Covered Recipient Teaching Hospital <NA>                         \n 7 UNCHANGED   Non-covered Recipient Entity        ONCOLOGY HEMATOLOGY CONSULTA…\n 8 UNCHANGED   Non-covered Recipient Entity        MEMORIAL SLOAN KETTERING CAN…\n 9 UNCHANGED   Non-covered Recipient Entity        BOARD OF REGENTS OF THE UNIV…\n10 UNCHANGED   Non-covered Recipient Entity        SARAH CANNON CANCER INSTITUT…\n# ℹ 490 more rows\n# ℹ abbreviated name: ¹​noncovered_recipient_entity_name\n# ℹ 249 more variables: teaching_hospital_ccn <chr>,\n#   teaching_hospital_id <chr>, teaching_hospital_name <chr>,\n#   covered_recipient_profile_id <chr>, covered_recipient_npi <chr>,\n#   covered_recipient_first_name <chr>, covered_recipient_middle_name <chr>,\n#   covered_recipient_last_name <chr>, covered_recipient_name_suffix <chr>, …\n```\n\n\n:::\n\n```{.r .cell-code}\nprovidertwo:::open_temp_group(\"grouped_payments\") |> \n  slt(-description, -contact, -download) |> \n  rsplit(~ title)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$`Payments Grouped by Covered Recipient and Nature of Payments`\n# A tibble: 7 × 3\n   year modified   identifier                          \n  <int> <date>     <chr>                               \n1  2023 2025-01-30 4017acfa-0eeb-4b8a-b68c-3b41e779c4a2\n2  2022 2025-01-30 686b765e-f4b7-4d35-a050-fb5af926dbbe\n3  2021 2025-01-30 d35243be-55cb-5087-931e-a294e0e0917f\n4  2020 2025-01-30 1fd2be47-cb72-435a-b2df-142f38e99a05\n5  2019 2025-01-30 0ff0961f-8295-477c-8044-85b9a0753893\n6  2018 2025-01-30 07c1e377-eb5b-4830-ad9b-61f04258036e\n7  2017 2025-01-30 5aad28fa-9785-492e-9a92-8d7b595bc43b\n\n$`Payments Grouped by Covered Recipient and Reporting Entities`\n# A tibble: 7 × 3\n   year modified   identifier                          \n  <int> <date>     <chr>                               \n1  2023 2025-01-30 4fbf0094-3c7b-425a-aabe-5778052559ad\n2  2022 2025-01-30 d2d87f39-b117-4ac8-9f36-a088fb22a25b\n3  2021 2025-01-30 7c9ebb83-8f88-5462-ab7d-1925b0113cfc\n4  2020 2025-01-30 78ad9c8d-d7ae-4066-bf2d-a66e3c9d6e3b\n5  2019 2025-01-30 63c6fc23-1744-4040-babe-1af39a57c598\n6  2018 2025-01-30 b6f534a9-ae05-4e78-9acf-c48b79fcee13\n7  2017 2025-01-30 120f42a3-4f3c-48b2-bf32-4c852390c41a\n\n$`Payments Grouped by Reporting Entities and Nature of Payments`\n# A tibble: 7 × 3\n   year modified   identifier                          \n  <int> <date>     <chr>                               \n1  2023 2025-01-30 72008dab-0953-4226-a4cd-9f1872e8170d\n2  2022 2025-01-30 cedcd327-4e5d-43f9-8eb1-c11850fa7c66\n3  2021 2025-01-30 a2714020-f599-52b0-b12b-8f5b510e547a\n4  2020 2025-01-30 7dfe6254-2aee-454f-9ea5-df611a9a7b55\n5  2019 2025-01-30 7f3bcc65-6f34-42de-8e63-7611e0a6f67b\n6  2018 2025-01-30 76d91818-7015-4f94-a5b8-6f0dbf4fe206\n7  2017 2025-01-30 8ab7b1de-c6da-4613-929e-5fbd27ea1032\n\n$`Payments Grouped by Reporting Entities, Covered Recipient, and Nature of Payments`\n# A tibble: 7 × 3\n   year modified   identifier                          \n  <int> <date>     <chr>                               \n1  2023 2025-01-30 29c23b6a-dd1e-4d82-a606-8d792c7f229e\n2  2022 2025-01-30 171e369a-6f25-49eb-aa36-37f0a497e5ca\n3  2021 2025-01-30 f240c437-9d8a-5be7-95a5-8ce8e0d970bf\n4  2020 2025-01-30 532df191-473f-4bcc-9056-a6260b9437b5\n5  2019 2025-01-30 6c8251d4-3839-444b-810b-5bf035a23326\n6  2018 2025-01-30 c1ce263b-0625-4ce6-9e81-62a7b3708f4b\n7  2017 2025-01-30 d3d4880a-be30-48ca-9a9b-6d8828f9c852\n```\n\n\n:::\n:::\n\n\n### Summary Dashboard\n\n::: {.cell}\n\n```{.r .cell-code}\nopen_dashboard()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$count\n$count$entity\n# A tibble: 32 × 3\n   year  metric                              count\n * <fct> <chr>                               <int>\n 1 ALL   Companies [AM/GPO] Making Payments   2843\n 2 2023  Companies [AM/GPO] Making Payments   1776\n 3 2022  Companies [AM/GPO] Making Payments   1858\n 4 2021  Companies [AM/GPO] Making Payments   1855\n 5 2020  Companies [AM/GPO] Making Payments   1779\n 6 2019  Companies [AM/GPO] Making Payments   1797\n 7 2018  Companies [AM/GPO] Making Payments   1755\n 8 2017  Companies [AM/GPO] Making Payments   1678\n 9 ALL   NPPs with Payment Records          414900\n10 2023  NPPs with Payment Records          309427\n# ℹ 22 more rows\n\n$count$record\n# A tibble: 320 × 5\n   year  type  entity                     status    count\n * <fct> <chr> <chr>                      <chr>     <int>\n 1 ALL   All   <NA>                       <NA>   84035057\n 2 ALL   All   Physician                  <NA>   65341949\n 3 ALL   All   Non-Physician Practitioner <NA>   12787445\n 4 ALL   All   Teaching Hospital          <NA>    1131236\n 5 2023  All   <NA>                       <NA>   15639275\n 6 2023  All   Physician                  <NA>    9630514\n 7 2023  All   Non-Physician Practitioner <NA>    4976520\n 8 2023  All   Teaching Hospital          <NA>     143632\n 9 2022  All   <NA>                       <NA>   14277900\n10 2022  All   Physician                  <NA>    9036995\n# ℹ 310 more rows\n\n\n$dollar\n         py_2017        py_2018        py_2019        py_2020        py_2021\n1  9983443884.20 10988256091.29 11879437810.02 10051904838.51 12467447334.16\n2  2964700222.32  3119803936.32  3711163078.70  2186720794.51  3254780104.85\n3     1605102.03     2312465.96      748979.39     1846711.88     2371047.52\n4  2963095120.29  3117491470.36  3710414099.31  2184874082.63  3252409057.33\n5  5945500870.57  6219076597.05  6547251663.05  6481368184.58  7664160350.30\n6  1395333630.70  1553625205.01  1765255104.55  1691796286.05  1746440892.30\n7  4550167239.87  4665451392.04  4781996558.50  4789571898.53  5917719458.00\n8  4661745514.93  4774115009.02  4881865703.11  4871090152.28  5997888265.40\n9  4550167239.87  4665451392.04  4781996558.50  4789571898.53  5918144405.27\n10    3627948.41     2757924.06      799696.03     4969542.66    14084579.48\n11 5941872922.16  6216318672.99  6546451967.02  6476398641.92  7650075770.82\n12 3378040924.89  4026803500.44  4152248318.02  3150507454.70  3785115290.98\n13 2193219858.52  2268764325.54  2431356105.14  1685173341.53  2156439604.57\n14     490299.63     1083558.67      261971.45     1586153.40     1737369.69\n15 2192729558.89  2267680766.87  2431094133.69  1683587188.13  2154702234.88\n16  111578275.06   108663616.98    99869144.61    81518253.75    80168807.40\n17     154926.21      414854.72       14026.26           0.00        1250.00\n18  111423348.85   108248762.26    99855118.35    81518253.75    80167557.40\n19  268200931.55   542359793.14   526403105.28   420228142.68   416271283.34\n20          0.00           0.00           0.00           0.00   122747788.11\n21          0.00           0.00           0.00           0.00   122322840.84\n22          0.00           0.00           0.00           0.00          18.52\n23          0.00           0.00           0.00           0.00   122322822.32\n24          0.00           0.00           0.00           0.00      424947.27\n25          0.00           0.00           0.00           0.00           0.00\n26          0.00           0.00           0.00           0.00      424947.27\n27 2055235719.44  2296001198.81  2945192933.50  2111825485.28  2641864797.07\n28  771480363.80   851039610.78  1279806973.56   501547452.98   976017659.44\n29    1114802.40     1228907.29      487007.94      260558.48      633659.31\n30  770365561.40   849810703.49  1279319965.62   501286894.50   975384000.13\n31 1283755355.64  1444961588.03  1665385959.94  1610278032.30  1665847137.63\n32    1982705.97     2131111.82      540057.58     4391941.84    13900429.89\n33 1281772649.67  1442830476.21  1664845902.36  1605886090.46  1651946707.74\n34 4546892261.48  4664795828.51  4781363988.97  4781213459.73  5916766223.83\n35    3274978.39      655563.53      632569.53     8358438.80      953234.17\n          py_2022        py_2023          total\n1  12796535186.43 12689034242.09 72430213436.63\n2   3809735884.65  3277603855.21 22324507876.56\n3      2069604.56     1225485.72    12179397.06\n4   3807666280.09  3276378369.49 22312328479.50\n5   7836917507.64  8071650141.64 48765925314.83\n6   1716211299.85  1579336770.11 11447999188.57\n7   6120706207.79  6492313371.53 37317926126.26\n8   6198723322.61  6563407840.25 37948835807.60\n9   6121120063.91  6492844891.75 37319296449.87\n10     5714287.20     2087094.33    34041072.17\n11  7831203220.44  8069563047.31 48731884242.66\n12  3767114109.45  3685952691.22 17519936339.63\n13  2539215200.49  2275077977.26 15549246413.05\n14      277181.95      311954.60     5748489.39\n15  2538938018.54  2274766022.66 15543497923.66\n16    78017114.82    71094468.72   630909681.34\n17        1000.00        4570.55      590627.74\n18    78016114.82    71089898.17   630319053.60\n19   287661921.26   218836511.81  2679961689.06\n20   170988346.96   209667312.38   503403447.45\n21   170574490.84   209135792.16   502033123.84\n22         884.79         123.57        1026.88\n23   170573606.05   209135668.59   502032096.96\n24      413856.12      531520.22     1370323.61\n25           0.00           0.00           0.00\n26      413856.12      531520.22     1370323.61\n27  2737726522.23  2301100866.96 17088947523.29\n28  1099946193.32   793390085.79  6273228339.67\n29     1791537.82      913407.55     6429880.79\n30  1098154655.50   792476678.24  6266798458.88\n31  1637780328.91  1507710781.17 10815719183.62\n32     4823319.85     1618362.83    29387929.78\n33  1632957009.06  1506092418.34 10786331253.84\n34  6120240114.34  6491463753.23 37302735630.09\n35      466093.45      849618.30    15190496.17\n                                                                                      metric\n1                                                                            Payment Records\n2                                                         Payment Records - General Payments\n3                                              Payment Records - General Payments - Disputed\n4                                            Payment Records - General Payments - Undisputed\n5                                                        Payment Records - Research Payments\n6                                    Payment Records - Research Payments - Covered Recipient\n7                                Payment Records - Research Payments - Non-Covered Recipient\n8                   Payment Records - Research Payments - Physician or Non-Covered Recipient\n9  Payment Records - Research Payments - Non-Physician Practitioner or Non-Covered Recipient\n10                                            Payment Records - Research Payments - Disputed\n11                                          Payment Records - Research Payments - Undisputed\n12                                                             Payment Records to Physicians\n13                                          Payment Records to Physicians - General Payments\n14                               Payment Records to Physicians - General Payments - Disputed\n15                             Payment Records to Physicians - General Payments - Undisputed\n16                                         Payment Records to Physicians - Research Payments\n17                              Payment Records to Physicians - Research Payments - Disputed\n18                            Payment Records to Physicians - Research Payments - Undisputed\n19                           Payment Records to Physicians - Ownership Payments - Undisputed\n20                                            Payment Records to Non-Physician Practitioners\n21                         Payment Records to Non-Physician Practitioners - General Payments\n22              Payment Records to Non-Physician Practitioners - General Payments - Disputed\n23            Payment Records to Non-Physician Practitioners - General Payments - Undisputed\n24                        Payment Records to Non-Physician Practitioners - Research Payments\n25             Payment Records to Non-Physician Practitioners - Research Payments - Disputed\n26           Payment Records to Non-Physician Practitioners - Research Payments - Undisputed\n27                                                     Payment Records to Teaching Hospitals\n28                                  Payment Records to Teaching Hospitals - General Payments\n29                       Payment Records to Teaching Hospitals - General Payments - Disputed\n30                     Payment Records to Teaching Hospitals - General Payments - Undisputed\n31                                 Payment Records to Teaching Hospitals - Research Payments\n32                      Payment Records to Teaching Hospitals - Research Payments - Disputed\n33                    Payment Records to Teaching Hospitals - Research Payments - Undisputed\n34                        Payment Records - Research Payments - Non-Covered Recipient Entity\n35                    Payment Records - Research Payments - Non-Covered Recipient Individual\n\n$invest\n       py_2017      py_2018      py_2019      py_2020      py_2021      py_2022\n1 268224163.55 542424630.64 526403105.28 420228142.68 416271283.34 287661921.26\n2     23232.00     64837.50         0.00         0.00         0.00         0.00\n3 268200931.55 542359793.14 526403105.28 420228142.68 416271283.34 287661921.26\n4 268224163.55 542424630.64 526403105.28 420228142.68 416271283.34 287661921.26\n5     23232.00     64837.50         0.00         0.00         0.00         0.00\n       py_2023         total                                        metric\n1 218848111.81 2680061358.56                            Ownership Payments\n2     11600.00      99669.50                  Ownership Payments- Disputed\n3 218836511.81 2679961689.06                Ownership Payments- Undisputed\n4 218848111.81 2680061358.56            to Physicians - Ownership Payments\n5     11600.00      99669.50 to Physicians - Ownership Payments - Disputed\n\n$value\n        py_2017       py_2018       py_2019       py_2020       py_2021\n1 1073242791.31 1649375557.92 1621023068.27 1383815859.42 1548506879.01\n2   27902592.00     265936.00          0.00          0.00          0.00\n3 1045340199.31 1649109621.92 1621023068.27 1383815859.42 1548506879.01\n4 1073242791.31 1649375557.92 1621023068.27 1383815859.42 1548506879.01\n5   27902592.00     265936.00          0.00          0.00          0.00\n6 1045340199.31 1649109621.92 1621023068.27 1383815859.42 1548506879.01\n        py_2022       py_2023         total\n1 1149881794.14 1339780245.24 1339780245.24\n2      99992.65     160592.65     160592.65\n3 1149781801.49 1339619652.59 1339619652.59\n4 1149881794.14 1339780245.24 1339780245.24\n5      99992.65     160592.65     160592.65\n6 1149781801.49 1339619652.59 1339619652.59\n                                           metric\n1                              Ownership Payments\n2                   Ownership Payments - Disputed\n3                 Ownership Payments - Undisputed\n4               to Physician - Ownership Payments\n5   to Physicians - Ownership Payments - Disputed\n6 to Physicians - Ownership Payments - Undisputed\n```\n\n\n:::\n:::\n\n### National Summary\n\n::: {.cell}\n\n```{.r .cell-code}\nopen_national()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 24 × 10\n   year  payment_type recipient_type        recipient_n payment_sum payment_mean\n   <fct> <fct>        <fct>                       <int>       <dbl>        <dbl>\n 1 2021  General      Non-Physician Practi…      235295  122322841.         520.\n 2 2022  General      Non-Physician Practi…      274191  170574491.         622.\n 3 2023  General      Non-Physician Practi…      309374  209135792.         676 \n 4 ALL   General      Non-Physician Practi…      414843  502033124.        1210.\n 5 2021  Research     Non-Physician Practi…          86     424947.        4941.\n 6 2022  Research     Non-Physician Practi…         127     413856.        3259.\n 7 2023  Research     Non-Physician Practi…         226     531520.        2352.\n 8 ALL   Research     Non-Physician Practi…         391    1370324.        3505.\n 9 2017  General      Physician                  635227 2193219859.        3453.\n10 2018  General      Physician                  631460 2268764326.        3593.\n# ℹ 14 more rows\n# ℹ 4 more variables: payment_median <dbl>, payments_n <int>,\n#   payments_mean <dbl>, payments_median <dbl>\n```\n\n\n:::\n:::\n\n### Data Dictionary\n\n::: {.cell}\n\n```{.r .cell-code}\nopen_dictionary()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$`Research Payment Data`\n# A tibble: 252 × 6\n   field                            description type  maxlength pattern      max\n   <chr>                            <chr>       <chr>     <int> <chr>      <dbl>\n 1 change_type                      \"An indica… stri…        20 <NA>    NA      \n 2 covered_recipient_type           \"An indica… stri…        50 <NA>    NA      \n 3 noncovered_recipient_entity_name \"The name … stri…        50 <NA>    NA      \n 4 teaching_hospital_ccn            \"A unique … stri…         6 <NA>    NA      \n 5 teaching_hospital_id             \"System ge… stri…        38 ^[0-9]… NA      \n 6 teaching_hospital_name           \"The name … stri…       100 <NA>    NA      \n 7 covered_recipient_profile_id     \"System ge… stri…        38 ^[0-9]… NA      \n 8 covered_recipient_npi            \"National … inte…        NA <NA>     1.00e10\n 9 covered_recipient_first_name     \"First nam… stri…        20 <NA>    NA      \n10 covered_recipient_middle_name    \"Middle na… stri…        20 <NA>    NA      \n# ℹ 242 more rows\n\n$`Ownership Payment Data`\n# A tibble: 30 × 6\n   field                            description type  maxlength pattern      max\n   <chr>                            <chr>       <chr>     <int> <chr>      <dbl>\n 1 change_type                      \"An indica… stri…        20 <NA>    NA      \n 2 physician_profile_id             \"Open Paym… stri…        38 ^[0-9]… NA      \n 3 physician_npi                    \"National … inte…        NA <NA>     1.00e10\n 4 physician_first_name             \"First nam… stri…        20 <NA>    NA      \n 5 physician_middle_name            \"Middle na… stri…        20 <NA>    NA      \n 6 physician_last_name              \"Last name… stri…        35 <NA>    NA      \n 7 physician_name_suffix            \"Name suff… stri…         5 <NA>    NA      \n 8 recipient_primary_business_stre… \"The first… stri…        55 <NA>    NA      \n 9 recipient_primary_business_stre… \"The secon… stri…        55 <NA>    NA      \n10 recipient_city                   \"The prima… stri…        40 <NA>    NA      \n# ℹ 20 more rows\n\n$`General Payment Data`\n# A tibble: 91 × 6\n   field                         description    type  maxlength pattern      max\n   <chr>                         <chr>          <chr>     <int> <chr>      <dbl>\n 1 change_type                   \"An indicator… stri…        20 <NA>    NA      \n 2 covered_recipient_type        \"An indicator… stri…        50 <NA>    NA      \n 3 teaching_hospital_ccn         \"A unique ide… stri…         6 <NA>    NA      \n 4 teaching_hospital_id          \"The system g… stri…        38 ^[0-9]… NA      \n 5 teaching_hospital_name        \"The name of … stri…       100 <NA>    NA      \n 6 covered_recipient_profile_id  \"System gener… stri…        38 ^[0-9]… NA      \n 7 covered_recipient_npi         \"National Pro… inte…        NA <NA>     1.00e10\n 8 covered_recipient_first_name  \"First name o… stri…        20 <NA>    NA      \n 9 covered_recipient_middle_name \"Middle name … stri…        20 <NA>    NA      \n10 covered_recipient_last_name   \"Last name of… stri…        35 <NA>    NA      \n# ℹ 81 more rows\n\n$`Covered Recipient Profile Supplement`\n# A tibble: 32 × 6\n   field                            description type  maxlength pattern      max\n   <chr>                            <chr>       <chr>     <int> <chr>      <dbl>\n 1 covered_recipient_profile_type   \"Indicator… stri…        50 <NA>    NA      \n 2 covered_recipient_profile_id     \"System ge… stri…        38 ^[0-9]… NA      \n 3 associated_covered_recipient_pr… \"Covered_R… stri…        38 ^[0-9]… NA      \n 4 associated_covered_recipient_pr… \"Covered_R… stri…        38 ^[0-9]… NA      \n 5 covered_recipient_npi            \"National … inte…        NA <NA>     1.00e10\n 6 covered_recipient_profile_first… \"The first… stri…        20 <NA>    NA      \n 7 covered_recipient_profile_middl… \"The middl… stri…        20 <NA>    NA      \n 8 covered_recipient_profile_last_… \"The last … stri…        35 <NA>    NA      \n 9 covered_recipient_profile_suffix \"The suffi… stri…         5 <NA>    NA      \n10 covered_recipient_profile_alter… \"The alter… stri…        20 <NA>    NA      \n# ℹ 22 more rows\n```\n\n\n:::\n:::\n\n## Querying\n\n::: {.cell}\n\n```{.r .cell-code}\nformat_query_open <- function(args, op = \"=\") {\n\n  args  <- discard(args, is.null)\n\n  query <- glue(\n  \"\n  'conditions[{i}][property]' = '{PROPERTY}',\n  'conditions[{i}][operator]' = '{OPERATOR}',\n  'conditions[{i}][value]' = '{VALUE}'\n  \",\n    i                 = seq_along0(args),\n    PROPERTY          = names(args),\n    OPERATOR          = op,\n    VALUE             = args) |>\n    glue_collapse(sep = \",\\n\")\n  \n  glue(\"c({query})\") |>\n    parse_expr() |>\n    eval_bare()\n}\n\ncreate_request_open <- function(id, args) {\n  \n  id |>\n    open_uuid_url() |>\n    request() |>\n    req_url_query(\n      !!!format_query_open(args),\n      schema  = \"false\",\n      keys    = \"false\",\n      offset  = 0\n    )\n}\n\nquery_nresults_open <- function(req) {\n  \n  req_url_query(\n    req,\n    results = \"false\", \n    count   = \"true\", \n    offset  = 0, \n    limit   = 1) |>\n    perform_simple() |> \n    _[[\"count\"]]\n  \n}\n\nperform_request_open <- function(req) {\n  \n  req_url_query(\n    req,\n    results = \"true\", \n    count   = \"false\", \n    offset  = 0, \n    limit   = 500) |>\n    perform_simple()\n  \n}\n\nformat_query_open(\n  c(\n    covered_recipient_npi = 1023630738, \n    covered_recipient_profile_city = \"Valdosta\")\n  ) |> \n  fuimus::print_ls()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nconditions[0][property] : covered_recipient_npi\nconditions[0][operator] : =\nconditions[0][value]    : 1023630738\nconditions[1][property] : covered_recipient_profile_city\nconditions[1][operator] : =\nconditions[1][value]    : Valdosta\n```\n\n\n:::\n:::\n\n## Query Format\n\n::: {.cell}\n\n```{.r .cell-code}\ntictoc::tic()\nrequest(\"https://openpaymentsdata.cms.gov/api/1/datastore/sql\") |> \n  req_url_query(\n    query = paste0(\n      '[SELECT * FROM 08e796b8-7108-561a-8430-bea3bd54e485]',\n      '[LIMIT 500 OFFSET 0]',\n      '[WHERE covered_recipient_last_name = \"SMITH\"]'\n      ),\n    show_db_columns = \"true\"\n  ) |> \n  perform_simple() |> \n  as_tbl() |> \n  map_na_if() |> \n  handle_na()\ntictoc::toc()\n```\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nex_url <- url_parse(\n  base_url = \"https://openpaymentsdata.cms.gov/api/1/datastore/\", \n  url      = \"query/fdc3c773-018a-412c-8a81-d7b8a13a037b/0\") |> \n  url_modify_query(\n    `conditions[0][property]` = \"covered_recipient_npi\",\n    `conditions[0][value]`    = \"1093709297\",\n    # `conditions[0][property]` = \"covered_recipient_last_name\",\n    # `conditions[0][value]`    = \"SMITH\",\n    `conditions[0][operator]` = \"=\",\n    schema                    = \"false\",\n    keys                      = \"true\",\n    # results                   = \"false\",\n    offset                    = 0,\n    limit                     = 500) |>\n  url_build()\n\ntictoc::tic()\nex_res <- fload(ex_url)\ntictoc::toc()\n\nas_tbl(ex_res$results) |> \n  map_na_if() |> \n  handle_na() |>\n  purse()\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntictoc::tic()\nurl_parse(\n  base_url = \"https://openpaymentsdata.cms.gov/api/1/datastore/\", \n  url      = \"query/fdc3c773-018a-412c-8a81-d7b8a13a037b/0\") |> \n  url_modify_query(\n    # `conditions[0][property]` = \"covered_recipient_npi\",\n    # `conditions[0][value]`    = \"1093709297\",\n    `conditions[0][property]` = \"covered_recipient_last_name\",\n    `conditions[0][value]`    = \"SMITH\",\n    `conditions[0][operator]` = \"=\",\n    schema                    = \"false\",\n    keys                      = \"false\",\n    # results                   = \"false\",\n    offset                    = 0,\n    limit                     = 500) |>\n  url_build() |> \n  request() |> \n  perform_simple() |>\n  _[[\"count\"]]\ntictoc::toc()\n```\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntictoc::tic()\nrequest(\"https://openpaymentsdata.cms.gov/api/1/datastore/query/fdc3c773-018a-412c-8a81-d7b8a13a037b/0\") |> \n  req_url_query(\n    `conditions[0][property]` = \"covered_recipient_npi\",\n    `conditions[0][value]`    = \"1093709297\",\n    `conditions[0][operator]` = \"=\",\n    schema                    = \"false\",\n    keys                      = \"false\",\n    results                   = \"false\",\n    offset                    = 0) |>\n  perform_simple() |>\n  _[[\"count\"]]\ntictoc::toc()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntictoc::tic()\nurl_parse(\n  base_url = \"https://openpaymentsdata.cms.gov/api/1/datastore/\", \n  url      = \"query/fdc3c773-018a-412c-8a81-d7b8a13a037b/0\") |> \n  url_modify_query(\n    `conditions[0][property]` = \"covered_recipient_first_name\",\n    `conditions[0][value]`    = \"PATRICK\",\n    `conditions[0][operator]` = \"=\",\n    `conditions[1][property]` = \"covered_recipient_last_name\",\n    `conditions[1][value]`    = \"WARD\",\n    `conditions[1][operator]` = \"=\",\n    schema                    = \"false\",\n    keys                      = \"true\",\n    offset                    = 0) |>\n  url_build() |> \n  request() |> \n  perform_simple()\ntictoc::toc()\n```\n:::\n",
    "supporting": [
      "api_open_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}