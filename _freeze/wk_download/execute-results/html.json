{
  "hash": "30ae249c57b23a58bc93942ab0f438dd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Downloads\"\neditor_options: \n   chunk_output_type: console\n---\n\n\n\n## Provider Enrollment Sub-Files\n\n::: {.cell}\n\n```{.r .cell-code}\nresourcesAPI <- prop(public_Dataset(\"Provider Enrollment\"), \"resourcesAPI\")\n\nresourcesAPI\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<providertwo::dataset_Resources>\n @ url  : chr \"https://data.cms.gov/data-api/v1/dataset-resources/7dcf9ea6-ee2f-4bf1-8b5d-39c18b0e8541\"\n @ files: tibble [7 × 4] (S3: tbl_df/tbl/data.frame)\n $ name       : chr [1:7] \"Medicare FFS Public Provider Enrollment Q4 2024\" \"Medicare FFS Public Provider Enrollment Data Dictionary\" \"Medicare FFS  Public Provider Enrollment Methodology\" \"Reassignment Sub-File 2024 Q4\" ...\n $ fileSize   : chr [1:7] \"316.55 MB\" \"144.35 kB\" \"61.36 kB\" \"111.75 MB\" ...\n $ fileType   : chr [1:7] \"csv\" \"pdf\" \"pdf\" \"csv\" ...\n $ downloadURL: chr [1:7] \"https://data.cms.gov/sites/default/files/2025-01/8ced283e-4017-4b90-b511-142aabb8531b/PPEF_Enrollment_Extract_2025.01.02.csv\" \"https://data.cms.gov/sites/default/files/2022-07/adb9dd34-73da-4488-855f-f091a648f87c/Medicare%20Fee-For-Servic\"| __truncated__ \"https://data.cms.gov/sites/default/files/2020-08/PPEF_Data_Guidance_07_31_2020.pdf\" \"https://data.cms.gov/sites/default/files/2025-01/PPEF_Reassignment_Extract_2025.01.02.csv\" ...\n```\n\n\n:::\n\n```{.r .cell-code}\nsubfile_csvs <- filter(resourcesAPI@files, fileType == \"csv\", sf_detect(name, \"Sub-File\"))\n\nsubfile_csvs\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 4\n  name                                 fileSize  fileType downloadURL           \n  <chr>                                <chr>     <chr>    <chr>                 \n1 Reassignment Sub-File 2024 Q4        111.75 MB csv      https://data.cms.gov/…\n2 Address Sub-File 2024 Q4             43.09 MB  csv      https://data.cms.gov/…\n3 Secondary Specialty Sub-File 2024 Q4 28.34 MB  csv      https://data.cms.gov/…\n```\n\n\n:::\n\n```{.r .cell-code}\nsubfile_urls <- subfile_csvs$downloadURL\n\nsubfile_urls\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"https://data.cms.gov/sites/default/files/2025-01/PPEF_Reassignment_Extract_2025.01.02.csv\"       \n[2] \"https://data.cms.gov/sites/default/files/2025-01/PPEF_Practice_Location_Extract_2025.01.02.csv\"  \n[3] \"https://data.cms.gov/sites/default/files/2025-01/PPEF_Secondary_Specialty_Extract_2025.01.02.csv\"\n```\n\n\n:::\n:::\n\n### Reassignment Sub-File 2024 Q4\n\n::: {.cell}\n\n```{.r .cell-code}\nreassign_subfile <- read_csv_arrow(\n  file = subfile_urls[1], \n  col_types = \"cc\",\n  col_names = c(\"REASGN_BNFT_ENRLMT_ID\", \"RCV_BNFT_ENRLMT_ID\"),\n  as_data_frame = TRUE) |> \n  to_duckdb()\n\nreassign_subfile\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Source:   table<arrow_001> [?? x 2]\n# Database: DuckDB v1.1.3 [Andrew@Windows 10 x64:R 4.4.2/:memory:]\n   REASGN_BNFT_ENRLMT_ID RCV_BNFT_ENRLMT_ID\n   <chr>                 <chr>             \n 1 REASGN_BNFT_ENRLMT_ID RCV_BNFT_ENRLMT_ID\n 2 I20031103000001       O20031216000213   \n 3 I20031103000001       O20111004000177   \n 4 I20031103000007       O20040308000883   \n 5 I20031103000007       O20051206000046   \n 6 I20031103000014       O20070303000050   \n 7 I20031103000014       O20221026001638   \n 8 I20031103000020       O20190812002967   \n 9 I20031103000033       O20181107003537   \n10 I20031103000033       O20181204002777   \n# ℹ more rows\n```\n\n\n:::\n:::\n\n### Address Sub-File 2024 Q4\n\n::: {.cell}\n\n```{.r .cell-code}\naddress_subfile <- read_csv_arrow(\n  file = subfile_urls[2], \n  col_types = \"cccc\",\n  col_names = c(\"ENRLMT_ID\", \"CITY_NAME\", \"STATE_CD\", \"ZIP_CD\"),\n  as_data_frame = TRUE) |> \n  to_duckdb()\n\naddress_subfile\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Source:   table<arrow_002> [?? x 4]\n# Database: DuckDB v1.1.3 [Andrew@Windows 10 x64:R 4.4.2/:memory:]\n   ENRLMT_ID       CITY_NAME     STATE_CD ZIP_CD   \n   <chr>           <chr>         <chr>    <chr>    \n 1 ENRLMT_ID       CITY_NAME     STATE_CD ZIP_CD   \n 2 I20031103000005 MECHANICSBURG PA       170501925\n 3 I20031103000013 SAN JUAN      PR       009175030\n 4 I20031103000015 TOMS RIVER    NJ       08757    \n 5 I20031103000028 JERSEY CITY   NJ       073062305\n 6 I20031103000030 AGUADILLA     PR       006055256\n 7 I20031103000032 BINGHAM FARMS MI       480255810\n 8 I20031103000036 LAJAS         PR       006672082\n 9 I20031103000037 PONCE         PR       00780    \n10 I20031103000063 CAGUAS        PR       00726    \n# ℹ more rows\n```\n\n\n:::\n:::\n\n### Secondary Specialty Sub-File 2024 Q4\n\n::: {.cell}\n\n```{.r .cell-code}\nsecond_specialty <- read_csv_arrow(\n  file = subfile_urls[3], \n  col_types = \"ccc\",\n  col_names = c(\"ENRLMT_ID\", \"PROVIDER_TYPE_CD\", \"PROVIDER_TYPE_DESC\"),\n  as_data_frame = TRUE) |> \n  to_duckdb()\n\nsecond_specialty\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Source:   table<arrow_003> [?? x 3]\n# Database: DuckDB v1.1.3 [Andrew@Windows 10 x64:R 4.4.2/:memory:]\n   ENRLMT_ID       PROVIDER_TYPE_CD PROVIDER_TYPE_DESC                          \n   <chr>           <chr>            <chr>                                       \n 1 ENRLMT_ID       PROVIDER_TYPE_CD PROVIDER_TYPE_DESC                          \n 2 I20031103000037 14-11            PRACTITIONER - INTERNAL MEDICINE            \n 3 I20031103000037 14-81            PRACTITIONER - CRITICAL CARE (INTENSIVISTS) \n 4 I20031103000039 14-19            PRACTITIONER - ORAL SURGERY                 \n 5 I20031103000089 14-09            PRACTITIONER - INTERVENTIONAL PAIN MANAGEME…\n 6 I20031103000123 14-30            PRACTITIONER - DIAGNOSTIC RADIOLOGY         \n 7 I20031103000159 14-11            PRACTITIONER - INTERNAL MEDICINE            \n 8 I20031103000159 14-17            PRACTITIONER - HOSPICE/PALLIATIVE CARE      \n 9 I20031103000159 14-83            PRACTITIONER - HEMATOLOGY/ONCOLOGY          \n10 I20031103000197 14-25            PRACTITIONER - PHYSICAL MEDICINE AND REHABI…\n# ℹ more rows\n```\n\n\n:::\n:::\n\n",
    "supporting": [
      "wk_download_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}