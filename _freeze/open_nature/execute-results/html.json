{
  "hash": "c4ae346f7eaf560e11aa13c9e9e5d249",
  "result": {
    "engine": "knitr",
    "markdown": "---\neditor_options: \n   chunk_output_type: console\n---\n\n\n\n# Summary Nature {#sec-opennature}\n\nGroups payment data by state, recipient type, and nature of payment\n\n### Metadata\n\n\n::: {.cell}\n<pre class=\"r-output\"><code>    [ROWS] 16758 \n   [PAGES] 34 \n  [FIELDS] 28 \n[MODIFIED] 2025-01-30 \n[DOWNLOAD] https://download.cms.gov/openpayments/SMRY_RPTS_P01302025_01212025/PBLCTN_NTR_OF_PYMT_BY_STATE_SMRY_PGYRall_P01302025_01212025.csv \n</code></pre>\n:::\n\n\n## Data\n\n\n::: {.cell}\n<pre class=\"r-output\"><code><span style='color: #555555;'># A tibble: 500 × 28</span>\n   country_code country_name  state_code state_name            nature_of_payment\n   <span style='color: #555555; font-style: italic;'><chr></span>        <span style='color: #555555; font-style: italic;'><chr></span>         <span style='color: #555555; font-style: italic;'><chr></span>      <span style='color: #555555; font-style: italic;'><chr></span>                 <span style='color: #555555; font-style: italic;'><chr></span>            \n<span style='color: #555555;'> 1</span> US           United States AA         Armed Forces Americas Acquisitions     \n<span style='color: #555555;'> 2</span> US           United States AA         Armed Forces Americas Charitable Contr…\n<span style='color: #555555;'> 3</span> US           United States AA         Armed Forces Americas Compensation for…\n<span style='color: #555555;'> 4</span> US           United States AA         Armed Forces Americas Compensation for…\n<span style='color: #555555;'> 5</span> US           United States AA         Armed Forces Americas Compensation for…\n<span style='color: #555555;'> 6</span> US           United States AA         Armed Forces Americas Compensation for…\n<span style='color: #555555;'> 7</span> US           United States AA         Armed Forces Americas Consulting Fee   \n<span style='color: #555555;'> 8</span> US           United States AA         Armed Forces Americas Current or prosp…\n<span style='color: #555555;'> 9</span> US           United States AA         Armed Forces Americas Debt forgiveness \n<span style='color: #555555;'>10</span> US           United States AA         Armed Forces Americas Education        \n<span style='color: #555555;'># ℹ 490 more rows</span>\n<span style='color: #555555;'># ℹ 23 more variables: recipient_type <chr>, program_year <chr>,</span>\n<span style='color: #555555;'>#   total_number_of_physicians <chr>,</span>\n<span style='color: #555555;'>#   total_number_of_non_physician_practitioners <chr>,</span>\n<span style='color: #555555;'>#   total_number_of_teaching_hospitals <chr>,</span>\n<span style='color: #555555;'>#   total_payment_amount_physician <chr>,</span>\n<span style='color: #555555;'>#   total_payment_amount_non_physician_practitioner <chr>, …</span>\n</code></pre>\n:::\n\n\n## Tidyup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- resp |>\n  as_tbl() |>\n  mtt(recipient_type = providertwo:::clean_names(recipient_type)) |>\n  rsplit(~ recipient_type)\n\nx$covered_recipient_physician <- fcompute(\n  x$covered_recipient_physician,\n  year            = factor_(program_year),\n  payment_type    = factor_(payment_type),\n  recipient_type  = \"Physician\",\n  recipient_n     = as.integer(total_number_of_physicians),\n  payment_sum     = as.numeric(total_payment_amount_physician),\n  payment_mean    = as.numeric(mean_total_payment_amount_physician),\n  payment_median  = as.numeric(median_total_payment_amount_physician),\n  payments_n      = as.integer(total_payment_count_physician),\n  payments_mean   = as.double(mean_total_payment_count_physician),\n  payments_median = as.double(median_total_payment_count_physician)\n)\n```\n\n<pre class=\"r-output\"><code>Error in eval(substitute(list(...)), .data, parent.frame()): object 'payment_type' not found\n</code></pre>\n\n```{.r .cell-code}\nx$covered_recipient_non_physician_practitioner <- fcompute(\n  x$covered_recipient_non_physician_practitioner,\n  year            = factor_(program_year),\n  payment_type    = factor_(payment_type),\n  recipient_type  = \"Non-Physician Practitioner\",\n  recipient_n     = as.integer(total_number_of_non_physician_practitioners),\n  payment_sum     = as.numeric(total_payment_amount_non_physician_practitioner),\n  payment_mean    = as.numeric(mean_total_payment_amount_non_physician_practitioner),\n  payment_median  = as.numeric(median_total_payment_amount_non_physician_practitioner),\n  payments_n      = as.integer(total_payment_count_non_physician_practitioner),\n  payments_mean   = as.double(mean_total_payment_count_non_physician_practitioner),\n  payments_median = as.double(median_total_payment_count_non_physician_practitioner)\n)\n```\n\n<pre class=\"r-output\"><code>Error in fcompute(x$covered_recipient_non_physician_practitioner, year = factor_(program_year), : .data needs to be a list of equal length columns or a data.frame\n</code></pre>\n\n```{.r .cell-code}\nx |>\n  rowbind() |>\n  mtt(recipient_type = factor_(recipient_type)) |>\n  roworder(recipient_type, payment_type) |>\n  as_tbl()\n```\n\n<pre class=\"r-output\"><code>Error in eval(ei, .data, pe): object 'recipient_type' not found\n</code></pre>\n:::\n\n\n",
    "supporting": [
      "open_nature_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}