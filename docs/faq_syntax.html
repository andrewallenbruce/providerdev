<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="This is a personal, informal guide to rewriting an R package. It is a work in progress and will be updated as I learn more about the process.">
<title>Appendix A: JSON:API Syntax – Refactoring &lt;b&gt;provider&lt;/b&gt;&lt;sup&gt;&lt;i&gt;2&lt;/i&gt;&lt;/sup&gt;
</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./faq_schema.html" rel="next">
<link href="./demo_geo.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-63d16095416a24481023f5421c7b4420.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-3a1226644ebfbcb36c795c071a962883.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
</head>
<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./faq_syntax.html">Appendices</a></li><li class="breadcrumb-item"><a href="./faq_syntax.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JSON:API Syntax</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Refactoring <b>provider</b><sup><i>2</i></sup></a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/andrewallenbruce/providerdev" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_backend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Backend</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Groups</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_url.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">URL Object</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_args.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Params</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_query.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Query</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_download.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Downloads</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Comprehensive Search</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">APIs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api_nppes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">NPI Registry</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api_qpp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">QPP Eligibility</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api_ndc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">National Drug Codes</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_care.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Medicare</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_ahqr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">AHRQ PSI-11 Rates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_aip.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">ACO AIP Plan</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_cpc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">CPC Initiative</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_joint.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Joint Model MSAs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_countyrisk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">County Risk Score</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_drahac.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">DRA HAC Measures</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_esrdgrp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">ESRD Group</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_enrollees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Provider Enrollment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_rhc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Rural Health Clinics</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_prov.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Provider</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pro_affiliations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Facility Affiliations</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_open.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Open Payments</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_dashboard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Summary Dashboard</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_national.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Summary National</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_state.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Summary State</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_nature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Summary Nature</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_specialty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Summary Specialty</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_covered.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Covered Recipient</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_physician.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Physician Profile</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Profile Information</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_entity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Entity Profile</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Teaching Hospital</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_mcd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Medicaid</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./caid_acaful.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">ACA FUL</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./caid_rebate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Drug Rebate Program</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_hc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HealthCare.Gov</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hgov_auto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Auto-Pop</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hgov_abreg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">AB Registration</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hgov_absus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">AB Suspension/Termination</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Demos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./demo_geo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Geospatial</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faq_syntax.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JSON:API Syntax</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faq_schema.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">DCAT Metadata</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#links" id="toc-links" class="nav-link active" data-scroll-target="#links">Links</a></li>
  <li><a href="#jsonapi" id="toc-jsonapi" class="nav-link" data-scroll-target="#jsonapi">JSON:API</a></li>
  <li>
<a href="#filtering" id="toc-filtering" class="nav-link" data-scroll-target="#filtering">Filtering</a>
  <ul class="collapse">
<li><a href="#conditions" id="toc-conditions" class="nav-link" data-scroll-target="#conditions">Conditions</a></li>
  <li><a href="#groups" id="toc-groups" class="nav-link" data-scroll-target="#groups">Groups</a></li>
  <li><a href="#paths" id="toc-paths" class="nav-link" data-scroll-target="#paths">Paths</a></li>
  <li><a href="#shortcuts" id="toc-shortcuts" class="nav-link" data-scroll-target="#shortcuts">Shortcuts</a></li>
  <li><a href="#filters-and-access-control" id="toc-filters-and-access-control" class="nav-link" data-scroll-target="#filters-and-access-control">Filters and Access Control</a></li>
  </ul>
</li>
  <li>
<a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a>
  <ul class="collapse">
<li><a href="#exact-match-on-column" id="toc-exact-match-on-column" class="nav-link" data-scroll-target="#exact-match-on-column">Exact Match on Column</a></li>
  <li><a href="#contains" id="toc-contains" class="nav-link" data-scroll-target="#contains">CONTAINS</a></li>
  <li><a href="#contains-equals" id="toc-contains-equals" class="nav-link" data-scroll-target="#contains-equals">CONTAINS &amp; EQUALS</a></li>
  <li><a href="#equals-simplified" id="toc-equals-simplified" class="nav-link" data-scroll-target="#equals-simplified">EQUALS Simplified</a></li>
  <li><a href="#keyword" id="toc-keyword" class="nav-link" data-scroll-target="#keyword">Keyword</a></li>
  <li><a href="#multiple-conditions-at-once" id="toc-multiple-conditions-at-once" class="nav-link" data-scroll-target="#multiple-conditions-at-once">Multiple Conditions at Once</a></li>
  <li><a href="#in" id="toc-in" class="nav-link" data-scroll-target="#in">IN</a></li>
  <li><a href="#sort-results" id="toc-sort-results" class="nav-link" data-scroll-target="#sort-results">Sort Results</a></li>
  <li><a href="#subset-columns" id="toc-subset-columns" class="nav-link" data-scroll-target="#subset-columns">Subset Columns</a></li>
  <li><a href="#only-published-nodes" id="toc-only-published-nodes" class="nav-link" data-scroll-target="#only-published-nodes">Only Published Nodes</a></li>
  <li><a href="#nodes-by-value-of-entity-reference" id="toc-nodes-by-value-of-entity-reference" class="nav-link" data-scroll-target="#nodes-by-value-of-entity-reference">Nodes by Value of Entity Reference</a></li>
  <li><a href="#nested-filters" id="toc-nested-filters" class="nav-link" data-scroll-target="#nested-filters">Nested Filters</a></li>
  <li><a href="#filtering-with-arrays" id="toc-filtering-with-arrays" class="nav-link" data-scroll-target="#filtering-with-arrays">Filtering with Arrays</a></li>
  <li><a href="#grouping-filters" id="toc-grouping-filters" class="nav-link" data-scroll-target="#grouping-filters">Grouping Filters</a></li>
  <li><a href="#grouping-grouped-filters" id="toc-grouping-grouped-filters" class="nav-link" data-scroll-target="#grouping-grouped-filters">Grouping Grouped Filters</a></li>
  <li><a href="#filter-for-nodes-where-title-contains-foo" id="toc-filter-for-nodes-where-title-contains-foo" class="nav-link" data-scroll-target="#filter-for-nodes-where-title-contains-foo">Filter for nodes where ‘title’ CONTAINS “Foo”</a></li>
  <li><a href="#filter-by-non-standard-complex-fields-e.g.-addressfield" id="toc-filter-by-non-standard-complex-fields-e.g.-addressfield" class="nav-link" data-scroll-target="#filter-by-non-standard-complex-fields-e.g.-addressfield">Filter by non-standard complex fields (e.g.&nbsp;addressfield)</a></li>
  <li><a href="#filtering-on-taxonomy-term-values-e.g.-tags" id="toc-filtering-on-taxonomy-term-values-e.g.-tags" class="nav-link" data-scroll-target="#filtering-on-taxonomy-term-values-e.g.-tags">Filtering on Taxonomy term values (e.g.&nbsp;tags)</a></li>
  <li><a href="#filtering-on-date-date-only-no-time" id="toc-filtering-on-date-date-only-no-time" class="nav-link" data-scroll-target="#filtering-on-date-date-only-no-time">Filtering on Date (Date only, no time)</a></li>
  <li><a href="#filtering-on-empty-array-fields" id="toc-filtering-on-empty-array-fields" class="nav-link" data-scroll-target="#filtering-on-empty-array-fields">Filtering on empty array fields</a></li>
  </ul>
</li>
  </ul><div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://github.com/andrewallenbruce/provider"><i class="bi bi-file-code"></i>Provider GitHub</a></li><li><a href="https://github.com/andrewallenbruce/providertwo"><i class="bi bi-file-code"></i>providertwo</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./faq_syntax.html">Appendices</a></li><li class="breadcrumb-item"><a href="./faq_syntax.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JSON:API Syntax</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-jsonapi" class="quarto-section-identifier">Appendix A: JSON:API Syntax</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="links" class="level2"><h2 class="anchored" data-anchor-id="links">Links</h2>
<ul>
<li><a href="https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module/filtering">Drupal JSON:API</a></li>
</ul></section><section id="jsonapi" class="level2"><h2 class="anchored" data-anchor-id="jsonapi">JSON:API</h2>
<p>The Drupal core <a href="https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module">JSON:API module</a> implements the JSON:API spec for Drupal entities. It provides a zero-configuration required, opinionated, way to allow RESTful CRUD for a Drupal site’s content.</p>
<p>It is closely coupled to Drupal’s Entity and Field APIs, response caching, and authentication and authorization systems. Because it follows the shared JSON:API conventions it can help increase productivity and allow you to take advantage of non-Drupal specific tooling.</p>
<p><a href="https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module/filtering">Refer to the Drupal documentation</a> for more information on filtering API requests.</p>
</section><section id="filtering" class="level2"><h2 class="anchored" data-anchor-id="filtering">Filtering</h2>
<p><a href="https://www.drupal.org/docs/8/modules/json-api/collections-filtering-and-sorting">Collections</a> are listings of resources. When you make an unfiltered request to a collection endpoint like <code>/jsonapi/node/article</code>, you’ll just get every article that you’re allowed to see. Without filters, you can’t get only the articles that you want.</p>
<p>The simplest, most common filter is a <strong>key-value filter</strong>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>   filter[field_1]<span class="ot">=</span>value_1<span class="sc">&amp;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>   filter[field_2]<span class="ot">=</span>value_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This matches all resources with <code>field_1</code> equal to <code>"value_1"</code> and <code>field_2</code> equal to <code>"value_2"</code>.</p>
<section id="conditions" class="level3"><h3 class="anchored" data-anchor-id="conditions">Conditions</h3>
<p>The fundamental building blocks of JSON:API filters are <strong>Conditions</strong> and <strong>Groups</strong>.</p>
<ul>
<li>
<strong>Conditions</strong> assert that something is <code>TRUE</code>
</li>
<li>
<strong>Groups</strong> compose sets of conditions</li>
</ul>
<p>Those sets can be nested to make super fine queries. You can think of a nested set as a tree:</p>
<p><em>Conventional representation:</em></p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">is_A</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"A"</span><span class="op">)</span></span>
<span><span class="va">is_B</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"B"</span><span class="op">)</span></span>
<span><span class="va">is_C</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"C"</span><span class="op">)</span></span>
<span><span class="va">is_D</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"D"</span><span class="op">)</span></span>
<span><span class="va">is_E</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"E"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_A</span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fu">is_B</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu">is_C</span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fu">is_D</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">|</span> <span class="fu">is_E</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"G"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_A</span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fu">is_B</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu">is_C</span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fu">is_D</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">|</span> <span class="fu">is_E</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p><em>Tree representation:</em></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>   A</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span> \</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a> B <span class="sc">&amp;</span> C</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">/</span> \</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>   D <span class="sc">|</span> E</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In both representations:</p>
<ul>
<li>
<code>D</code> &amp; <code>E</code> are members of <code>C</code> in an <code>OR</code> group</li>
<li>
<code>B</code> &amp; <code>C</code> are members of <code>A</code> in an <code>AND</code> group</li>
</ul>
<p>A <strong>condition</strong> has 3 primary parts:</p>
<ol type="1">
<li>
<code>[path]</code>: Dataset <strong>Field</strong>
</li>
<li>
<code>[operator]</code>: Logical comparison</li>
<li>
<code>[value]</code>: Dataset <strong>Row</strong>
</li>
</ol>
<p>In <strong>JSON:API</strong> syntax, these are formatted as a <code>key=value</code> pair to work inside a URL query string:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p><strong>Note</strong>: <code>%3D</code> is the URL-encoded <code>=</code> symbol. All operators must be URL-encoded.</p>
</blockquote>
<p>Notice the <code>ID</code> inside the first set of square brackets. <em>Every condition or group should have a unique identifier.</em></p>
<p>Let’s add another filter so we only get Janises with a last name that starts with <code>"J"</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis<span class="sc">&amp;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>LAST_NAME<span class="sc">&amp;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>STARTS_WITH<span class="sc">&amp;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>J</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="groups" class="level3"><h3 class="anchored" data-anchor-id="groups">Groups</h3>
<p>A <strong>group</strong> is a set of conditions joined by a <strong>conjunction</strong>, either <code>AND</code> or <code>OR</code>. Let’s say we want to find all users with a last name that starts with “J” and have either the first name “Janis” or “Joan”. To do that, we add a group:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>   filter[gID<span class="dv">-1</span>][group][conjunction]<span class="ot">=</span>OR</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then, we need assign filters to that new group. To do that, we add a <code>memberOf</code> key. Every condition and group can have a <code>memberOf</code> key.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>   filter[gID<span class="dv">-1</span>][group][conjunction]<span class="ot">=</span>OR<span class="sc">&amp;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>first_name<span class="sc">&amp;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis<span class="sc">&amp;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][memberOf]<span class="ot">=</span>gID<span class="dv">-1</span><span class="sc">&amp;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>first_name<span class="sc">&amp;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>Joan<span class="sc">&amp;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][memberOf]<span class="ot">=</span>gID<span class="dv">-1</span><span class="sc">&amp;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-3</span>][condition][path]<span class="ot">=</span>last_name<span class="sc">&amp;</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-3</span>][condition][operator]<span class="ot">=</span>STARTS_WITH<span class="sc">&amp;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-3</span>][condition][value]<span class="ot">=</span>J</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p><strong>Note</strong>: Groups can have a <code>memberOf</code> key just like conditions, which means you can have groups of groups. Every filter without a <code>memberOf</code> key is assumed to be part of a <code>root</code> group with a conjunction of <code>AND</code>.</p>
</blockquote>
<p>Does that look familiar? It should, we saw it above as a tree:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>   A         A <span class="ot">=</span> root <span class="sc">&amp;</span> g1</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span> \</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a> <span class="sc">/</span>   \       B <span class="ot">=</span> f3</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>B  <span class="sc">&amp;</span>  C      C <span class="ot">=</span> g1</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>     <span class="sc">/</span> \</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">/</span>   \    D <span class="ot">=</span> f1</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>   D  <span class="sc">|</span>  E   E <span class="ot">=</span> f2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="paths" class="level3"><h3 class="anchored" data-anchor-id="paths">Paths</h3>
<p>Paths provide a way to filter based on relationship values. Up to this point, we’ve just been filtering by the hypothetical <code>first_name</code> and <code>last_name</code>. Suppose we want to filter by the name of a user’s career, where career types are stored as a separate resource. We could add a filter like this:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>   filter[career][condition][path]<span class="ot">=</span>field_career.name<span class="sc">&amp;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>   filter[career][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>   filter[career][condition][value]<span class="ot">=</span>DOCTOR</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Paths use a “dot notation” to traverse relationships. If a resource has a relationship, you can add a filter against it by concatenating the relationship field name and the relationship’s field name with a <code>.</code> (dot). You can even filter by relationships of relationships (and so on) just by adding more field names and dots.</p>
<p>You can filter on a specific index of a relationship by putting a non-negative integer in the path. So the path <code>some_relationship.1.some_attribute</code> would only filter by the 2nd related resource.</p>
<blockquote class="blockquote">
<p>Tip: You can filter by sub-properties of a field. For example, a path like <code>field_phone.country_code</code> will work even though <code>field_phone</code> isn’t a relationship.</p>
</blockquote>
<p>When filtering against configuration properties, you can use an asterisk (<code>*</code>) to stand-in for any portion of a path.</p>
<p>For example,</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>api</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>field_config</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>field_config?</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>   filter[dependencies.config.<span class="sc">*</span>]<span class="ot">=</span>comment.type.comment</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>would match all field configs in which <code>[attributes][dependencies][config]</code> (an indexed array) contains the value <code>"comment.type.comment"</code>.</p>
</section><section id="shortcuts" class="level3"><h3 class="anchored" data-anchor-id="shortcuts">Shortcuts</h3>
<p>When the operator is <code>=</code>, you don’t have to include it:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>becomes</em></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When the operator is <code>=</code> and you don’t need to filter by the same field twice, the path can be the identifier:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>   filter[FIRST_NAME][value]<span class="ot">=</span>Janis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Reduce the simplest equality checks down to a <em>key-value</em> form:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>   filter[FIRST_NAME]<span class="ot">=</span>Janis</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="filters-and-access-control" class="level3"><h3 class="anchored" data-anchor-id="filters-and-access-control">Filters and Access Control</h3>
<p>First, a warning: don’t make the mistake of confusing filters for access control. Just because you’ve written a filter to remove something that a user shouldn’t be able to see, doesn’t mean it’s not accessible. <strong>Always perform access checks on the backend.</strong></p>
<p>With that big caveat, let’s talk about using filters to complement access control. To improve performance, you should filter out what your users will not be able to see. The most frequent support request in the JSON:API issue queues can be solved by this one simple trick! If you know your users cannot see unpublished content, add the following filter:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>   filter[status][value]<span class="ot">=</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Using this method, you’ll lower the number of unnecessary requests that you need to make. <strong>That’s because JSON:API doesn’t return data for resources to which a user doesn’t have access.</strong> You can see which resources may have been affected by inspecting the meta.errors section of JSON:API document. So, do your best to filter out inaccessible resources ahead of time.</p>
</section></section><section id="examples" class="level2"><h2 class="anchored" data-anchor-id="examples">Examples</h2>
<section id="exact-match-on-column" class="level3"><h3 class="anchored" data-anchor-id="exact-match-on-column">Exact Match on Column</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>   filter[PROVIDER_TYPE_DESC]<span class="ot">=</span>PRACTITIONER <span class="sc">-</span> GENERAL PRACTICE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="contains" class="level3"><h3 class="anchored" data-anchor-id="contains">CONTAINS</h3>
<p>Search on One Column</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>PROVIDER_TYPE_DESC<span class="sc">&amp;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>CONTAINS<span class="sc">&amp;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>SUPPLIER</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="contains-equals" class="level3"><h3 class="anchored" data-anchor-id="contains-equals">CONTAINS &amp; EQUALS</h3>
<p>Combination Search on Two Columns</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>PROVIDER_TYPE_DESC<span class="sc">&amp;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>CONTAINS<span class="sc">&amp;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>PRACTITIONER<span class="sc">&amp;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>STATE_CD<span class="sc">&amp;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>MD</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="equals-simplified" class="level3"><h3 class="anchored" data-anchor-id="equals-simplified">EQUALS Simplified</h3>
<p>This example is an equals filter searching the Accountable Care Organizations 2021 dataset for a single ID.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>aco_id<span class="sc">&amp;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>A4807</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>An equals filter can be simplified like this.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>   filter[aco_id]<span class="ot">=</span>A4807</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="keyword" class="level3"><h3 class="anchored" data-anchor-id="keyword">Keyword</h3>
<p>The keyword search will look for matching words in every column. This example will check for “Alex” in the Order and Referring dataset. Notice that it finds matches on both the first and last name fields.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>   keyword<span class="ot">=</span>Alex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="multiple-conditions-at-once" class="level3"><h3 class="anchored" data-anchor-id="multiple-conditions-at-once">Multiple Conditions at Once</h3>
<p>This search returns results from the Medicare Fee-For-Service Public Provider Enrollment dataset where the provider specialty is “PRACTITIONER - OPTOMETRY” and the location is Virginia.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?<span class="sc">&amp;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>   filter[ROOT][group][conjunction]<span class="ot">=</span>AND<span class="sc">&amp;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>   filter[GID<span class="dv">-1</span>][group][conjunction]<span class="ot">=</span>AND<span class="sc">&amp;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>   filter[GID<span class="dv">-1</span>][group][memberOf]<span class="ot">=</span>ROOT<span class="sc">&amp;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>PROVIDER_TYPE_DESC<span class="sc">&amp;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>PRACTITIONER <span class="sc">-</span> OPTOMETRY<span class="sc">&amp;</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][memberOf]<span class="ot">=</span>GID<span class="dv">-1</span><span class="sc">&amp;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>STATE_CD<span class="sc">&amp;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>VA<span class="sc">&amp;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][memberOf]<span class="ot">=</span>GID<span class="dv">-1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="in" class="level3"><h3 class="anchored" data-anchor-id="in">IN</h3>
<p>This search returns results from the Opioid Treatment Program Providers dataset where the provider is located from MD, MI, or VA with the results sorted by NPI.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>   filter[condition][path]<span class="ot">=</span>STATE<span class="sc">&amp;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>   filter[condition][operator]<span class="ot">=</span>IN<span class="sc">&amp;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>   filter[condition][value][]<span class="ot">=</span>MI<span class="sc">&amp;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>   filter[condition][value][]<span class="ot">=</span>VA<span class="sc">&amp;</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>   filter[condition][value][]<span class="ot">=</span>MD<span class="sc">&amp;</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>   sort<span class="ot">=</span>NPI</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Note About Empty Brackets:</strong></p>
<p>When utilizing square brackets for multiple values filters, <em>do not just use empty square brackets for a new value.</em> While these work when typed into the URL, Guzzle and other HTTP clients will only create one value, as the array key will be seen to be the same and override the previous value. <strong>It is better to use an index to create unique array elements.</strong></p>
<p>Note the two square brackets added behind the value to make it into an array:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>STATE<span class="sc">&amp;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>IN<span class="sc">&amp;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">1</span>]<span class="ot">=</span>MI<span class="sc">&amp;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">2</span>]<span class="ot">=</span>VA<span class="sc">&amp;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">3</span>]<span class="ot">=</span>MA</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="sort-results" class="level3"><h3 class="anchored" data-anchor-id="sort-results">Sort Results</h3>
<p>Use the <code>sort</code> query parameter to specify which column the results should be sorted by:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>Lowest first<span class="sc">:</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="er">/</span>data?</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>   sort<span class="ot">=</span>NPI</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>Highest first<span class="sc">:</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="er">/</span>data?</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>   sort<span class="ot">=</span><span class="sc">-</span>NPI</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="subset-columns" class="level3"><h3 class="anchored" data-anchor-id="subset-columns">Subset Columns</h3>
<p>Add a comma-separated string of column names to the <code>column</code> query parameter to limit the columns returned:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>   column<span class="ot">=</span>NPI,FIRST_NAME,LAST_NAME</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="only-published-nodes" class="level3"><h3 class="anchored" data-anchor-id="only-published-nodes">Only Published Nodes</h3>
<p>A very common scenario is to only load the nodes that are published. This is a very easy filter to add.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">SHORT</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">status</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span>
<span></span>
<span><span class="va">NORMAL</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">status</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="nodes-by-value-of-entity-reference" class="level3"><h3 class="anchored" data-anchor-id="nodes-by-value-of-entity-reference">Nodes by Value of Entity Reference</h3>
<p>A common strategy is to filter content by a entity reference.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>SHORT</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>   filter[uid.id][value]<span class="ot">=</span>BB09E2CD<span class="dv">-9487-44</span>BC<span class="sc">-</span>B219<span class="dv">-3</span>DC03D6820CD</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>NORMAL</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>uid.id</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>BB09E2CD<span class="dv">-9487-44</span>BC<span class="sc">-</span>B219<span class="dv">-3</span>DC03D6820CD</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To fully comply with the JSON API specification, while Drupal internally uses the <code>uuid</code> property, <strong>JSON:API</strong> uses <code>id</code> instead.</p>
<p>Since Drupal 9.3 it is possible to filter on <code>target_id</code> also instead of only filtering by <code>uuid</code> property.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">SHORT</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">field_tags.meta.drupal_internal__target_id</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span>
<span></span>
<span><span class="va">NORMAL</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">field_tags.meta.drupal_internal__target_id</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="nested-filters" class="level3"><h3 class="anchored" data-anchor-id="nested-filters">Nested Filters</h3>
<p>It’s possible to filter on fields from referenced entities like the user, taxonomy fields or any entity reference field. You can do this easily but just using the the following notation. reference_field.nested_field. In this example the reference field is uid for the user and name which is a field of the user entity.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">SHORT</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">uid.name</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="va">admin</span></span>
<span></span>
<span><span class="va">NORMAL</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">uid.name</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="va">admin</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="filtering-with-arrays" class="level3"><h3 class="anchored" data-anchor-id="filtering-with-arrays">Filtering with Arrays</h3>
<p>You can give multiple values to a filter for it to search in. Next to the field and value keys you can add an operator to your condition.</p>
<p>Usually it’s <code>"="</code> but you can also use <code>"IN"</code>, <code>"NOT IN"</code>, <code>"&gt;"</code>, <code>"&lt;"</code>, <code>"&lt;&gt;"</code>, <code>BETWEEN</code>“.</p>
<p>For this example we’re going to use the <code>"IN"</code> operator. Note that I added two square brackets behind the value to make it into an array.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">NORMAL</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">uid.name</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">operator</span><span class="op">]</span><span class="op">=</span><span class="va">IN</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">=</span><span class="va">admin</span></span>
<span>   <span class="va">filter</span><span class="op">[</span><span class="va">fID</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">=</span><span class="va">john</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="grouping-filters" class="level3"><h3 class="anchored" data-anchor-id="grouping-filters">Grouping Filters</h3>
<p>Now let’s combine some of the examples above and create the following scenario. WHERE user.name = admin AND node.status = 1:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">filter</span><span class="op">[</span><span class="va">and</span><span class="op">-</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">conjunction</span><span class="op">]</span><span class="op">=</span><span class="va">AND</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">name</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">uid.name</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">name</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="va">admin</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">name</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">memberOf</span><span class="op">]</span><span class="op">=</span><span class="va">and</span><span class="op">-</span><span class="va">group</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">status</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">status</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">status</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">status</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">memberOf</span><span class="op">]</span><span class="op">=</span><span class="va">and</span><span class="op">-</span><span class="va">group</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You don’t really have to add the and-group but I find that a bit easier usually.</p>
</section><section id="grouping-grouped-filters" class="level3"><h3 class="anchored" data-anchor-id="grouping-grouped-filters">Grouping Grouped Filters</h3>
<p>Like mentioned in the grouping section, you can put groups into other groups. WHERE (user.name = admin) AND (node.sticky = 1 OR node.promoted = 1)</p>
<p>To do this we put sticky and promoted into a group with conjunction OR. Create a group with conjunction AND and put the admin filter, and the promoted/sticky OR group into that.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Create an AND and an OR GROUP</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">and</span><span class="op">-</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">conjunction</span><span class="op">]</span><span class="op">=</span><span class="va">AND</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">or</span><span class="op">-</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">conjunction</span><span class="op">]</span><span class="op">=</span><span class="va">OR</span></span>
<span></span>
<span><span class="co"># Put the OR group into the AND GROUP</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">or</span><span class="op">-</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">group</span><span class="op">]</span><span class="op">[</span><span class="va">memberOf</span><span class="op">]</span><span class="op">=</span><span class="va">and</span><span class="op">-</span><span class="va">group</span></span>
<span></span>
<span><span class="co"># Create the admin filter and put it in the AND GROUP</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">admin</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">uid.name</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">admin</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="va">admin</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">admin</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">memberOf</span><span class="op">]</span><span class="op">=</span><span class="va">and</span><span class="op">-</span><span class="va">group</span></span>
<span></span>
<span><span class="co"># Create the sticky filter and put it in the OR GROUP</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">sticky</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">sticky</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">sticky</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">sticky</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">memberOf</span><span class="op">]</span><span class="op">=</span><span class="va">or</span><span class="op">-</span><span class="va">group</span></span>
<span></span>
<span><span class="co"># Create the promoted filter and put it in the OR GROUP</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">promote</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">promote</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">promote</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">promote</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">memberOf</span><span class="op">]</span><span class="op">=</span><span class="va">or</span><span class="op">-</span><span class="va">group</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="filter-for-nodes-where-title-contains-foo" class="level3"><h3 class="anchored" data-anchor-id="filter-for-nodes-where-title-contains-foo">Filter for nodes where ‘title’ CONTAINS “Foo”</h3>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">SHORT</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">title</span><span class="op">]</span><span class="op">[</span><span class="va">operator</span><span class="op">]</span><span class="op">=</span><span class="va">CONTAINS</span><span class="op">&amp;</span><span class="va">filter</span><span class="op">[</span><span class="va">title</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="va">Foo</span></span>
<span></span>
<span><span class="va">NORMAL</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">title</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">title</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">title</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">operator</span><span class="op">]</span><span class="op">=</span><span class="va">CONTAINS</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">title</span><span class="op">-</span><span class="va">filter</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">=</span><span class="va">Foo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="filter-by-non-standard-complex-fields-e.g.-addressfield" class="level3"><h3 class="anchored" data-anchor-id="filter-by-non-standard-complex-fields-e.g.-addressfield">Filter by non-standard complex fields (e.g.&nbsp;addressfield)</h3>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>FILTER BY LOCALITY</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>filter[field_address][condition][path]<span class="ot">=</span>field_address.locality</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>filter[field_address][condition][value]<span class="ot">=</span>Mordor</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>FILTER BY ADDRESS LINE</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>filter[address][condition][path]<span class="ot">=</span>field_address.address_line1</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>filter[address][condition][value]<span class="ot">=</span>Rings Street</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="filtering-on-taxonomy-term-values-e.g.-tags" class="level3"><h3 class="anchored" data-anchor-id="filtering-on-taxonomy-term-values-e.g.-tags">Filtering on Taxonomy term values (e.g.&nbsp;tags)</h3>
<p>For filtering you’ll need to use the machine name of the vocabulary and the field which is present on your node.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">filter</span><span class="op">[</span><span class="va">taxonomy_term</span><span class="op">-</span><span class="op">-</span><span class="va">tags</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">path</span><span class="op">]</span><span class="op">=</span><span class="va">field_tags.name</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">taxonomy_term</span><span class="op">-</span><span class="op">-</span><span class="va">tags</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">operator</span><span class="op">]</span><span class="op">=</span><span class="va">IN</span></span>
<span><span class="va">filter</span><span class="op">[</span><span class="va">taxonomy_term</span><span class="op">-</span><span class="op">-</span><span class="va">tags</span><span class="op">]</span><span class="op">[</span><span class="va">condition</span><span class="op">]</span><span class="op">[</span><span class="va">value</span><span class="op">]</span><span class="op">[</span><span class="op">]</span><span class="op">=</span><span class="va">tagname</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="filtering-on-date-date-only-no-time" class="level3"><h3 class="anchored" data-anchor-id="filtering-on-date-date-only-no-time">Filtering on Date (Date only, no time)</h3>
<p>Dates are filterable. Pass a time string that adheres to the ISO-8601 format.</p>
<p>This example is for a Date field that is set to be date only (no time).</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][path]<span class="ot">=</span>field_test_date</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][value]<span class="ot">=</span><span class="dv">2019-06-27</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This example is for a Date field that supports date and time.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][path]<span class="ot">=</span>field_test_date</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][value]<span class="ot">=</span><span class="dv">2019-06-27</span>T16<span class="sc">%3A00%</span><span class="dv">3</span>A00</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that timestamp fields (like created or changed) currently must use a timestamp for filtering:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>filter[recent][condition][path]<span class="ot">=</span>created</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>filter[recent][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>filter[recent][condition][value]<span class="ot">=</span><span class="dv">1591627496</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="filtering-on-empty-array-fields" class="level3"><h3 class="anchored" data-anchor-id="filtering-on-empty-array-fields">Filtering on empty array fields</h3>
<p>This example is for a Checkboxes/Radio buttons field with no value selected. Consider you have a field that is a checkbox. You would like to get all nodes that do not have that value checked. When checked, the JSON API returns an array:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="st">"my_field"</span><span class="sc">:</span>[<span class="st">"checked"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When unchecked, the JSON API returns an empty array:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="st">"my_field"</span><span class="sc">:</span> [] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you would like to get all fields that are unchecked, you must use the IS NULL on the array as follows (without a value):</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>filter[my<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>my_field</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>filter[my<span class="sc">-</span>filter][condition][operator]<span class="ot">=</span>IS <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>


<!-- -->

</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/andrewallenbruce\.github\.io\/providerdev\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./demo_geo.html" class="pagination-link" aria-label="Geospatial">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Geospatial</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./faq_schema.html" class="pagination-link" aria-label="DCAT Metadata">
        <span class="nav-page-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">DCAT Metadata</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb46" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># JSON:API Syntax {#sec-jsonapi}</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup-common-01</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"includes/_common.R"</span>)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="fu">## Links</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span><span class="co">[</span><span class="ot">Drupal JSON:API</span><span class="co">](https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module/filtering)</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="fu">## JSON:API</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>The Drupal core <span class="co">[</span><span class="ot">JSON:API module</span><span class="co">](https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module)</span> implements the JSON:API spec for Drupal entities. It provides a zero-configuration required, opinionated, way to allow RESTful CRUD for a Drupal site's content.</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>It is closely coupled to Drupal's Entity and Field APIs, response caching, and authentication and authorization systems. Because it follows the shared JSON:API conventions it can help increase productivity and allow you to take advantage of non-Drupal specific tooling.</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Refer to the Drupal documentation</span><span class="co">](https://www.drupal.org/docs/core-modules-and-themes/core-modules/jsonapi-module/filtering)</span> for more information on filtering API requests.</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a><span class="fu">## Filtering</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Collections</span><span class="co">](https://www.drupal.org/docs/8/modules/json-api/collections-filtering-and-sorting)</span> are listings of resources. When you make an unfiltered request to a collection endpoint like <span class="in">`/jsonapi/node/article`</span>, you'll just get every article that you're allowed to see. Without filters, you can't get only the articles that you want.</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>The simplest, most common filter is a **key-value filter**:</span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>   filter[field_1]<span class="ot">=</span>value_1<span class="sc">&amp;</span></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>   filter[field_2]<span class="ot">=</span>value_2</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a>This matches all resources with <span class="in">`field_1`</span> equal to <span class="in">`"value_1"`</span> and <span class="in">`field_2`</span> equal to <span class="in">`"value_2"`</span>.</span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a><span class="fu">### Conditions</span></span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a>The fundamental building blocks of JSON:API filters are **Conditions** and **Groups**. </span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>__Conditions__ assert that something is <span class="in">`TRUE`</span></span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>__Groups__ compose sets of conditions</span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a>Those sets can be nested to make super fine queries. You can think of a nested set as a tree:</span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a>_Conventional representation:_</span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a>is_A <span class="ot">&lt;-</span> \(x) <span class="fu">any</span>(x <span class="sc">==</span> <span class="st">"A"</span>)</span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a>is_B <span class="ot">&lt;-</span> \(x) <span class="fu">any</span>(x <span class="sc">==</span> <span class="st">"B"</span>)</span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a>is_C <span class="ot">&lt;-</span> \(x) <span class="fu">any</span>(x <span class="sc">==</span> <span class="st">"C"</span>)</span>
<span id="cb46-54"><a href="#cb46-54" aria-hidden="true" tabindex="-1"></a>is_D <span class="ot">&lt;-</span> \(x) <span class="fu">any</span>(x <span class="sc">==</span> <span class="st">"D"</span>)</span>
<span id="cb46-55"><a href="#cb46-55" aria-hidden="true" tabindex="-1"></a>is_E <span class="ot">&lt;-</span> \(x) <span class="fu">any</span>(x <span class="sc">==</span> <span class="st">"E"</span>)</span>
<span id="cb46-56"><a href="#cb46-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-57"><a href="#cb46-57" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>)</span>
<span id="cb46-58"><a href="#cb46-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-59"><a href="#cb46-59" aria-hidden="true" tabindex="-1"></a><span class="fu">is_A</span>(x[<span class="fu">is_B</span>(x) <span class="sc">&amp;</span> <span class="fu">is_C</span>(x[<span class="fu">is_D</span>(x) <span class="sc">|</span> <span class="fu">is_E</span>(x)])])</span>
<span id="cb46-60"><a href="#cb46-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-61"><a href="#cb46-61" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"G"</span>)</span>
<span id="cb46-62"><a href="#cb46-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-63"><a href="#cb46-63" aria-hidden="true" tabindex="-1"></a><span class="fu">is_A</span>(x[<span class="fu">is_B</span>(x) <span class="sc">&amp;</span> <span class="fu">is_C</span>(x[<span class="fu">is_D</span>(x) <span class="sc">|</span> <span class="fu">is_E</span>(x)])])</span>
<span id="cb46-64"><a href="#cb46-64" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-65"><a href="#cb46-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-66"><a href="#cb46-66" aria-hidden="true" tabindex="-1"></a>_Tree representation:_</span>
<span id="cb46-67"><a href="#cb46-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-68"><a href="#cb46-68" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-69"><a href="#cb46-69" aria-hidden="true" tabindex="-1"></a>   A</span>
<span id="cb46-70"><a href="#cb46-70" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span> \</span>
<span id="cb46-71"><a href="#cb46-71" aria-hidden="true" tabindex="-1"></a> B <span class="sc">&amp;</span> C</span>
<span id="cb46-72"><a href="#cb46-72" aria-hidden="true" tabindex="-1"></a>    <span class="sc">/</span> \</span>
<span id="cb46-73"><a href="#cb46-73" aria-hidden="true" tabindex="-1"></a>   D <span class="sc">|</span> E</span>
<span id="cb46-74"><a href="#cb46-74" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-75"><a href="#cb46-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-76"><a href="#cb46-76" aria-hidden="true" tabindex="-1"></a>In both representations:</span>
<span id="cb46-77"><a href="#cb46-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-78"><a href="#cb46-78" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span><span class="in">`D`</span> &amp; <span class="in">`E`</span> are members of <span class="in">`C`</span> in an <span class="in">`OR`</span> group</span>
<span id="cb46-79"><a href="#cb46-79" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span><span class="in">`B`</span> &amp; <span class="in">`C`</span> are members of <span class="in">`A`</span> in an <span class="in">`AND`</span> group</span>
<span id="cb46-80"><a href="#cb46-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-81"><a href="#cb46-81" aria-hidden="true" tabindex="-1"></a>A **condition** has 3 primary parts: </span>
<span id="cb46-82"><a href="#cb46-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-83"><a href="#cb46-83" aria-hidden="true" tabindex="-1"></a><span class="ss">   1. </span><span class="in">`[path]`</span>: Dataset **Field**</span>
<span id="cb46-84"><a href="#cb46-84" aria-hidden="true" tabindex="-1"></a><span class="ss">   1. </span><span class="in">`[operator]`</span>: Logical comparison</span>
<span id="cb46-85"><a href="#cb46-85" aria-hidden="true" tabindex="-1"></a><span class="ss">   1. </span><span class="in">`[value]`</span>: Dataset **Row**</span>
<span id="cb46-86"><a href="#cb46-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-87"><a href="#cb46-87" aria-hidden="true" tabindex="-1"></a>In **JSON:API** syntax, these are formatted as a <span class="in">`key=value`</span> pair to work inside a URL query string:</span>
<span id="cb46-88"><a href="#cb46-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-89"><a href="#cb46-89" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-90"><a href="#cb46-90" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-91"><a href="#cb46-91" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb46-92"><a href="#cb46-92" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-93"><a href="#cb46-93" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis</span>
<span id="cb46-94"><a href="#cb46-94" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-95"><a href="#cb46-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-96"><a href="#cb46-96" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; __Note__: </span><span class="in">`%3D`</span><span class="at"> is the URL-encoded </span><span class="in">`=`</span><span class="at"> symbol. All operators must be URL-encoded.</span></span>
<span id="cb46-97"><a href="#cb46-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-98"><a href="#cb46-98" aria-hidden="true" tabindex="-1"></a>Notice the <span class="in">`ID`</span> inside the first set of square brackets. _Every condition or group should have a unique identifier._</span>
<span id="cb46-99"><a href="#cb46-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-100"><a href="#cb46-100" aria-hidden="true" tabindex="-1"></a>Let's add another filter so we only get Janises with a last name that starts with <span class="in">`"J"`</span>:</span>
<span id="cb46-101"><a href="#cb46-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-102"><a href="#cb46-102" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-103"><a href="#cb46-103" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-104"><a href="#cb46-104" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb46-105"><a href="#cb46-105" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-106"><a href="#cb46-106" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis<span class="sc">&amp;</span></span>
<span id="cb46-107"><a href="#cb46-107" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>LAST_NAME<span class="sc">&amp;</span></span>
<span id="cb46-108"><a href="#cb46-108" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>STARTS_WITH<span class="sc">&amp;</span></span>
<span id="cb46-109"><a href="#cb46-109" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>J</span>
<span id="cb46-110"><a href="#cb46-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-111"><a href="#cb46-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-112"><a href="#cb46-112" aria-hidden="true" tabindex="-1"></a><span class="fu">### Groups</span></span>
<span id="cb46-113"><a href="#cb46-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-114"><a href="#cb46-114" aria-hidden="true" tabindex="-1"></a>A **group** is a set of conditions joined by a **conjunction**, either <span class="in">`AND`</span> or <span class="in">`OR`</span>. Let's say we want to find all users with a last name that starts with "J" and have either the first name "Janis" or "Joan". To do that, we add a group:</span>
<span id="cb46-115"><a href="#cb46-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-116"><a href="#cb46-116" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-117"><a href="#cb46-117" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-118"><a href="#cb46-118" aria-hidden="true" tabindex="-1"></a>   filter[gID<span class="dv">-1</span>][group][conjunction]<span class="ot">=</span>OR</span>
<span id="cb46-119"><a href="#cb46-119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-120"><a href="#cb46-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-121"><a href="#cb46-121" aria-hidden="true" tabindex="-1"></a>Then, we need assign filters to that new group. To do that, we add a <span class="in">`memberOf`</span> key. Every condition and group can have a <span class="in">`memberOf`</span> key. </span>
<span id="cb46-122"><a href="#cb46-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-123"><a href="#cb46-123" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-124"><a href="#cb46-124" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-125"><a href="#cb46-125" aria-hidden="true" tabindex="-1"></a>   filter[gID<span class="dv">-1</span>][group][conjunction]<span class="ot">=</span>OR<span class="sc">&amp;</span></span>
<span id="cb46-126"><a href="#cb46-126" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>first_name<span class="sc">&amp;</span></span>
<span id="cb46-127"><a href="#cb46-127" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-128"><a href="#cb46-128" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis<span class="sc">&amp;</span></span>
<span id="cb46-129"><a href="#cb46-129" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][memberOf]<span class="ot">=</span>gID<span class="dv">-1</span><span class="sc">&amp;</span></span>
<span id="cb46-130"><a href="#cb46-130" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>first_name<span class="sc">&amp;</span></span>
<span id="cb46-131"><a href="#cb46-131" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-132"><a href="#cb46-132" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>Joan<span class="sc">&amp;</span></span>
<span id="cb46-133"><a href="#cb46-133" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][memberOf]<span class="ot">=</span>gID<span class="dv">-1</span><span class="sc">&amp;</span></span>
<span id="cb46-134"><a href="#cb46-134" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-3</span>][condition][path]<span class="ot">=</span>last_name<span class="sc">&amp;</span></span>
<span id="cb46-135"><a href="#cb46-135" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-3</span>][condition][operator]<span class="ot">=</span>STARTS_WITH<span class="sc">&amp;</span></span>
<span id="cb46-136"><a href="#cb46-136" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-3</span>][condition][value]<span class="ot">=</span>J</span>
<span id="cb46-137"><a href="#cb46-137" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-138"><a href="#cb46-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-139"><a href="#cb46-139" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; __Note__: Groups can have a </span><span class="in">`memberOf`</span><span class="at"> key just like conditions, which means you can have groups of groups. Every filter without a </span><span class="in">`memberOf`</span><span class="at"> key is assumed to be part of a </span><span class="in">`root`</span><span class="at"> group with a conjunction of </span><span class="in">`AND`</span><span class="at">.</span></span>
<span id="cb46-140"><a href="#cb46-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-141"><a href="#cb46-141" aria-hidden="true" tabindex="-1"></a>Does that look familiar? It should, we saw it above as a tree:</span>
<span id="cb46-142"><a href="#cb46-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-143"><a href="#cb46-143" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-144"><a href="#cb46-144" aria-hidden="true" tabindex="-1"></a>   A         A <span class="ot">=</span> root <span class="sc">&amp;</span> g1</span>
<span id="cb46-145"><a href="#cb46-145" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span> \</span>
<span id="cb46-146"><a href="#cb46-146" aria-hidden="true" tabindex="-1"></a> <span class="sc">/</span>   \       B <span class="ot">=</span> f3</span>
<span id="cb46-147"><a href="#cb46-147" aria-hidden="true" tabindex="-1"></a>B  <span class="sc">&amp;</span>  C      C <span class="ot">=</span> g1</span>
<span id="cb46-148"><a href="#cb46-148" aria-hidden="true" tabindex="-1"></a>     <span class="sc">/</span> \</span>
<span id="cb46-149"><a href="#cb46-149" aria-hidden="true" tabindex="-1"></a>    <span class="sc">/</span>   \    D <span class="ot">=</span> f1</span>
<span id="cb46-150"><a href="#cb46-150" aria-hidden="true" tabindex="-1"></a>   D  <span class="sc">|</span>  E   E <span class="ot">=</span> f2</span>
<span id="cb46-151"><a href="#cb46-151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-152"><a href="#cb46-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-153"><a href="#cb46-153" aria-hidden="true" tabindex="-1"></a><span class="fu">### Paths</span></span>
<span id="cb46-154"><a href="#cb46-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-155"><a href="#cb46-155" aria-hidden="true" tabindex="-1"></a>Paths provide a way to filter based on relationship values. Up to this point, we've just been filtering by the hypothetical <span class="in">`first_name`</span> and <span class="in">`last_name`</span>. Suppose we want to filter by the name of a user's career, where career types are stored as a separate resource. We could add a filter like this:</span>
<span id="cb46-156"><a href="#cb46-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-157"><a href="#cb46-157" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-158"><a href="#cb46-158" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-159"><a href="#cb46-159" aria-hidden="true" tabindex="-1"></a>   filter[career][condition][path]<span class="ot">=</span>field_career.name<span class="sc">&amp;</span></span>
<span id="cb46-160"><a href="#cb46-160" aria-hidden="true" tabindex="-1"></a>   filter[career][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-161"><a href="#cb46-161" aria-hidden="true" tabindex="-1"></a>   filter[career][condition][value]<span class="ot">=</span>DOCTOR</span>
<span id="cb46-162"><a href="#cb46-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-163"><a href="#cb46-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-164"><a href="#cb46-164" aria-hidden="true" tabindex="-1"></a>Paths use a "dot notation" to traverse relationships. If a resource has a relationship, you can add a filter against it by concatenating the relationship field name and the relationship's field name with a <span class="in">`.`</span> (dot). You can even filter by relationships of relationships (and so on) just by adding more field names and dots.</span>
<span id="cb46-165"><a href="#cb46-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-166"><a href="#cb46-166" aria-hidden="true" tabindex="-1"></a>You can filter on a specific index of a relationship by putting a non-negative integer in the path. So the path <span class="in">`some_relationship.1.some_attribute`</span> would only filter by the 2nd related resource.</span>
<span id="cb46-167"><a href="#cb46-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-168"><a href="#cb46-168" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Tip: You can filter by sub-properties of a field. For example, a path like </span><span class="in">`field_phone.country_code`</span><span class="at"> will work even though </span><span class="in">`field_phone`</span><span class="at"> isn't a relationship.</span></span>
<span id="cb46-169"><a href="#cb46-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-170"><a href="#cb46-170" aria-hidden="true" tabindex="-1"></a>When filtering against configuration properties, you can use an asterisk (<span class="in">`*`</span>) to stand-in for any portion of a path. </span>
<span id="cb46-171"><a href="#cb46-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-172"><a href="#cb46-172" aria-hidden="true" tabindex="-1"></a>For example, </span>
<span id="cb46-173"><a href="#cb46-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-174"><a href="#cb46-174" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-175"><a href="#cb46-175" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>api</span>
<span id="cb46-176"><a href="#cb46-176" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>field_config</span>
<span id="cb46-177"><a href="#cb46-177" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>field_config?</span>
<span id="cb46-178"><a href="#cb46-178" aria-hidden="true" tabindex="-1"></a>   filter[dependencies.config.<span class="sc">*</span>]<span class="ot">=</span>comment.type.comment</span>
<span id="cb46-179"><a href="#cb46-179" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-180"><a href="#cb46-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-181"><a href="#cb46-181" aria-hidden="true" tabindex="-1"></a>would match all field configs in which <span class="in">`[attributes][dependencies][config]`</span> (an indexed array) contains the value <span class="in">`"comment.type.comment"`</span>.</span>
<span id="cb46-182"><a href="#cb46-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-183"><a href="#cb46-183" aria-hidden="true" tabindex="-1"></a><span class="fu">### Shortcuts</span></span>
<span id="cb46-184"><a href="#cb46-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-185"><a href="#cb46-185" aria-hidden="true" tabindex="-1"></a>When the operator is <span class="in">`=`</span>, you don't have to include it:</span>
<span id="cb46-186"><a href="#cb46-186" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-187"><a href="#cb46-187" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-188"><a href="#cb46-188" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb46-189"><a href="#cb46-189" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-190"><a href="#cb46-190" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis</span>
<span id="cb46-191"><a href="#cb46-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-192"><a href="#cb46-192" aria-hidden="true" tabindex="-1"></a>_becomes_</span>
<span id="cb46-193"><a href="#cb46-193" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-194"><a href="#cb46-194" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-195"><a href="#cb46-195" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>FIRST_NAME<span class="sc">&amp;</span></span>
<span id="cb46-196"><a href="#cb46-196" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>Janis</span>
<span id="cb46-197"><a href="#cb46-197" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-198"><a href="#cb46-198" aria-hidden="true" tabindex="-1"></a>When the operator is <span class="in">`=`</span> and you don't need to filter by the same field twice, the path can be the identifier:</span>
<span id="cb46-199"><a href="#cb46-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-200"><a href="#cb46-200" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-201"><a href="#cb46-201" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-202"><a href="#cb46-202" aria-hidden="true" tabindex="-1"></a>   filter[FIRST_NAME][value]<span class="ot">=</span>Janis</span>
<span id="cb46-203"><a href="#cb46-203" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-204"><a href="#cb46-204" aria-hidden="true" tabindex="-1"></a>Reduce the simplest equality checks down to a _key-value_ form:</span>
<span id="cb46-205"><a href="#cb46-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-206"><a href="#cb46-206" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-207"><a href="#cb46-207" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-208"><a href="#cb46-208" aria-hidden="true" tabindex="-1"></a>   filter[FIRST_NAME]<span class="ot">=</span>Janis</span>
<span id="cb46-209"><a href="#cb46-209" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-210"><a href="#cb46-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-211"><a href="#cb46-211" aria-hidden="true" tabindex="-1"></a><span class="fu">### Filters and Access Control</span></span>
<span id="cb46-212"><a href="#cb46-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-213"><a href="#cb46-213" aria-hidden="true" tabindex="-1"></a>First, a warning: don't make the mistake of confusing filters for access control. Just because you've written a filter to remove something that a user shouldn't be able to see, doesn't mean it's not accessible. **Always perform access checks on the backend.**</span>
<span id="cb46-214"><a href="#cb46-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-215"><a href="#cb46-215" aria-hidden="true" tabindex="-1"></a>With that big caveat, let's talk about using filters to complement access control. To improve performance, you should filter out what your users will not be able to see. The most frequent support request in the JSON:API issue queues can be solved by this one simple trick! If you know your users cannot see unpublished content, add the following filter:</span>
<span id="cb46-216"><a href="#cb46-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-217"><a href="#cb46-217" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-218"><a href="#cb46-218" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-219"><a href="#cb46-219" aria-hidden="true" tabindex="-1"></a>   filter[status][value]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-220"><a href="#cb46-220" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-221"><a href="#cb46-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-222"><a href="#cb46-222" aria-hidden="true" tabindex="-1"></a>Using this method, you'll lower the number of unnecessary requests that you need to make. **That's because JSON:API doesn't return data for resources to which a user doesn't have access.** You can see which resources may have been affected by inspecting the meta.errors section of JSON:API document. So, do your best to filter out inaccessible resources ahead of time.</span>
<span id="cb46-223"><a href="#cb46-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-224"><a href="#cb46-224" aria-hidden="true" tabindex="-1"></a><span class="fu">## Examples</span></span>
<span id="cb46-225"><a href="#cb46-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-226"><a href="#cb46-226" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exact Match on Column</span></span>
<span id="cb46-227"><a href="#cb46-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-228"><a href="#cb46-228" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-229"><a href="#cb46-229" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-230"><a href="#cb46-230" aria-hidden="true" tabindex="-1"></a>   filter[PROVIDER_TYPE_DESC]<span class="ot">=</span>PRACTITIONER <span class="sc">-</span> GENERAL PRACTICE</span>
<span id="cb46-231"><a href="#cb46-231" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-232"><a href="#cb46-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-233"><a href="#cb46-233" aria-hidden="true" tabindex="-1"></a><span class="fu">### CONTAINS </span></span>
<span id="cb46-234"><a href="#cb46-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-235"><a href="#cb46-235" aria-hidden="true" tabindex="-1"></a>Search on One Column</span>
<span id="cb46-236"><a href="#cb46-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-237"><a href="#cb46-237" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-238"><a href="#cb46-238" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-239"><a href="#cb46-239" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>PROVIDER_TYPE_DESC<span class="sc">&amp;</span></span>
<span id="cb46-240"><a href="#cb46-240" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>CONTAINS<span class="sc">&amp;</span></span>
<span id="cb46-241"><a href="#cb46-241" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>SUPPLIER</span>
<span id="cb46-242"><a href="#cb46-242" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-243"><a href="#cb46-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-244"><a href="#cb46-244" aria-hidden="true" tabindex="-1"></a><span class="fu">### CONTAINS &amp; EQUALS </span></span>
<span id="cb46-245"><a href="#cb46-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-246"><a href="#cb46-246" aria-hidden="true" tabindex="-1"></a>Combination Search on Two Columns</span>
<span id="cb46-247"><a href="#cb46-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-248"><a href="#cb46-248" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-249"><a href="#cb46-249" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-250"><a href="#cb46-250" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>PROVIDER_TYPE_DESC<span class="sc">&amp;</span></span>
<span id="cb46-251"><a href="#cb46-251" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>CONTAINS<span class="sc">&amp;</span></span>
<span id="cb46-252"><a href="#cb46-252" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>PRACTITIONER<span class="sc">&amp;</span></span>
<span id="cb46-253"><a href="#cb46-253" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>STATE_CD<span class="sc">&amp;</span></span>
<span id="cb46-254"><a href="#cb46-254" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-255"><a href="#cb46-255" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>MD</span>
<span id="cb46-256"><a href="#cb46-256" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-257"><a href="#cb46-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-258"><a href="#cb46-258" aria-hidden="true" tabindex="-1"></a><span class="fu">### EQUALS Simplified</span></span>
<span id="cb46-259"><a href="#cb46-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-260"><a href="#cb46-260" aria-hidden="true" tabindex="-1"></a>This example is an equals filter searching the Accountable Care Organizations 2021 dataset for a single ID.</span>
<span id="cb46-261"><a href="#cb46-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-262"><a href="#cb46-262" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-263"><a href="#cb46-263" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-264"><a href="#cb46-264" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>aco_id<span class="sc">&amp;</span></span>
<span id="cb46-265"><a href="#cb46-265" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-266"><a href="#cb46-266" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>A4807</span>
<span id="cb46-267"><a href="#cb46-267" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-268"><a href="#cb46-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-269"><a href="#cb46-269" aria-hidden="true" tabindex="-1"></a>An equals filter can be simplified like this.</span>
<span id="cb46-270"><a href="#cb46-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-271"><a href="#cb46-271" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-272"><a href="#cb46-272" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-273"><a href="#cb46-273" aria-hidden="true" tabindex="-1"></a>   filter[aco_id]<span class="ot">=</span>A4807</span>
<span id="cb46-274"><a href="#cb46-274" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-275"><a href="#cb46-275" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keyword</span></span>
<span id="cb46-276"><a href="#cb46-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-277"><a href="#cb46-277" aria-hidden="true" tabindex="-1"></a>The keyword search will look for matching words in every column. This example will check for "Alex" in the Order and Referring dataset. Notice that it finds matches on both the first and last name fields.</span>
<span id="cb46-278"><a href="#cb46-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-279"><a href="#cb46-279" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-280"><a href="#cb46-280" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-281"><a href="#cb46-281" aria-hidden="true" tabindex="-1"></a>   keyword<span class="ot">=</span>Alex</span>
<span id="cb46-282"><a href="#cb46-282" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-283"><a href="#cb46-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-284"><a href="#cb46-284" aria-hidden="true" tabindex="-1"></a><span class="fu">### Multiple Conditions at Once</span></span>
<span id="cb46-285"><a href="#cb46-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-286"><a href="#cb46-286" aria-hidden="true" tabindex="-1"></a>This search returns results from the Medicare Fee-For-Service Public Provider Enrollment dataset where the provider specialty is "PRACTITIONER - OPTOMETRY" and the location is Virginia.</span>
<span id="cb46-287"><a href="#cb46-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-288"><a href="#cb46-288" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-289"><a href="#cb46-289" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?<span class="sc">&amp;</span></span>
<span id="cb46-290"><a href="#cb46-290" aria-hidden="true" tabindex="-1"></a>   filter[ROOT][group][conjunction]<span class="ot">=</span>AND<span class="sc">&amp;</span></span>
<span id="cb46-291"><a href="#cb46-291" aria-hidden="true" tabindex="-1"></a>   filter[GID<span class="dv">-1</span>][group][conjunction]<span class="ot">=</span>AND<span class="sc">&amp;</span></span>
<span id="cb46-292"><a href="#cb46-292" aria-hidden="true" tabindex="-1"></a>   filter[GID<span class="dv">-1</span>][group][memberOf]<span class="ot">=</span>ROOT<span class="sc">&amp;</span></span>
<span id="cb46-293"><a href="#cb46-293" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>PROVIDER_TYPE_DESC<span class="sc">&amp;</span></span>
<span id="cb46-294"><a href="#cb46-294" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-295"><a href="#cb46-295" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>PRACTITIONER <span class="sc">-</span> OPTOMETRY<span class="sc">&amp;</span></span>
<span id="cb46-296"><a href="#cb46-296" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-1</span>][condition][memberOf]<span class="ot">=</span>GID<span class="dv">-1</span><span class="sc">&amp;</span></span>
<span id="cb46-297"><a href="#cb46-297" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][path]<span class="ot">=</span>STATE_CD<span class="sc">&amp;</span></span>
<span id="cb46-298"><a href="#cb46-298" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D<span class="sc">&amp;</span></span>
<span id="cb46-299"><a href="#cb46-299" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][value]<span class="ot">=</span>VA<span class="sc">&amp;</span></span>
<span id="cb46-300"><a href="#cb46-300" aria-hidden="true" tabindex="-1"></a>   filter[FID<span class="dv">-2</span>][condition][memberOf]<span class="ot">=</span>GID<span class="dv">-1</span></span>
<span id="cb46-301"><a href="#cb46-301" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-302"><a href="#cb46-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-303"><a href="#cb46-303" aria-hidden="true" tabindex="-1"></a><span class="fu">### IN</span></span>
<span id="cb46-304"><a href="#cb46-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-305"><a href="#cb46-305" aria-hidden="true" tabindex="-1"></a>This search returns results from the Opioid Treatment Program Providers dataset where the provider is located from MD, MI, or VA with the results sorted by NPI.</span>
<span id="cb46-306"><a href="#cb46-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-307"><a href="#cb46-307" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-308"><a href="#cb46-308" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-309"><a href="#cb46-309" aria-hidden="true" tabindex="-1"></a>   filter[condition][path]<span class="ot">=</span>STATE<span class="sc">&amp;</span></span>
<span id="cb46-310"><a href="#cb46-310" aria-hidden="true" tabindex="-1"></a>   filter[condition][operator]<span class="ot">=</span>IN<span class="sc">&amp;</span></span>
<span id="cb46-311"><a href="#cb46-311" aria-hidden="true" tabindex="-1"></a>   filter[condition][value][]<span class="ot">=</span>MI<span class="sc">&amp;</span></span>
<span id="cb46-312"><a href="#cb46-312" aria-hidden="true" tabindex="-1"></a>   filter[condition][value][]<span class="ot">=</span>VA<span class="sc">&amp;</span></span>
<span id="cb46-313"><a href="#cb46-313" aria-hidden="true" tabindex="-1"></a>   filter[condition][value][]<span class="ot">=</span>MD<span class="sc">&amp;</span></span>
<span id="cb46-314"><a href="#cb46-314" aria-hidden="true" tabindex="-1"></a>   sort<span class="ot">=</span>NPI</span>
<span id="cb46-315"><a href="#cb46-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-316"><a href="#cb46-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-317"><a href="#cb46-317" aria-hidden="true" tabindex="-1"></a>**Note About Empty Brackets:**</span>
<span id="cb46-318"><a href="#cb46-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-319"><a href="#cb46-319" aria-hidden="true" tabindex="-1"></a>When utilizing square brackets for multiple values filters, *do not just use empty square brackets for a new value.*</span>
<span id="cb46-320"><a href="#cb46-320" aria-hidden="true" tabindex="-1"></a>While these work when typed into the URL, Guzzle and other HTTP clients will only create one value, as the array key will be seen to be the same and override the previous value. **It is better to use an index to create unique array elements.**</span>
<span id="cb46-321"><a href="#cb46-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-322"><a href="#cb46-322" aria-hidden="true" tabindex="-1"></a>Note the two square brackets added behind the value to make it into an array:</span>
<span id="cb46-323"><a href="#cb46-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-324"><a href="#cb46-324" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-325"><a href="#cb46-325" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-326"><a href="#cb46-326" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>STATE<span class="sc">&amp;</span></span>
<span id="cb46-327"><a href="#cb46-327" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>IN<span class="sc">&amp;</span></span>
<span id="cb46-328"><a href="#cb46-328" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">1</span>]<span class="ot">=</span>MI<span class="sc">&amp;</span></span>
<span id="cb46-329"><a href="#cb46-329" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">2</span>]<span class="ot">=</span>VA<span class="sc">&amp;</span></span>
<span id="cb46-330"><a href="#cb46-330" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">3</span>]<span class="ot">=</span>MA</span>
<span id="cb46-331"><a href="#cb46-331" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-332"><a href="#cb46-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-333"><a href="#cb46-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-334"><a href="#cb46-334" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sort Results</span></span>
<span id="cb46-335"><a href="#cb46-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-336"><a href="#cb46-336" aria-hidden="true" tabindex="-1"></a>Use the <span class="in">`sort`</span> query parameter to specify which column the results should be sorted by:</span>
<span id="cb46-337"><a href="#cb46-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-338"><a href="#cb46-338" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-339"><a href="#cb46-339" aria-hidden="true" tabindex="-1"></a>Lowest first<span class="sc">:</span></span>
<span id="cb46-340"><a href="#cb46-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-341"><a href="#cb46-341" aria-hidden="true" tabindex="-1"></a><span class="er">/</span>data?</span>
<span id="cb46-342"><a href="#cb46-342" aria-hidden="true" tabindex="-1"></a>   sort<span class="ot">=</span>NPI</span>
<span id="cb46-343"><a href="#cb46-343" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb46-344"><a href="#cb46-344" aria-hidden="true" tabindex="-1"></a>Highest first<span class="sc">:</span></span>
<span id="cb46-345"><a href="#cb46-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-346"><a href="#cb46-346" aria-hidden="true" tabindex="-1"></a><span class="er">/</span>data?</span>
<span id="cb46-347"><a href="#cb46-347" aria-hidden="true" tabindex="-1"></a>   sort<span class="ot">=</span><span class="sc">-</span>NPI</span>
<span id="cb46-348"><a href="#cb46-348" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-349"><a href="#cb46-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-350"><a href="#cb46-350" aria-hidden="true" tabindex="-1"></a><span class="fu">### Subset Columns</span></span>
<span id="cb46-351"><a href="#cb46-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-352"><a href="#cb46-352" aria-hidden="true" tabindex="-1"></a>Add a comma-separated string of column names to the <span class="in">`column`</span> query parameter to limit the columns returned:</span>
<span id="cb46-353"><a href="#cb46-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-354"><a href="#cb46-354" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-355"><a href="#cb46-355" aria-hidden="true" tabindex="-1"></a><span class="sc">/</span>data?</span>
<span id="cb46-356"><a href="#cb46-356" aria-hidden="true" tabindex="-1"></a>   column<span class="ot">=</span>NPI,FIRST_NAME,LAST_NAME</span>
<span id="cb46-357"><a href="#cb46-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-358"><a href="#cb46-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-359"><a href="#cb46-359" aria-hidden="true" tabindex="-1"></a><span class="fu">### Only Published Nodes</span></span>
<span id="cb46-360"><a href="#cb46-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-361"><a href="#cb46-361" aria-hidden="true" tabindex="-1"></a>A very common scenario is to only load the nodes that are published. This is a very easy filter to add.</span>
<span id="cb46-362"><a href="#cb46-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-363"><a href="#cb46-363" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-364"><a href="#cb46-364" aria-hidden="true" tabindex="-1"></a>SHORT</span>
<span id="cb46-365"><a href="#cb46-365" aria-hidden="true" tabindex="-1"></a>   filter[status][value]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-366"><a href="#cb46-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-367"><a href="#cb46-367" aria-hidden="true" tabindex="-1"></a>NORMAL</span>
<span id="cb46-368"><a href="#cb46-368" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>status</span>
<span id="cb46-369"><a href="#cb46-369" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-370"><a href="#cb46-370" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-371"><a href="#cb46-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-372"><a href="#cb46-372" aria-hidden="true" tabindex="-1"></a><span class="fu">### Nodes by Value of Entity Reference</span></span>
<span id="cb46-373"><a href="#cb46-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-374"><a href="#cb46-374" aria-hidden="true" tabindex="-1"></a>A common strategy is to filter content by a entity reference.</span>
<span id="cb46-375"><a href="#cb46-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-376"><a href="#cb46-376" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-377"><a href="#cb46-377" aria-hidden="true" tabindex="-1"></a>SHORT</span>
<span id="cb46-378"><a href="#cb46-378" aria-hidden="true" tabindex="-1"></a>   filter[uid.id][value]<span class="ot">=</span>BB09E2CD<span class="dv">-9487-44</span>BC<span class="sc">-</span>B219<span class="dv">-3</span>DC03D6820CD</span>
<span id="cb46-379"><a href="#cb46-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-380"><a href="#cb46-380" aria-hidden="true" tabindex="-1"></a>NORMAL</span>
<span id="cb46-381"><a href="#cb46-381" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>uid.id</span>
<span id="cb46-382"><a href="#cb46-382" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>BB09E2CD<span class="dv">-9487-44</span>BC<span class="sc">-</span>B219<span class="dv">-3</span>DC03D6820CD</span>
<span id="cb46-383"><a href="#cb46-383" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-384"><a href="#cb46-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-385"><a href="#cb46-385" aria-hidden="true" tabindex="-1"></a>To fully comply with the JSON API specification, while Drupal internally uses the <span class="in">`uuid`</span> property, __JSON:API__ uses <span class="in">`id`</span> instead.</span>
<span id="cb46-386"><a href="#cb46-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-387"><a href="#cb46-387" aria-hidden="true" tabindex="-1"></a>Since Drupal 9.3 it is possible to filter on <span class="in">`target_id`</span> also instead of only filtering by <span class="in">`uuid`</span> property.</span>
<span id="cb46-388"><a href="#cb46-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-389"><a href="#cb46-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-390"><a href="#cb46-390" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-391"><a href="#cb46-391" aria-hidden="true" tabindex="-1"></a>SHORT</span>
<span id="cb46-392"><a href="#cb46-392" aria-hidden="true" tabindex="-1"></a>   filter[field_tags.meta.drupal_internal__target_id]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-393"><a href="#cb46-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-394"><a href="#cb46-394" aria-hidden="true" tabindex="-1"></a>NORMAL</span>
<span id="cb46-395"><a href="#cb46-395" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>field_tags.meta.drupal_internal__target_id</span>
<span id="cb46-396"><a href="#cb46-396" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-397"><a href="#cb46-397" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-398"><a href="#cb46-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-399"><a href="#cb46-399" aria-hidden="true" tabindex="-1"></a><span class="fu">### Nested Filters</span></span>
<span id="cb46-400"><a href="#cb46-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-401"><a href="#cb46-401" aria-hidden="true" tabindex="-1"></a>It's possible to filter on fields from referenced entities like the user, taxonomy fields or any entity reference field. You can do this easily but just using the the following notation. reference_field.nested_field. In this example the reference field is uid for the user and name which is a field of the user entity.</span>
<span id="cb46-402"><a href="#cb46-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-403"><a href="#cb46-403" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-404"><a href="#cb46-404" aria-hidden="true" tabindex="-1"></a>SHORT</span>
<span id="cb46-405"><a href="#cb46-405" aria-hidden="true" tabindex="-1"></a>   filter[uid.name][value]<span class="ot">=</span>admin</span>
<span id="cb46-406"><a href="#cb46-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-407"><a href="#cb46-407" aria-hidden="true" tabindex="-1"></a>NORMAL</span>
<span id="cb46-408"><a href="#cb46-408" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>uid.name</span>
<span id="cb46-409"><a href="#cb46-409" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value]<span class="ot">=</span>admin</span>
<span id="cb46-410"><a href="#cb46-410" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-411"><a href="#cb46-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-412"><a href="#cb46-412" aria-hidden="true" tabindex="-1"></a><span class="fu">### Filtering with Arrays</span></span>
<span id="cb46-413"><a href="#cb46-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-414"><a href="#cb46-414" aria-hidden="true" tabindex="-1"></a>You can give multiple values to a filter for it to search in. Next to the field and value keys you can add an operator to your condition. </span>
<span id="cb46-415"><a href="#cb46-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-416"><a href="#cb46-416" aria-hidden="true" tabindex="-1"></a>Usually it's <span class="in">`"="`</span> but you can also use <span class="in">`"IN"`</span>, <span class="in">`"NOT IN"`</span>, <span class="in">`"&gt;"`</span>, <span class="in">`"&lt;"`</span>, <span class="in">`"&lt;&gt;"`</span>, <span class="in">`BETWEEN`</span>".</span>
<span id="cb46-417"><a href="#cb46-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-418"><a href="#cb46-418" aria-hidden="true" tabindex="-1"></a>For this example we're going to use the <span class="in">`"IN"`</span> operator. Note that I added two square brackets behind the value to make it into an array.</span>
<span id="cb46-419"><a href="#cb46-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-420"><a href="#cb46-420" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-421"><a href="#cb46-421" aria-hidden="true" tabindex="-1"></a>NORMAL</span>
<span id="cb46-422"><a href="#cb46-422" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][path]<span class="ot">=</span>uid.name</span>
<span id="cb46-423"><a href="#cb46-423" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][operator]<span class="ot">=</span>IN</span>
<span id="cb46-424"><a href="#cb46-424" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">1</span>]<span class="ot">=</span>admin</span>
<span id="cb46-425"><a href="#cb46-425" aria-hidden="true" tabindex="-1"></a>   filter[fID<span class="dv">-1</span>][condition][value][<span class="dv">2</span>]<span class="ot">=</span>john</span>
<span id="cb46-426"><a href="#cb46-426" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-427"><a href="#cb46-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-428"><a href="#cb46-428" aria-hidden="true" tabindex="-1"></a><span class="fu">### Grouping Filters</span></span>
<span id="cb46-429"><a href="#cb46-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-430"><a href="#cb46-430" aria-hidden="true" tabindex="-1"></a>Now let's combine some of the examples above and create the following scenario.</span>
<span id="cb46-431"><a href="#cb46-431" aria-hidden="true" tabindex="-1"></a>WHERE user.name = admin AND node.status = 1:</span>
<span id="cb46-432"><a href="#cb46-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-433"><a href="#cb46-433" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-434"><a href="#cb46-434" aria-hidden="true" tabindex="-1"></a>filter[and<span class="sc">-</span>group][group][conjunction]<span class="ot">=</span>AND</span>
<span id="cb46-435"><a href="#cb46-435" aria-hidden="true" tabindex="-1"></a>filter[name<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>uid.name</span>
<span id="cb46-436"><a href="#cb46-436" aria-hidden="true" tabindex="-1"></a>filter[name<span class="sc">-</span>filter][condition][value]<span class="ot">=</span>admin</span>
<span id="cb46-437"><a href="#cb46-437" aria-hidden="true" tabindex="-1"></a>filter[name<span class="sc">-</span>filter][condition][memberOf]<span class="ot">=</span>and<span class="sc">-</span>group</span>
<span id="cb46-438"><a href="#cb46-438" aria-hidden="true" tabindex="-1"></a>filter[status<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>status</span>
<span id="cb46-439"><a href="#cb46-439" aria-hidden="true" tabindex="-1"></a>filter[status<span class="sc">-</span>filter][condition][value]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-440"><a href="#cb46-440" aria-hidden="true" tabindex="-1"></a>filter[status<span class="sc">-</span>filter][condition][memberOf]<span class="ot">=</span>and<span class="sc">-</span>group</span>
<span id="cb46-441"><a href="#cb46-441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-442"><a href="#cb46-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-443"><a href="#cb46-443" aria-hidden="true" tabindex="-1"></a>You don't really have to add the and-group but I find that a bit easier usually.</span>
<span id="cb46-444"><a href="#cb46-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-445"><a href="#cb46-445" aria-hidden="true" tabindex="-1"></a><span class="fu">### Grouping Grouped Filters</span></span>
<span id="cb46-446"><a href="#cb46-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-447"><a href="#cb46-447" aria-hidden="true" tabindex="-1"></a>Like mentioned in the grouping section, you can put groups into other groups.</span>
<span id="cb46-448"><a href="#cb46-448" aria-hidden="true" tabindex="-1"></a>WHERE (user.name = admin) AND (node.sticky = 1 OR node.promoted = 1)</span>
<span id="cb46-449"><a href="#cb46-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-450"><a href="#cb46-450" aria-hidden="true" tabindex="-1"></a>To do this we put sticky and promoted into a group with conjunction OR. Create a group with conjunction AND and put</span>
<span id="cb46-451"><a href="#cb46-451" aria-hidden="true" tabindex="-1"></a>the admin filter, and the promoted/sticky OR group into that.</span>
<span id="cb46-452"><a href="#cb46-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-453"><a href="#cb46-453" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-454"><a href="#cb46-454" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an AND and an OR GROUP</span></span>
<span id="cb46-455"><a href="#cb46-455" aria-hidden="true" tabindex="-1"></a>filter[and<span class="sc">-</span>group][group][conjunction]<span class="ot">=</span>AND</span>
<span id="cb46-456"><a href="#cb46-456" aria-hidden="true" tabindex="-1"></a>filter[or<span class="sc">-</span>group][group][conjunction]<span class="ot">=</span>OR</span>
<span id="cb46-457"><a href="#cb46-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-458"><a href="#cb46-458" aria-hidden="true" tabindex="-1"></a><span class="co"># Put the OR group into the AND GROUP</span></span>
<span id="cb46-459"><a href="#cb46-459" aria-hidden="true" tabindex="-1"></a>filter[or<span class="sc">-</span>group][group][memberOf]<span class="ot">=</span>and<span class="sc">-</span>group</span>
<span id="cb46-460"><a href="#cb46-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-461"><a href="#cb46-461" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the admin filter and put it in the AND GROUP</span></span>
<span id="cb46-462"><a href="#cb46-462" aria-hidden="true" tabindex="-1"></a>filter[admin<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>uid.name</span>
<span id="cb46-463"><a href="#cb46-463" aria-hidden="true" tabindex="-1"></a>filter[admin<span class="sc">-</span>filter][condition][value]<span class="ot">=</span>admin</span>
<span id="cb46-464"><a href="#cb46-464" aria-hidden="true" tabindex="-1"></a>filter[admin<span class="sc">-</span>filter][condition][memberOf]<span class="ot">=</span>and<span class="sc">-</span>group</span>
<span id="cb46-465"><a href="#cb46-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-466"><a href="#cb46-466" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the sticky filter and put it in the OR GROUP</span></span>
<span id="cb46-467"><a href="#cb46-467" aria-hidden="true" tabindex="-1"></a>filter[sticky<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>sticky</span>
<span id="cb46-468"><a href="#cb46-468" aria-hidden="true" tabindex="-1"></a>filter[sticky<span class="sc">-</span>filter][condition][value]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-469"><a href="#cb46-469" aria-hidden="true" tabindex="-1"></a>filter[sticky<span class="sc">-</span>filter][condition][memberOf]<span class="ot">=</span>or<span class="sc">-</span>group</span>
<span id="cb46-470"><a href="#cb46-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-471"><a href="#cb46-471" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the promoted filter and put it in the OR GROUP</span></span>
<span id="cb46-472"><a href="#cb46-472" aria-hidden="true" tabindex="-1"></a>filter[promote<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>promote</span>
<span id="cb46-473"><a href="#cb46-473" aria-hidden="true" tabindex="-1"></a>filter[promote<span class="sc">-</span>filter][condition][value]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb46-474"><a href="#cb46-474" aria-hidden="true" tabindex="-1"></a>filter[promote<span class="sc">-</span>filter][condition][memberOf]<span class="ot">=</span>or<span class="sc">-</span>group</span>
<span id="cb46-475"><a href="#cb46-475" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-476"><a href="#cb46-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-477"><a href="#cb46-477" aria-hidden="true" tabindex="-1"></a><span class="fu">### Filter for nodes where 'title' CONTAINS "Foo"</span></span>
<span id="cb46-478"><a href="#cb46-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-479"><a href="#cb46-479" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-480"><a href="#cb46-480" aria-hidden="true" tabindex="-1"></a>SHORT</span>
<span id="cb46-481"><a href="#cb46-481" aria-hidden="true" tabindex="-1"></a>filter[title][operator]<span class="ot">=</span>CONTAINS<span class="sc">&amp;</span>filter[title][value]<span class="ot">=</span>Foo</span>
<span id="cb46-482"><a href="#cb46-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-483"><a href="#cb46-483" aria-hidden="true" tabindex="-1"></a>NORMAL</span>
<span id="cb46-484"><a href="#cb46-484" aria-hidden="true" tabindex="-1"></a>filter[title<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>title</span>
<span id="cb46-485"><a href="#cb46-485" aria-hidden="true" tabindex="-1"></a>filter[title<span class="sc">-</span>filter][condition][operator]<span class="ot">=</span>CONTAINS</span>
<span id="cb46-486"><a href="#cb46-486" aria-hidden="true" tabindex="-1"></a>filter[title<span class="sc">-</span>filter][condition][value]<span class="ot">=</span>Foo</span>
<span id="cb46-487"><a href="#cb46-487" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-488"><a href="#cb46-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-489"><a href="#cb46-489" aria-hidden="true" tabindex="-1"></a><span class="fu">### Filter by non-standard complex fields (e.g. addressfield)</span></span>
<span id="cb46-490"><a href="#cb46-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-491"><a href="#cb46-491" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-492"><a href="#cb46-492" aria-hidden="true" tabindex="-1"></a>FILTER BY LOCALITY</span>
<span id="cb46-493"><a href="#cb46-493" aria-hidden="true" tabindex="-1"></a>filter[field_address][condition][path]<span class="ot">=</span>field_address.locality</span>
<span id="cb46-494"><a href="#cb46-494" aria-hidden="true" tabindex="-1"></a>filter[field_address][condition][value]<span class="ot">=</span>Mordor</span>
<span id="cb46-495"><a href="#cb46-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-496"><a href="#cb46-496" aria-hidden="true" tabindex="-1"></a>FILTER BY ADDRESS LINE</span>
<span id="cb46-497"><a href="#cb46-497" aria-hidden="true" tabindex="-1"></a>filter[address][condition][path]<span class="ot">=</span>field_address.address_line1</span>
<span id="cb46-498"><a href="#cb46-498" aria-hidden="true" tabindex="-1"></a>filter[address][condition][value]<span class="ot">=</span>Rings Street</span>
<span id="cb46-499"><a href="#cb46-499" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-500"><a href="#cb46-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-501"><a href="#cb46-501" aria-hidden="true" tabindex="-1"></a><span class="fu">### Filtering on Taxonomy term values (e.g. tags)</span></span>
<span id="cb46-502"><a href="#cb46-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-503"><a href="#cb46-503" aria-hidden="true" tabindex="-1"></a>For filtering you'll need to use the machine name of the vocabulary and the field which is present on your node.</span>
<span id="cb46-504"><a href="#cb46-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-505"><a href="#cb46-505" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-506"><a href="#cb46-506" aria-hidden="true" tabindex="-1"></a>filter[taxonomy_term<span class="sc">--</span>tags][condition][path]<span class="ot">=</span>field_tags.name</span>
<span id="cb46-507"><a href="#cb46-507" aria-hidden="true" tabindex="-1"></a>filter[taxonomy_term<span class="sc">--</span>tags][condition][operator]<span class="ot">=</span>IN</span>
<span id="cb46-508"><a href="#cb46-508" aria-hidden="true" tabindex="-1"></a>filter[taxonomy_term<span class="sc">--</span>tags][condition][value][]<span class="ot">=</span>tagname</span>
<span id="cb46-509"><a href="#cb46-509" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-510"><a href="#cb46-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-511"><a href="#cb46-511" aria-hidden="true" tabindex="-1"></a><span class="fu">### Filtering on Date (Date only, no time)</span></span>
<span id="cb46-512"><a href="#cb46-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-513"><a href="#cb46-513" aria-hidden="true" tabindex="-1"></a>Dates are filterable. Pass a time string that adheres to the ISO-8601 format.</span>
<span id="cb46-514"><a href="#cb46-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-515"><a href="#cb46-515" aria-hidden="true" tabindex="-1"></a>This example is for a Date field that is set to be date only (no time).</span>
<span id="cb46-516"><a href="#cb46-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-517"><a href="#cb46-517" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-518"><a href="#cb46-518" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][path]<span class="ot">=</span>field_test_date</span>
<span id="cb46-519"><a href="#cb46-519" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D</span>
<span id="cb46-520"><a href="#cb46-520" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][value]<span class="ot">=</span><span class="dv">2019-06-27</span></span>
<span id="cb46-521"><a href="#cb46-521" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-522"><a href="#cb46-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-523"><a href="#cb46-523" aria-hidden="true" tabindex="-1"></a>This example is for a Date field that supports date and time.</span>
<span id="cb46-524"><a href="#cb46-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-525"><a href="#cb46-525" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-526"><a href="#cb46-526" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][path]<span class="ot">=</span>field_test_date</span>
<span id="cb46-527"><a href="#cb46-527" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D</span>
<span id="cb46-528"><a href="#cb46-528" aria-hidden="true" tabindex="-1"></a>filter[datefilter][condition][value]<span class="ot">=</span><span class="dv">2019-06-27</span>T16<span class="sc">%3A00%</span><span class="dv">3</span>A00</span>
<span id="cb46-529"><a href="#cb46-529" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-530"><a href="#cb46-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-531"><a href="#cb46-531" aria-hidden="true" tabindex="-1"></a>Note that timestamp fields (like created or changed) currently must use a timestamp for filtering:</span>
<span id="cb46-532"><a href="#cb46-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-533"><a href="#cb46-533" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-534"><a href="#cb46-534" aria-hidden="true" tabindex="-1"></a>filter[recent][condition][path]<span class="ot">=</span>created</span>
<span id="cb46-535"><a href="#cb46-535" aria-hidden="true" tabindex="-1"></a>filter[recent][condition][operator]<span class="ot">=</span>%<span class="dv">3</span>D</span>
<span id="cb46-536"><a href="#cb46-536" aria-hidden="true" tabindex="-1"></a>filter[recent][condition][value]<span class="ot">=</span><span class="dv">1591627496</span></span>
<span id="cb46-537"><a href="#cb46-537" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-538"><a href="#cb46-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-539"><a href="#cb46-539" aria-hidden="true" tabindex="-1"></a><span class="fu">###  Filtering on empty array fields</span></span>
<span id="cb46-540"><a href="#cb46-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-541"><a href="#cb46-541" aria-hidden="true" tabindex="-1"></a>This example is for a Checkboxes/Radio buttons field with no value selected. Consider you have a field that is a checkbox. You would like to get all nodes that do not have that value checked. When checked, the JSON API returns an array:</span>
<span id="cb46-542"><a href="#cb46-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-543"><a href="#cb46-543" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-544"><a href="#cb46-544" aria-hidden="true" tabindex="-1"></a><span class="st">"my_field"</span><span class="sc">:</span>[<span class="st">"checked"</span>]</span>
<span id="cb46-545"><a href="#cb46-545" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-546"><a href="#cb46-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-547"><a href="#cb46-547" aria-hidden="true" tabindex="-1"></a>When unchecked, the JSON API returns an empty array:</span>
<span id="cb46-548"><a href="#cb46-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-549"><a href="#cb46-549" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-550"><a href="#cb46-550" aria-hidden="true" tabindex="-1"></a><span class="st">"my_field"</span><span class="sc">:</span> [] </span>
<span id="cb46-551"><a href="#cb46-551" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb46-552"><a href="#cb46-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-553"><a href="#cb46-553" aria-hidden="true" tabindex="-1"></a>If you would like to get all fields that are unchecked, you must use the IS NULL on the array as follows (without a value):</span>
<span id="cb46-554"><a href="#cb46-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-555"><a href="#cb46-555" aria-hidden="true" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb46-556"><a href="#cb46-556" aria-hidden="true" tabindex="-1"></a>filter[my<span class="sc">-</span>filter][condition][path]<span class="ot">=</span>my_field</span>
<span id="cb46-557"><a href="#cb46-557" aria-hidden="true" tabindex="-1"></a>filter[my<span class="sc">-</span>filter][condition][operator]<span class="ot">=</span>IS <span class="cn">NULL</span></span>
<span id="cb46-558"><a href="#cb46-558" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>