<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="This is a personal, informal guide to rewriting an R package. It is a work in progress and will be updated as I learn more about the process.">
<title>HealthCare.Gov â€“ Refactoring &lt;b&gt;provider&lt;/b&gt;&lt;sup&gt;&lt;i&gt;2&lt;/i&gt;&lt;/sup&gt;
</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./hgov_abreg.html" rel="next">
<link href="./caid_rebate.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-c6caf0dab30572f313b705d3bc259a8d.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-29e23954851316721a7d55d9f38d2f32.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
</head>
<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./api_hc.html">HealthCare.Gov</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Refactoring <b>provider</b><sup><i>2</i></sup></a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/andrewallenbruce/providerdev" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_backend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Backend</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Groups</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_url.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">URL Object</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_args.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Params</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_query.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Query</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_download.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Downloads</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk_search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Comprehensive Search</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">APIs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api_nppes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">NPI Registry</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api_qpp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">QPP Eligibility</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api_ndc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">National Drug Codes</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_care.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Medicare</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_ahqr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">AHRQ PSI-11 Rates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_aip.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">ACO AIP Plan</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_cpc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">CPC Initiative</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_joint.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Joint Model MSAs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_countyrisk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">County Risk Score</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_drahac.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">DRA HAC Measures</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_esrdgrp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">ESRD Group</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_enrollees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Provider Enrollment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care_rhc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Rural Health Clinics</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_prov.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Provider</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pro_affiliations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Facility Affiliations</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_open.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Open Payments</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_dashboard.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Summary Dashboard</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_mcd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Medicaid</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./caid_acaful.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">ACA FUL</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./caid_rebate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Drug Rebate Program</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./api_hc.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">HealthCare.Gov</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hgov_abreg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">AB Registration</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Demos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./demo_geo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Geospatial</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faq_syntax.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JSON:API Syntax</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faq_schema.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">DCAT Metadata</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#links" id="toc-links" class="nav-link active" data-scroll-target="#links">Links</a></li>
  <li><a href="#load-catalog" id="toc-load-catalog" class="nav-link" data-scroll-target="#load-catalog">Load Catalog</a></li>
  </ul><div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://github.com/andrewallenbruce/provider"><i class="bi bi-file-code"></i>Provider GitHub</a></li><li><a href="https://github.com/andrewallenbruce/providertwo"><i class="bi bi-file-code"></i>providertwo</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-hcapi" class="quarto-section-identifier">HealthCare.Gov</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="links" class="level2"><h2 class="anchored" data-anchor-id="links">Links</h2>
<ul>
<li><a href="https://data.healthcare.gov/api">HealthCare.gov API</a></li>
<li>Limit: <code>500L</code>
</li>
</ul></section><section id="load-catalog" class="level2"><h2 class="anchored" data-anchor-id="load-catalog">Load Catalog</h2>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">join_title</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span> <span class="fu">join</span><span class="op">(</span>x <span class="op">=</span> <span class="va">a</span>, y <span class="op">=</span> <span class="va">b</span>, on <span class="op">=</span> <span class="st">"title"</span>, verbose <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="va">make_join_col</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span>, <span class="va">col</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">na_if</span><span class="op">(</span><span class="fu">flatten_column</span><span class="op">(</span><span class="fu">map</span><span class="op">(</span><span class="va">x</span><span class="op">[[</span><span class="fu">ensym</span><span class="op">(</span><span class="va">col</span><span class="op">)</span><span class="op">]</span><span class="op">]</span>, \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">get_elem</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="st">"data"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="st">""</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">catalog_hc</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">fload</span><span class="op">(</span><span class="st">"https://data.healthcare.gov/api/1/metastore/schemas/dataset/items?show-reference-ids"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">as_tbl</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">mtt</span><span class="op">(</span></span>
<span>      modified    <span class="op">=</span> <span class="fu">as_date</span><span class="op">(</span><span class="va">modified</span><span class="op">)</span>,</span>
<span>      issued      <span class="op">=</span> <span class="fu">as_date</span><span class="op">(</span><span class="va">issued</span><span class="op">)</span>,</span>
<span>      periodicity <span class="op">=</span> <span class="fu">recode_iso8601</span><span class="op">(</span><span class="va">accrualPeriodicity</span><span class="op">)</span>,</span>
<span>      contact     <span class="op">=</span> <span class="fu">reduce_contact</span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">contactPoint</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">slt</span><span class="op">(</span></span>
<span>      <span class="va">title</span>,</span>
<span>      <span class="va">identifier</span>,</span>
<span>      <span class="va">description</span>,</span>
<span>      <span class="va">periodicity</span>,</span>
<span>      <span class="va">issued</span>,</span>
<span>      <span class="va">modified</span>,</span>
<span>      <span class="va">contact</span>,</span>
<span>      <span class="va">keyword</span>,</span>
<span>      <span class="va">distribution</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">keys</span> <span class="op">&lt;-</span> <span class="fu">new_df</span><span class="op">(</span>title <span class="op">=</span> <span class="va">x</span><span class="op">$</span><span class="va">title</span>, keyword <span class="op">=</span> <span class="fu">make_join_col</span><span class="op">(</span><span class="va">x</span>, <span class="va">keyword</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">sbt</span><span class="op">(</span><span class="va">keyword</span> <span class="op">!=</span> <span class="st">"healthcare"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">mtt</span><span class="op">(</span>keyword <span class="op">=</span> <span class="fu">stri_replace_all_regex</span><span class="op">(</span><span class="va">keyword</span>, <span class="st">", healthcare|healthcare, "</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">rowbind</span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">distribution</span>, fill <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">tvec</span> <span class="op">&lt;-</span> <span class="fu">vctrs</span><span class="fu">::</span><span class="fu"><a href="https://vctrs.r-lib.org/reference/vec-rep.html">vec_rep_each</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">title</span>, <span class="fu">fnobs</span><span class="op">(</span><span class="fu">get_elem</span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">distribution</span>, <span class="st">"data"</span>, DF.as.list <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">download</span> <span class="op">&lt;-</span> <span class="fu">new_tbl</span><span class="op">(</span>title <span class="op">=</span> <span class="va">tvec</span>, download <span class="op">=</span> <span class="fu">delist</span><span class="op">(</span><span class="fu">get_elem</span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">data</span>, <span class="st">"downloadURL"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">fcount</span><span class="op">(</span><span class="va">title</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    sets <span class="op">=</span> <span class="fu">join_title</span><span class="op">(</span><span class="fu">slt</span><span class="op">(</span><span class="va">x</span>, <span class="op">-</span><span class="va">keyword</span>, <span class="op">-</span><span class="va">distribution</span><span class="op">)</span>, <span class="va">keys</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">join_title</span><span class="op">(</span><span class="va">download</span> <span class="op">|&gt;</span> <span class="fu">sbt</span><span class="op">(</span><span class="va">N</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">slt</span><span class="op">(</span><span class="op">-</span><span class="va">N</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    download <span class="op">=</span> <span class="va">download</span> <span class="op">|&gt;</span> <span class="fu">sbt</span><span class="op">(</span><span class="va">N</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">catalog_hc</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$sets
# A tibble: 315 Ã— 9
   title        identifier description periodicity issued     modified   contact
 * &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;       &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;  
 1 Agent Brokeâ€¦ e4rr-zk4i  "Dataset."  Decenniallâ€¦ 2018-07-31 2025-03-24 FFMProâ€¦
 2 AB Registraâ€¦ wb6u-x2ny  "Access Daâ€¦ Decenniallâ€¦ 2016-03-30 2025-03-24 FFMProâ€¦
 3 AB Suspensiâ€¦ e8uy-7rnp  "Access Daâ€¦ Decenniallâ€¦ 2016-05-03 2025-03-24 FFMProâ€¦
 4 Network PUFâ€¦ efch-75vp  "The Netwoâ€¦ &lt;NA&gt;        2020-10-09 2021-08-11 Andy Eâ€¦
 5 Service Areâ€¦ cqrd-buzn  "The Serviâ€¦ &lt;NA&gt;        2020-10-09 2021-08-11 Andy Eâ€¦
 6 Business Ruâ€¦ g6ja-xx6f  "The Businâ€¦ &lt;NA&gt;        2020-10-09 2021-08-11 Andy Eâ€¦
 7 Plan Attribâ€¦ a2km-i629  "The Plan â€¦ &lt;NA&gt;        2020-10-09 2021-08-11 Andy Eâ€¦
 8 Benefits anâ€¦ 86mw-kems  "The Benefâ€¦ &lt;NA&gt;        2020-10-09 2021-08-11 Andy Eâ€¦
 9 Rate PUF - â€¦ 7wqt-7ky9  "The Rate â€¦ &lt;NA&gt;        2020-10-09 2021-08-11 Andy Eâ€¦
10 Issuer_Partâ€¦ 5k5i-wzex  "The datasâ€¦ Decenniallâ€¦ 2020-06-05 2025-01-13 Dominiâ€¦
# â„¹ 305 more rows
# â„¹ 2 more variables: keyword &lt;chr&gt;, download &lt;chr&gt;

$download
# A tibble: 8 Ã— 3
  title                                  download                              N
  &lt;chr&gt;                                  &lt;chr&gt;                             &lt;int&gt;
1 2016 QHP Landscape SHOP Market Medical https://data.healthcare.gov/dataâ€¦     2
2 2016 QHP Landscape SHOP Market Medical https://data.healthcare.gov/dataâ€¦     2
3 Quality PUF - PY2023                   https://edit.data.healthcare.govâ€¦     2
4 Quality PUF - PY2023                   https://edit.data.healthcare.govâ€¦     2
5 Quality PUF - PY2024                   https://data.healthcare.gov/siteâ€¦     2
6 Quality PUF - PY2024                   https://data.healthcare.gov/siteâ€¦     2
7 Quality PUF - PY2025                   https://data.healthcare.gov/siteâ€¦     2
8 Quality PUF - PY2025                   https://data.healthcare.gov/siteâ€¦     2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/format.html">formatOL</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span><span class="op">$</span><span class="va">sets</span><span class="op">$</span><span class="va">title</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  1. Agent Broker Registration Tracker
  2. AB Registration Completion List
  3. AB Suspension and Termination List
  4. Network PUF - 2021
  5. Service Area PUF - 2021
  6. Business Rules PUF - 2021
  7. Plan Attributes PUF - 2021
  8. Benefits and Cost Sharing PUF - 2021
  9. Rate PUF - 2021
 10. Issuer_Partner_Lookup
 11. Plan ID Crosswalk PUF - 2021
 12. Rolling Draft ECP List
 13. Auto-population File
 14. RY2019 MLR Dataset 12042020
 15. Quality PUF - PY2021
 16. Plan ID Crosswalk PUF - 2020
 17. Service Area PUF - 2020
 18. Rate PUF - 2020
 19. Plan Attributes PUF - 2020
 20. Network PUF - 2020
 21. Benefits and Cost Sharing PUF -2020
 22. Business Rules PUF - 2020
 23. Issuer Partner Directory - Reference Text
 24. NIPR Valid Lines of Authority List
 25. RY2018 MLR Dataset 12032019
 26. Direct Enrollment Partners
 27. Issuer and DE Partner Directory
 28. Quality PUF - PY2020
 29. Benefits Cost Sharing PUF - 2019
 30. Rate PUF - 2019
 31. Service Area PUF - 2019
 32. Plan Attributes PUF - 2019
 33. Network PUF - 2019
 34. Business Rules PUF - 2019
 35. RY2013 MLR Dataset 20140716
 36. RY2012 MLR Dataset 20130805
 37. Agent Broker Registration Tracker Glossary
 38. QHP PY2018 Medical - SHOP - Landscape 10-23-2017
 39. QHP PY2018 Dent- SHOP- Land-10-18-2017
 40. QHP PY2018 Dent- Indi- Land-10-18-2017
 41. QHP PY2018 Medi- Indi- Land
 42. MLR RY2017 Socrata Dataset 20181031
 43. QHP Landscape Individual Market Medical
 44. Plan ID Crosswalk PUF - 2019
 45. Quality PUF - PY2019
 46. Response Codes
 47. Benefits Cost Sharing PUF - 2018
 48. Rate PUF - 2018
 49. Service Area PUF - 2018
 50. Plan Attributes PUF - 2018
 51. Business Rules PUF - 2018
 52. Network PUF - 2018
 53. MLR RY2016 Socrata Dataset 01192018
 54. Rate PUF - 2015
 55. Benefits and Cost Sharing PUF
 56. Plan Attributes PUF
 57. Business Rules PUF
 58. Service Area PUF
 59. Network PUF
 60. Benefits and Cost Sharing PUF - 2014
 61. Rate PUF - 2014
 62. Plan ID Crosswalk PUF
 63. Plan Attributes PUF - 2014
 64. Network PUF - 2014
 65. Business Rules PUF - 2014
 66. Service Area PUF - 2014
 67. Plan ID Crosswalk PUF - 2018
 68. Service Area PUF - 2017
 69. Business Rules PUF - 2017
 70. Benefits Cost Sharing PUF - 2017
 71. Rate PUF - 2017
 72. Plan Attributes PUF - 2017
 73. Network PUF - 2017
 74. 2017 QHP Landscape SHOP Market Dental
 75. 2017 QHP Landscape SHOP Market Medical
 76. 2017 QHP Landscape Individual Market Medical
 77. 2017 QHP Landscape Individual Market Dental
 78. States
 79. Counties
 80. Quality PUF - 2017
 81. Transparency In Coverage PUF - 2017
 82. Plan ID Crosswalk PUF - 2017
 83. MLR RY2015 Socrata Dataset 10272016
 84. 2016 QHP Landscape SHOP Market Dental
 85. 2016 QHP Landscape SHOP Market Medical
 86. 2016 QHP Landscape Individual Market Medical
 87. 2016 QHP Landscape Individual Market Dental
 88. Benefits Cost Sharing PUF 2016
 89. Rate PUF 2016
 90. Plan Attributes PUF 2016
 91. Business Rules PUF 2016
 92. Service Area PUF 2016
 93. Network PUF 2016
 94. Plan Crosswalk PUF 2016
 95. 2016 QHP Landscape HI Individual Market Dental
 96. 2016 QHP Landscape NV SHOP Market Medical
 97. 2016 QHP Landscape NV SHOP Market Dental
 98. 2016 QHP Landscape NV Individual Market Dental
 99. 2016 QHP Landscape HI Individual Market Medical
100. 2016 QHP Landscape OR Individual Market Dental
101. 2016 QHP Landscape NM Individual Market Dental
102. 2016 QHP Landscape NV Individual Market Medical
103. 2016 QHP Landscape OR Individual Market Medical
104. 2016 QHP Landscape NM Individual Market Medical
105. MLR RY2014 Socrata Dataset 10302015
106. 2015 QHP Landscape OR Individual Market Medical
107. 2015 QHP Landscape OR Individual Market Dental
108. 2015 QHP Landscape NV SHOP Market Medical
109. 2015 QHP Landscape NV Individual Market Medical
110. 2015 QHP Landscape NV SHOP Market Dental
111. 2015 QHP Landscape NV Individual Market Dental
112. 2015 QHP Landscape NM Individual Market Medical
113. 2015 QHP Landscape NM Individual Market Dental
114. 2015 QHP Landscape Individual Market Medical
115. 2015 QHP Landscape SHOP Market Medical
116. 2015 QHP Landscape SHOP Market Dental
117. 2015 QHP Landscape Individual Market Dental
118. 2015 Qualifying Health Plan Selections by Type of Consumer and
     County, as of February 22, 2015
119. 2015 Qualifying Health Plan Selections by APTC and County, as of
     February 22, 2015
120. 2015 Qualifying Health Plan Selections by CSR and County, as of
     February 22, 2015
121. 2015 Qualifying Health Plan Selections by Metal Level and County,
     as of February 22, 2015
122. 2015 Qualifying Health Plan Selections by Household Income as a
     Percent of the Federal Poverty Level and County, as of February
     22, 2015
123. 2015 Qualifying Health Plan Selections by Race/ Ethnicity and
     County, as of February 22, 2015
124. 2015 Qualifying Health Plan Selections by Age Group and County, as
     of February 22, 2015
125. QHP Landscape SHOP Market Medical
126. QHP Landscape ID SHOP Market Dental
127. QHP Landscape SHOP Market Dental
128. QHP Landscape Individual Market Dental
129. QHP Landscape ID SHOP Market Medical
130. QHP Landscape ID Individual Market Dental
131. QHP Landscape ID Individual Market Medical
132. QHP Landscape NM Individual Market Dental
133. QHP Landscape NM Individual Market Medical
134. QHP Landscape Health Plan Business Rule Variables
135. SLCSP - County-Zip Reference Data
136. County Service Areas
137. Catastrophic Plans for People with Cancelled Policies
138. Helpful Contacts Admins
139. RY2011 MLR Dataset 20121206
140. QHP Landscape PY2021 Individual Dental Zip File
141. QHP Landscape PY2021 Individual Medical Zip File
142. QHP Landscape PY2021 Medical SHOP Zip File
143. QHP Landscape PY2021 Dental SHOP Zip File
144. QHP Landscape Instructions PY2021 Medical SHOP
145. QHP Landscape Instructions PY2021 Dental SHOP
146. QHP Landscape Instructions PY2021 Individual Medical
147. QHP Landscape Instructions PY2021 Individual Dental
148. QHP Landscape PY2020 Medical SHOP Zip File
149. QHP Landscape PY2020 Dental SHOP Zip File
150. QHP Landscape PY2020 Individual Medical Zip File
151. QHP Landscape PY2020 Individual Dental Zip File
152. QHP Landscape Instructions PY2020 Medical SHOP
153. QHP Landscape Instructions PY2020 Dental SHOP
154. QHP Landscape Instructions PY2020 Individual Medical
155. PY2019 SHOP Market Medical Zip File
156. QHP PY2019 Dental SHOP Zip File
157. QHP PY19 Dental Individual Landscape Zip File
158. QHP PY19 Medical Individual Landscape Zip File
159. QHP PY19 Medical SHOP Landscape Instructions
160. QHP PY19 Medical Individual Landscape Instructions
161. QHP PY 2019 Dental SHOP Landscape Instructions
162. QHP PY19 Dental Individual Landscape Instructions
163. QHP PY 2018 Dental SHOP Landscape Instructions
164. QHP PY18 Medical SHOP Landscape Instructions
165. QHP PY2018 Dent- SHOP- Land-10-18-2017.zip
166. QHP PY2018 Medi- Indi- Land-10-23-2017.zip
167. QHP PY18 Dental Individual Landscape Instructions
168. QHP PY18 Medical Individual Landscape Instructions
169. QHP PY2018 Medi- SHOP- Land-10-23-2017.zip
170. QHP PY2018 Dent- Indi- Land-10-18-2017.zip
171. 2017 QHP Landscape SHOP Market Dental Instructions
172. 2017 QHP Landscape Individual Market Dental Instructions
173. 2017 QHP Landscape Individual Market Medical Instructions
174. 2017 QHP Landscape SHOP Market Medical Instructions
175. 2017 QHP Landscape SHOP Market Dental Excel
176. 2017 QHP Landscape Individual Market Dental Excel
177. 2017 QHP Landscape SHOP Market Medical Excel
178. 2017 QHP Landscape Individual Market Medical Excel
179. 2016 QHP Landscape SHOP Market Medical Instructions
180. 2016 QHP Landscape Individual Market Medical Instructions
181. 2016 QHP Landscape SHOP Market Dental Instructions
182. 2016 QHP Landscape Individual Market Dental Instructions
183. 2016 QHP Landscape SHOP Market Medical Excel
184. 2016 QHP Landscape Individual Market Medical Excel
185. 2016 QHP Landscape SHOP Market Dental Excel
186. 2016 QHP Landscape Individual Market Dental Excel
187. 2016 QHP Landscape SHOP Market Medical
188. 2016 QHP Landscape HI Individual Market Medical Instructions
189. 2016 QHP Landscape HI Individual Market Dental Instructions
190. 2016 QHP Landscape OR Individual Market Medical Instructions
191. 2016 QHP Landscape OR Individual Market Dental Instructions
192. 2016 QHP Landscape NV SHOP Market Medical Instructions
193. 2016 QHP Landscape NV Individual Market Medical Instructions
194. 2016 QHP Landscape NV SHOP Market Dental Instructions
195. 2016 QHP Landscape NV Individual Market Dental Instructions
196. 2016 QHP Landscape NM Individual Market Medical Instructions
197. 2016 QHP Landscape NM Individual Market Dental Instructions
198. 2016 QHP Landscape HI Individual Market Medical Excel
199. 2016 QHP Landscape HI Individual Market Dental Excel
200. 2016 QHP Landscape OR Individual Market Medical Excel
201. 2016 QHP Landscape OR Individual Market Dental Excel
202. 2016 QHP Landscape NV SHOP Market Medical Excel
203. 2016 QHP Landscape NV Individual Market Medical Excel
204. 2016 QHP Landscape NV SHOP Market Dental Excel
205. 2016 QHP Landscape NV Individual Market Dental Excel
206. 2016 QHP Landscape NM Individual Market Medical Excel
207. 2016 QHP Landscape NM Individual Market Dental Excel
208. 2015 QHP Landscape OR Individual Market Medical Instructions
209. 2015 QHP Landscape OR Individual Market Dental Instructions
210. 2015 QHP Landscape NV SHOP Market Medical Instructions
211. 2015 QHP Landscape NV Individual Market Medical Instructions
212. 2015 QHP Landscape NV SHOP Market Dental Instructions
213. 2015 QHP Landscape NV Individual Market Dental Instructions
214. 2015 QHP Landscape NM Individual Market Medical Instructions
215. 2015 QHP Landscape NM Individual Market Dental Instructions
216. 2015 QHP Landscape SHOP Market Medical Instructions
217. 2015 QHP Landscape Individual Market Medical Instructions
218. 2015 QHP Landscape SHOP Market Dental Instructions
219. 2015 QHP Landscape Individual Market Dental Instructions
220. 2015 QHP Landscape OR Individual Market Medical Excel
221. 2015 QHP Landscape OR Individual Market Dental Excel
222. 2015 QHP Landscape NV SHOP Market Medical Excel
223. 2015 QHP Landscape NV Individual Market Medical Excel
224. 2015 QHP Landscape NV SHOP Market Dental Excel
225. 2015 QHP Landscape NV Individual Market Dental Excel
226. 2015 QHP Landscape NM Individual Market Medical Excel
227. 2015 QHP Landscape Individual Market Medical Excel
228. 2015 QHP Landscape SHOP Market Medical Excel
229. 2015 QHP Landscape NM Individual Market Dental Excel
230. 2015 QHP Landscape SHOP Market Dental Excel
231. 2015 QHP Landscape Individual Market Dental Excel
232. QHP Landscape Individual Market Medical Excel
233. QHP Landscape Individual Market Dental Excel
234. QHP Landscape SHOP Market Medical Excel
235. QHP Landscape SHOP Market Dental Excel
236. QHP Landscape ID Individual Market Dental Excel
237. QHP Landscape ID Individual Market Medical Excel
238. QHP Landscape ID SHOP Market Dental Excel
239. QHP Landscape ID SHOP Market Medical Excel
240. QHP Landscape NM Individual Market Dental Excel
241. QHP Landscape NM Individual Market Medical Excel
242. Plan Attributes PUF - PY2022
243. Benefits and Cost Sharing PUF - PY2022
244. Business Rules PUF - PY2022
245. Network PUF - PY2022
246. Rate PUF â€“ PY2022
247. Service Area PUF â€“ PY2022
248. Plan ID Crosswalk PUF â€“ PY2022
249. Transparency in Coverage PUF - PY2022
250. Machine Readable PUF - PY2022
251. QHP Landscape PY2022 Individual Medical
252. QHP Landscape PY2022 Medical SHOP
253. QHP Landscape PY2022 Individual Dental
254. QHP Landscape PY2022 Dental SHOP
255. QHP Landscape Instructions PY2022 Individual Medical
256. QHP Landscape Instructions PY2022 Medical SHOP
257. QHP Landscape Instructions PY2022 Individual Dental
258. QHP Landscape Instructions PY2022 Dental SHOP
259. Quality PUF - PY2022
260. Marketplace Agent/Broker NIPR Valid Lines of Authority, by State
261. QHP Landscape Instructions PY2023 Individual Medical
262. QHP Landscape PY2023 Individual Medical
263. QHP Landscape PY2023 Medical SHOP
264. QHP Landscape Instructions PY2023 Medical SHOP
265. QHP Landscape PY2023 Individual Dental
266. QHP Landscape Instructions PY2023 Individual Dental
267. QHP Landscape PY2023 Dental SHOP
268. QHP Landscape Instructions PY2023 Dental SHOP
269. Benefits and Cost Sharing PUF - PY2023
270. Business Rules PUF - PY2023
271. Network PUF - PY2023
272. Plan Attributes PUF - PY2023
273. Rate PUF â€“ PY2023
274. Service Area PUF â€“ PY2023
275. Plan ID Crosswalk PUF â€“ PY2023
276. Machine Readable PUF - PY2023
277. Transparency in Coverage PUF - PY2023
278. Quality PUF - PY2023
279. Find Local Help
280. QHP Landscape PY2024 Individual Medical
281. QHP Landscape Instructions PY2024 Individual Medical
282. QHP Landscape PY2024 Medical SHOP
283. QHP Landscape Instructions PY2024 Medical SHOP
284. QHP Landscape PY2024 Individual Dental
285. QHP Landscape Instructions PY2024 Individual Dental
286. QHP Landscape PY2024 Dental SHOP
287. QHP Landscape Instructions PY2024 Dental SHOP
288. Benefits and Cost Sharing PUF - PY2024
289. Business Rules PUF - PY2024
290. Network PUF - PY2024
291. Plan Attributes PUF - PY2024
292. Rate PUF - PY2024
293. Service Area PUF - PY2024
294. Plan ID Crosswalk PUF - PY2024
295. Machine Readable PUF - PY2024
296. Transparency in Coverage PUF - PY2024
297. Quality PUF - PY2024
298. QHP Landscape PY2025 Individual Medical
299. QHP Landscape Instructions PY2025 Individual Medical
300. QHP Landscape PY2025 Medical SHOP
301. QHP Landscape Instructions PY2025 Medical SHOP
302. QHP Landscape PY2025 Individual Dental
303. QHP Landscape Instructions PY2025 Individual Dental
304. QHP Landscape PY2025 Dental SHOP
305. QHP Landscape Instructions PY2025 Dental SHOP
306. Benefits and Cost Sharing PUF - PY2025
307. Business Rules PUF - PY2025
308. Network PUF - PY2025
309. Plan Attributes PUF - PY2025
310. Rate PUF â€“ PY2025
311. Service Area PUF â€“ PY2025
312. Plan ID Crosswalk PUF â€“ PY2025
313. Machine Readable PUF - PY2025
314. Transparency in Coverage PUF - PY2025
315. Quality PUF - PY2025</code></pre>
</div>
</div>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/andrewallenbruce\.github\.io\/providerdev\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./caid_rebate.html" class="pagination-link" aria-label="Drug Rebate Program">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Drug Rebate Program</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./hgov_abreg.html" class="pagination-link" aria-label="AB Registration">
        <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">AB Registration</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb6" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="an">output:</span><span class="co"> html_document</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu"># HealthCare.Gov {#sec-hcapi}</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup-common-01</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"includes/_common.R"</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="fu">## Links</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span><span class="co">[</span><span class="ot">HealthCare.gov API</span><span class="co">](https://data.healthcare.gov/api)</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="ss">   * </span>Limit: <span class="in">`500L`</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="fu">## Load Catalog</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>join_title <span class="ot">&lt;-</span> \(a, b) <span class="fu">join</span>(<span class="at">x =</span> a, <span class="at">y =</span> b, <span class="at">on =</span> <span class="st">"title"</span>, <span class="at">verbose =</span> <span class="dv">0</span>)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>make_join_col <span class="ot">&lt;-</span> \(x, col) {</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na_if</span>(<span class="fu">flatten_column</span>(<span class="fu">map</span>(x[[<span class="fu">ensym</span>(col)]], \(x) <span class="fu">get_elem</span>(<span class="fu">as.list</span>(x), <span class="st">"data"</span>))), <span class="st">""</span>)</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: hc_catalog</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>catalog_hc <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">fload</span>(<span class="st">"https://data.healthcare.gov/api/1/metastore/schemas/dataset/items?show-reference-ids"</span>)</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">|&gt;</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tbl</span>() <span class="sc">|&gt;</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mtt</span>(</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">modified    =</span> <span class="fu">as_date</span>(modified),</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">issued      =</span> <span class="fu">as_date</span>(issued),</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">periodicity =</span> <span class="fu">recode_iso8601</span>(accrualPeriodicity),</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>      <span class="at">contact     =</span> <span class="fu">reduce_contact</span>(x<span class="sc">$</span>contactPoint)</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slt</span>(</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>      title,</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>      identifier,</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>      description,</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>      periodicity,</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>      issued,</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>      modified,</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>      contact,</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>      keyword,</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>      distribution</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>  keys <span class="ot">&lt;-</span> <span class="fu">new_df</span>(<span class="at">title =</span> x<span class="sc">$</span>title, <span class="at">keyword =</span> <span class="fu">make_join_col</span>(x, keyword)) <span class="sc">|&gt;</span> </span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sbt</span>(keyword <span class="sc">!=</span> <span class="st">"healthcare"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mtt</span>(<span class="at">keyword =</span> <span class="fu">stri_replace_all_regex</span>(keyword, <span class="st">", healthcare|healthcare, "</span>, <span class="st">""</span>))</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="fu">rowbind</span>(x<span class="sc">$</span>distribution, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>  tvec <span class="ot">&lt;-</span> vctrs<span class="sc">::</span><span class="fu">vec_rep_each</span>(x<span class="sc">$</span>title, <span class="fu">fnobs</span>(<span class="fu">get_elem</span>(x<span class="sc">$</span>distribution, <span class="st">"data"</span>, <span class="at">DF.as.list =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>  download <span class="ot">&lt;-</span> <span class="fu">new_tbl</span>(<span class="at">title =</span> tvec, <span class="at">download =</span> <span class="fu">delist</span>(<span class="fu">get_elem</span>(d<span class="sc">$</span>data, <span class="st">"downloadURL"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fcount</span>(title, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">sets =</span> <span class="fu">join_title</span>(<span class="fu">slt</span>(x, <span class="sc">-</span>keyword, <span class="sc">-</span>distribution), keys) <span class="sc">|&gt;</span> <span class="fu">join_title</span>(download <span class="sc">|&gt;</span> <span class="fu">sbt</span>(N <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="fu">slt</span>(<span class="sc">-</span>N)),</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">download =</span> download <span class="sc">|&gt;</span> <span class="fu">sbt</span>(N <span class="sc">&gt;</span> <span class="dv">1</span>)</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">catalog_hc</span>()</span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">formatOL</span>(</span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>  x<span class="sc">$</span>sets<span class="sc">$</span>title</span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">writeLines</span>()</span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>